function e(e,t,n,i){Object.defineProperty(e,t,{get:n,set:i,enumerable:!0,configurable:!0})}function t(e){return e&&e.__esModule?e.default:e}var n="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},i={},r={},a=n.parcelRequiredc87;null==a&&((a=function(e){if(e in i)return i[e].exports;if(e in r){var t=r[e];delete r[e];var n={id:e,exports:{}};return i[e]=n,t.call(n.exports,n,n.exports),n.exports}var a=new Error("Cannot find module '"+e+"'");throw a.code="MODULE_NOT_FOUND",a}).register=function(e,t){r[e]=t},n.parcelRequiredc87=a),a.register("c1bOu",(function(t,n){var i,r;e(t.exports,"register",(()=>i),(e=>i=e)),e(t.exports,"resolve",(()=>r),(e=>r=e));var a={};i=function(e){for(var t=Object.keys(e),n=0;n<t.length;n++)a[t[n]]=e[t[n]]},r=function(e){var t=a[e];if(null==t)throw new Error("Could not resolve bundle with id "+e);return t}})),a("c1bOu").register(JSON.parse('{"bXkwM":"index.51bbc062.js","IA7EQ":"zusam_logo.1eebfd28.svg"}'));var o,s,l,c,u,d,p,h,f={},g=[],m=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i;function v(e,t){for(var n in t)e[n]=t[n];return e}function y(e){var t=e.parentNode;t&&t.removeChild(e)}function _(e,t,n){var i,r,a,s={};for(a in t)"key"==a?i=t[a]:"ref"==a?r=t[a]:s[a]=t[a];if(arguments.length>2&&(s.children=arguments.length>3?o.call(arguments,2):n),"function"==typeof e&&null!=e.defaultProps)for(a in e.defaultProps)void 0===s[a]&&(s[a]=e.defaultProps[a]);return b(e,s,i,r,null)}function b(e,t,n,i,r){var a={type:e,props:t,key:n,ref:i,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:null==r?++l:r};return null==r&&null!=s.vnode&&s.vnode(a),a}function w(){return{current:null}}function k(e){return e.children}function x(e,t){this.props=e,this.context=t}function S(e,t){if(null==t)return e.__?S(e.__,e.__.__k.indexOf(e)+1):null;for(var n;t<e.__k.length;t++)if(null!=(n=e.__k[t])&&null!=n.__e)return n.__e;return"function"==typeof e.type?S(e):null}function C(e){var t,n;if(null!=(e=e.__)&&null!=e.__c){for(e.__e=e.__c.base=null,t=0;t<e.__k.length;t++)if(null!=(n=e.__k[t])&&null!=n.__e){e.__e=e.__c.base=n.__e;break}return C(e)}}function O(e){(!e.__d&&(e.__d=!0)&&c.push(e)&&!E.__r++||u!==s.debounceRendering)&&((u=s.debounceRendering)||d)(E)}function E(){var e,t,n,i,r,a,o,s;for(c.sort(p);e=c.shift();)e.__d&&(t=c.length,i=void 0,r=void 0,o=(a=(n=e).__v).__e,(s=n.__P)&&(i=[],(r=v({},a)).__v=a.__v+1,M(s,a,r,n.__n,void 0!==s.ownerSVGElement,null!=a.__h?[o]:null,i,null==o?S(a):o,a.__h),z(i,a),a.__e!=o&&C(a)),c.length>t&&c.sort(p));E.__r=0}function P(e,t,n,i,r,a,o,s,l,c){var u,d,p,h,m,v,y,_=i&&i.__k||g,w=_.length;for(n.__k=[],u=0;u<t.length;u++)if(null!=(h=n.__k[u]=null==(h=t[u])||"boolean"==typeof h||"function"==typeof h?null:"string"==typeof h||"number"==typeof h||"bigint"==typeof h?b(null,h,null,null,h):Array.isArray(h)?b(k,{children:h},null,null,null):h.__b>0?b(h.type,h.props,h.key,h.ref?h.ref:null,h.__v):h)){if(h.__=n,h.__b=n.__b+1,null===(p=_[u])||p&&h.key==p.key&&h.type===p.type)_[u]=void 0;else for(d=0;d<w;d++){if((p=_[d])&&h.key==p.key&&h.type===p.type){_[d]=void 0;break}p=null}M(e,h,p=p||f,r,a,o,s,l,c),m=h.__e,(d=h.ref)&&p.ref!=d&&(y||(y=[]),p.ref&&y.push(p.ref,null,h),y.push(d,h.__c||m,h)),null!=m?(null==v&&(v=m),"function"==typeof h.type&&h.__k===p.__k?h.__d=l=j(h,l,e):l=L(e,h,p,_,m,l),"function"==typeof n.type&&(n.__d=l)):l&&p.__e==l&&l.parentNode!=e&&(l=S(p))}for(n.__e=v,u=w;u--;)null!=_[u]&&("function"==typeof n.type&&null!=_[u].__e&&_[u].__e==n.__d&&(n.__d=T(i).nextSibling),B(_[u],_[u]));if(y)for(u=0;u<y.length;u++)$(y[u],y[++u],y[++u])}function j(e,t,n){for(var i,r=e.__k,a=0;r&&a<r.length;a++)(i=r[a])&&(i.__=e,t="function"==typeof i.type?j(i,t,n):L(n,i,i,r,i.__e,t));return t}function A(e,t){return t=t||[],null==e||"boolean"==typeof e||(Array.isArray(e)?e.some((function(e){A(e,t)})):t.push(e)),t}function L(e,t,n,i,r,a){var o,s,l;if(void 0!==t.__d)o=t.__d,t.__d=void 0;else if(null==n||r!=a||null==r.parentNode)e:if(null==a||a.parentNode!==e)e.appendChild(r),o=null;else{for(s=a,l=0;(s=s.nextSibling)&&l<i.length;l+=1)if(s==r)break e;e.insertBefore(r,a),o=a}return void 0!==o?o:r.nextSibling}function T(e){var t,n,i;if(null==e.type||"string"==typeof e.type)return e.__e;if(e.__k)for(t=e.__k.length-1;t>=0;t--)if((n=e.__k[t])&&(i=T(n)))return i;return null}function N(e,t,n){"-"===t[0]?e.setProperty(t,null==n?"":n):e[t]=null==n?"":"number"!=typeof n||m.test(t)?n:n+"px"}function I(e,t,n,i,r){var a;e:if("style"===t)if("string"==typeof n)e.style.cssText=n;else{if("string"==typeof i&&(e.style.cssText=i=""),i)for(t in i)n&&t in n||N(e.style,t,"");if(n)for(t in n)i&&n[t]===i[t]||N(e.style,t,n[t])}else if("o"===t[0]&&"n"===t[1])a=t!==(t=t.replace(/Capture$/,"")),t=t.toLowerCase()in e?t.toLowerCase().slice(2):t.slice(2),e.l||(e.l={}),e.l[t+a]=n,n?i||e.addEventListener(t,a?R:D,a):e.removeEventListener(t,a?R:D,a);else if("dangerouslySetInnerHTML"!==t){if(r)t=t.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if("width"!==t&&"height"!==t&&"href"!==t&&"list"!==t&&"form"!==t&&"tabIndex"!==t&&"download"!==t&&t in e)try{e[t]=null==n?"":n;break e}catch(e){}"function"==typeof n||(null==n||!1===n&&"-"!==t[4]?e.removeAttribute(t):e.setAttribute(t,n))}}function D(e){return this.l[e.type+!1](s.event?s.event(e):e)}function R(e){return this.l[e.type+!0](s.event?s.event(e):e)}function M(e,t,n,i,r,a,l,c,u){var d,p,h,g,m,_,b,w,C,O,E,j,A,L,T,N=t.type;if(void 0!==t.constructor)return null;null!=n.__h&&(u=n.__h,c=t.__e=n.__e,t.__h=null,a=[c]),(d=s.__b)&&d(t);try{e:if("function"==typeof N){if(w=t.props,C=(d=N.contextType)&&i[d.__c],O=d?C?C.props.value:d.__:i,n.__c?b=(p=t.__c=n.__c).__=p.__E:("prototype"in N&&N.prototype.render?t.__c=p=new N(w,O):(t.__c=p=new x(w,O),p.constructor=N,p.render=U),C&&C.sub(p),p.props=w,p.state||(p.state={}),p.context=O,p.__n=i,h=p.__d=!0,p.__h=[],p._sb=[]),null==p.__s&&(p.__s=p.state),null!=N.getDerivedStateFromProps&&(p.__s==p.state&&(p.__s=v({},p.__s)),v(p.__s,N.getDerivedStateFromProps(w,p.__s))),g=p.props,m=p.state,p.__v=t,h)null==N.getDerivedStateFromProps&&null!=p.componentWillMount&&p.componentWillMount(),null!=p.componentDidMount&&p.__h.push(p.componentDidMount);else{if(null==N.getDerivedStateFromProps&&w!==g&&null!=p.componentWillReceiveProps&&p.componentWillReceiveProps(w,O),!p.__e&&null!=p.shouldComponentUpdate&&!1===p.shouldComponentUpdate(w,p.__s,O)||t.__v===n.__v){for(t.__v!==n.__v&&(p.props=w,p.state=p.__s,p.__d=!1),p.__e=!1,t.__e=n.__e,t.__k=n.__k,t.__k.forEach((function(e){e&&(e.__=t)})),E=0;E<p._sb.length;E++)p.__h.push(p._sb[E]);p._sb=[],p.__h.length&&l.push(p);break e}null!=p.componentWillUpdate&&p.componentWillUpdate(w,p.__s,O),null!=p.componentDidUpdate&&p.__h.push((function(){p.componentDidUpdate(g,m,_)}))}if(p.context=O,p.props=w,p.__P=e,j=s.__r,A=0,"prototype"in N&&N.prototype.render){for(p.state=p.__s,p.__d=!1,j&&j(t),d=p.render(p.props,p.state,p.context),L=0;L<p._sb.length;L++)p.__h.push(p._sb[L]);p._sb=[]}else do{p.__d=!1,j&&j(t),d=p.render(p.props,p.state,p.context),p.state=p.__s}while(p.__d&&++A<25);p.state=p.__s,null!=p.getChildContext&&(i=v(v({},i),p.getChildContext())),h||null==p.getSnapshotBeforeUpdate||(_=p.getSnapshotBeforeUpdate(g,m)),T=null!=d&&d.type===k&&null==d.key?d.props.children:d,P(e,Array.isArray(T)?T:[T],t,n,i,r,a,l,c,u),p.base=t.__e,t.__h=null,p.__h.length&&l.push(p),b&&(p.__E=p.__=null),p.__e=!1}else null==a&&t.__v===n.__v?(t.__k=n.__k,t.__e=n.__e):t.__e=function(e,t,n,i,r,a,s,l){var c,u,d,p=n.props,h=t.props,g=t.type,m=0;if("svg"===g&&(r=!0),null!=a)for(;m<a.length;m++)if((c=a[m])&&"setAttribute"in c==!!g&&(g?c.localName===g:3===c.nodeType)){e=c,a[m]=null;break}if(null==e){if(null===g)return document.createTextNode(h);e=r?document.createElementNS("http://www.w3.org/2000/svg",g):document.createElement(g,h.is&&h),a=null,l=!1}if(null===g)p===h||l&&e.data===h||(e.data=h);else{if(a=a&&o.call(e.childNodes),u=(p=n.props||f).dangerouslySetInnerHTML,d=h.dangerouslySetInnerHTML,!l){if(null!=a)for(p={},m=0;m<e.attributes.length;m++)p[e.attributes[m].name]=e.attributes[m].value;(d||u)&&(d&&(u&&d.__html==u.__html||d.__html===e.innerHTML)||(e.innerHTML=d&&d.__html||""))}if(function(e,t,n,i,r){var a;for(a in n)"children"===a||"key"===a||a in t||I(e,a,null,n[a],i);for(a in t)r&&"function"!=typeof t[a]||"children"===a||"key"===a||"value"===a||"checked"===a||n[a]===t[a]||I(e,a,t[a],n[a],i)}(e,h,p,r,l),d)t.__k=[];else if(m=t.props.children,P(e,Array.isArray(m)?m:[m],t,n,i,r&&"foreignObject"!==g,a,s,a?a[0]:n.__k&&S(n,0),l),null!=a)for(m=a.length;m--;)null!=a[m]&&y(a[m]);l||("value"in h&&void 0!==(m=h.value)&&(m!==e.value||"progress"===g&&!m||"option"===g&&m!==p.value)&&I(e,"value",m,p.value,!1),"checked"in h&&void 0!==(m=h.checked)&&m!==e.checked&&I(e,"checked",m,p.checked,!1))}return e}(n.__e,t,n,i,r,a,l,u);(d=s.diffed)&&d(t)}catch(e){t.__v=null,(u||null!=a)&&(t.__e=c,t.__h=!!u,a[a.indexOf(c)]=null),s.__e(e,t,n)}}function z(e,t){s.__c&&s.__c(t,e),e.some((function(t){try{e=t.__h,t.__h=[],e.some((function(e){e.call(t)}))}catch(e){s.__e(e,t.__v)}}))}function $(e,t,n){try{"function"==typeof e?e(t):e.current=t}catch(e){s.__e(e,n)}}function B(e,t,n){var i,r;if(s.unmount&&s.unmount(e),(i=e.ref)&&(i.current&&i.current!==e.__e||$(i,null,t)),null!=(i=e.__c)){if(i.componentWillUnmount)try{i.componentWillUnmount()}catch(e){s.__e(e,t)}i.base=i.__P=null,e.__c=void 0}if(i=e.__k)for(r=0;r<i.length;r++)i[r]&&B(i[r],t,n||"function"!=typeof e.type);n||null==e.__e||y(e.__e),e.__=e.__e=e.__d=void 0}function U(e,t,n){return this.constructor(e,n)}function F(e,t,n){var i,r,a;s.__&&s.__(e,t),r=(i="function"==typeof n)?null:n&&n.__k||t.__k,a=[],M(t,e=(!i&&n||t).__k=_(k,null,[e]),r||f,f,void 0!==t.ownerSVGElement,!i&&n?[n]:r?null:t.firstChild?o.call(t.childNodes):null,a,!i&&n?n:r?r.__e:t.firstChild,i),z(a,e)}function H(e,t){F(e,t,H)}function V(e,t,n){var i,r,a,s=v({},e.props);for(a in t)"key"==a?i=t[a]:"ref"==a?r=t[a]:s[a]=t[a];return arguments.length>2&&(s.children=arguments.length>3?o.call(arguments,2):n),b(e.type,s,i||e.key,r||e.ref,null)}function q(e,t){var n={__c:t="__cC"+h++,__:e,Consumer:function(e,t){return e.children(t)},Provider:function(e){var n,i;return this.getChildContext||(n=[],(i={})[t]=this,this.getChildContext=function(){return i},this.shouldComponentUpdate=function(e){this.props.value!==e.value&&n.some((function(e){e.__e=!0,O(e)}))},this.sub=function(e){n.push(e);var t=e.componentWillUnmount;e.componentWillUnmount=function(){n.splice(n.indexOf(e),1),t&&t.call(e)}}),e.children}};return n.Provider.__=n.Consumer.contextType=n}o=g.slice,s={__e:function(e,t,n,i){for(var r,a,o;t=t.__;)if((r=t.__c)&&!r.__)try{if((a=r.constructor)&&null!=a.getDerivedStateFromError&&(r.setState(a.getDerivedStateFromError(e)),o=r.__d),null!=r.componentDidCatch&&(r.componentDidCatch(e,i||{}),o=r.__d),o)return r.__E=r}catch(t){e=t}throw e}},l=0,x.prototype.setState=function(e,t){var n;n=null!=this.__s&&this.__s!==this.state?this.__s:this.__s=v({},this.state),"function"==typeof e&&(e=e(v({},n),this.props)),e&&v(n,e),null!=e&&this.__v&&(t&&this._sb.push(t),O(this))},x.prototype.forceUpdate=function(e){this.__v&&(this.__e=!0,e&&this.__h.push(e),O(this))},x.prototype.render=k,c=[],d="function"==typeof Promise?Promise.prototype.then.bind(Promise.resolve()):setTimeout,p=function(e,t){return e.__v.__b-t.__v.__b},E.__r=0,h=0;const W={remove:e=>document.getElementById(e).outerHTML="",add:(e,t="alert-success",n=5e3)=>{if(!e)return;let i=document.createElement("DIV");i.id=W.hash(e),i.innerHTML=e,i.classList.add("global-alert","alert",t),document.body.appendChild(i),setTimeout((()=>W.remove(i.id)),n)},hash:e=>{let t=0;if(0==e.length)return t;for(let n=0;n<e.length;n++){t=(t<<5)-t+e.charCodeAt(n),t&=t}return t}};var Y=W;const X={usage:()=>{let e,t=0;for(e in localStorage)Object.prototype.hasOwnProperty.call(localStorage,e)&&(t+=2*(localStorage[e].length+e.length));return t},createStorageBox:(e,t=null)=>({data:e,createdAt:Date.now(),metadata:t}),remove:e=>localStorage.removeItem(e),set:(e,t,n=null)=>(localStorage.setItem(e,JSON.stringify(X.createStorageBox(t,n))),Promise.resolve(e)),get:e=>{let t=localStorage.getItem(e);return null!=t&&(t=JSON.parse(t),Object.prototype.hasOwnProperty.call(t,"data"))?new Promise((e=>e(t.data))):new Promise((e=>e(null)))},reset:()=>localStorage.clear()&&window.dispatchEvent(new CustomEvent("resetStorage"))};var K=X;var G=(e=>{let t={},n={},i={dispatch(e,r){if("@dispatch"!==e&&i.dispatch("@dispatch",[e,r,t[e]]),t[e]){let a;t[e].forEach((o=>{let s=t[e].includes(o)&&o(n,r,i);s&&"function"!=typeof s.then&&(n={...n,...s},a={...a,...s})})),a&&i.dispatch("@changed",a)}},get:()=>n,on:(e,n)=>((t[e]||(t[e]=[])).push(n),()=>{t[e]=t[e].filter((e=>e!==n))})};return e.forEach((e=>{e&&e(i)})),i.dispatch("@init"),i})([e=>{e.on("@init",(()=>({api:{}}))),e.on("api/update",((e,t)=>({api:t})))},e=>{e.on("@init",(()=>({me:{}}))),e.on("me/update",((e,t)=>({me:t})))},e=>{e.on("@init",(()=>({route:"",id:"",action:"",backUrl:"",entityType:"",search:"",entity:{}}))),e.on("router/update",((e,t)=>({entity:t.entity,backUrl:t.backUrl})))},e=>{e.on("@init",(()=>({notifications:[]}))),e.on("notifications/update",((e,t=[])=>({notifications:t}))),e.on("notifications/remove",((e,t)=>({notifications:e.notifications.filter((e=>e.id!=t.id))}))),e.on("notifications/read",((e,t)=>({notifications:e.notifications.map((e=>e.id===t.id?Object.assign(e,{read:!0}):e))})))},e=>{e.on("@init",(()=>({bookmarks:[]}))),e.on("bookmarks/update",((e,t=[])=>({bookmarks:t}))),e.on("bookmark/remove",((e,t)=>(zi.delete(`/api/bookmarks/${t.id}`),{bookmarks:e.bookmarks.filter((e=>e.id!=t.id))}))),e.on("bookmark/add",((t,n)=>{zi.post("/api/bookmarks",{message_id:n}).then((n=>{e.dispatch("bookmarks/update",[...t.bookmarks,n])}))}))}]);function J(e){return J="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},J(e)}function Q(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Z(e,t){if("object"!==J(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!==J(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function ee(e){var t=Z(e,"string");return"symbol"===J(t)?t:String(t)}function te(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,ee(i.key),i)}}function ne(e,t,n){return t&&te(e.prototype,t),n&&te(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function ie(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function re(e,t){return re=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},re(e,t)}function ae(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&re(e,t)}function oe(e,t){if(t&&("object"===J(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return ie(e)}function se(e){return se=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},se(e)}function le(e,t,n){return(t=ee(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ce(e){if(Array.isArray(e))return e}function ue(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function de(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function pe(e,t){if(e){if("string"==typeof e)return de(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?de(e,t):void 0}}function he(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function fe(e){return ce(e)||ue(e)||pe(e)||he()}function ge(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function me(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ge(Object(n),!0).forEach((function(t){le(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ge(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var ve={type:"logger",log:function(e){this.output("log",e)},warn:function(e){this.output("warn",e)},error:function(e){this.output("error",e)},output:function(e,t){console&&console[e]&&console[e].apply(console,t)}},ye=new(function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Q(this,e),this.init(t,n)}return ne(e,[{key:"init",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.prefix=t.prefix||"i18next:",this.logger=e||ve,this.options=t,this.debug=t.debug}},{key:"setDebug",value:function(e){this.debug=e}},{key:"log",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.forward(t,"log","",!0)}},{key:"warn",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.forward(t,"warn","",!0)}},{key:"error",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.forward(t,"error","")}},{key:"deprecate",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.forward(t,"warn","WARNING DEPRECATED: ",!0)}},{key:"forward",value:function(e,t,n,i){return i&&!this.debug?null:("string"==typeof e[0]&&(e[0]="".concat(n).concat(this.prefix," ").concat(e[0])),this.logger[t](e))}},{key:"create",value:function(t){return new e(this.logger,me(me({},{prefix:"".concat(this.prefix,":").concat(t,":")}),this.options))}},{key:"clone",value:function(t){return(t=t||this.options).prefix=t.prefix||this.prefix,new e(this.logger,t)}}]),e}()),_e=function(){function e(){Q(this,e),this.observers={}}return ne(e,[{key:"on",value:function(e,t){var n=this;return e.split(" ").forEach((function(e){n.observers[e]=n.observers[e]||[],n.observers[e].push(t)})),this}},{key:"off",value:function(e,t){this.observers[e]&&(t?this.observers[e]=this.observers[e].filter((function(e){return e!==t})):delete this.observers[e])}},{key:"emit",value:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];this.observers[e]&&[].concat(this.observers[e]).forEach((function(e){e.apply(void 0,n)}));this.observers["*"]&&[].concat(this.observers["*"]).forEach((function(t){t.apply(t,[e].concat(n))}))}}]),e}();function be(){var e,t,n=new Promise((function(n,i){e=n,t=i}));return n.resolve=e,n.reject=t,n}function we(e){return null==e?"":""+e}function ke(e,t,n){function i(e){return e&&e.indexOf("###")>-1?e.replace(/###/g,"."):e}function r(){return!e||"string"==typeof e}for(var a="string"!=typeof t?[].concat(t):t.split(".");a.length>1;){if(r())return{};var o=i(a.shift());!e[o]&&n&&(e[o]=new n),e=Object.prototype.hasOwnProperty.call(e,o)?e[o]:{}}return r()?{}:{obj:e,k:i(a.shift())}}function xe(e,t,n){var i=ke(e,t,Object);i.obj[i.k]=n}function Se(e,t){var n=ke(e,t),i=n.obj,r=n.k;if(i)return i[r]}function Ce(e,t,n){var i=Se(e,n);return void 0!==i?i:Se(t,n)}function Oe(e,t,n){for(var i in t)"__proto__"!==i&&"constructor"!==i&&(i in e?"string"==typeof e[i]||e[i]instanceof String||"string"==typeof t[i]||t[i]instanceof String?n&&(e[i]=t[i]):Oe(e[i],t[i],n):e[i]=t[i]);return e}function Ee(e){return e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")}var Pe={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};function je(e){return"string"==typeof e?e.replace(/[&<>"'\/]/g,(function(e){return Pe[e]})):e}var Ae="undefined"!=typeof window&&window.navigator&&void 0===window.navigator.userAgentData&&window.navigator.userAgent&&window.navigator.userAgent.indexOf("MSIE")>-1,Le=[" ",",","?","!",";"];function Te(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function Ne(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Te(Object(n),!0).forEach((function(t){le(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Te(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ie(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=se(e);if(t){var r=se(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return oe(this,n)}}function De(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:".";if(e){if(e[t])return e[t];for(var i=t.split(n),r=e,a=0;a<i.length;++a){if(!r)return;if("string"==typeof r[i[a]]&&a+1<i.length)return;if(void 0===r[i[a]]){for(var o=2,s=i.slice(a,a+o).join(n),l=r[s];void 0===l&&i.length>a+o;)o++,l=r[s=i.slice(a,a+o).join(n)];if(void 0===l)return;if(null===l)return null;if(t.endsWith(s)){if("string"==typeof l)return l;if(s&&"string"==typeof l[s])return l[s]}var c=i.slice(a+o).join(n);return c?De(l,c,n):void 0}r=r[i[a]]}return r}}var Re=function(e){ae(n,_e);var t=Ie(n);function n(e){var i,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{ns:["translation"],defaultNS:"translation"};return Q(this,n),i=t.call(this),Ae&&_e.call(ie(i)),i.data=e||{},i.options=r,void 0===i.options.keySeparator&&(i.options.keySeparator="."),void 0===i.options.ignoreJSONStructure&&(i.options.ignoreJSONStructure=!0),i}return ne(n,[{key:"addNamespaces",value:function(e){this.options.ns.indexOf(e)<0&&this.options.ns.push(e)}},{key:"removeNamespaces",value:function(e){var t=this.options.ns.indexOf(e);t>-1&&this.options.ns.splice(t,1)}},{key:"getResource",value:function(e,t,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},r=void 0!==i.keySeparator?i.keySeparator:this.options.keySeparator,a=void 0!==i.ignoreJSONStructure?i.ignoreJSONStructure:this.options.ignoreJSONStructure,o=[e,t];n&&"string"!=typeof n&&(o=o.concat(n)),n&&"string"==typeof n&&(o=o.concat(r?n.split(r):n)),e.indexOf(".")>-1&&(o=e.split("."));var s=Se(this.data,o);return s||!a||"string"!=typeof n?s:De(this.data&&this.data[e]&&this.data[e][t],n,r)}},{key:"addResource",value:function(e,t,n,i){var r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{silent:!1},a=this.options.keySeparator;void 0===a&&(a=".");var o=[e,t];n&&(o=o.concat(a?n.split(a):n)),e.indexOf(".")>-1&&(i=t,t=(o=e.split("."))[1]),this.addNamespaces(t),xe(this.data,o,i),r.silent||this.emit("added",e,t,n,i)}},{key:"addResources",value:function(e,t,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{silent:!1};for(var r in n)"string"!=typeof n[r]&&"[object Array]"!==Object.prototype.toString.apply(n[r])||this.addResource(e,t,r,n[r],{silent:!0});i.silent||this.emit("added",e,t,n)}},{key:"addResourceBundle",value:function(e,t,n,i,r){var a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{silent:!1},o=[e,t];e.indexOf(".")>-1&&(i=n,n=t,t=(o=e.split("."))[1]),this.addNamespaces(t);var s=Se(this.data,o)||{};i?Oe(s,n,r):s=Ne(Ne({},s),n),xe(this.data,o,s),a.silent||this.emit("added",e,t,n)}},{key:"removeResourceBundle",value:function(e,t){this.hasResourceBundle(e,t)&&delete this.data[e][t],this.removeNamespaces(t),this.emit("removed",e,t)}},{key:"hasResourceBundle",value:function(e,t){return void 0!==this.getResource(e,t)}},{key:"getResourceBundle",value:function(e,t){return t||(t=this.options.defaultNS),"v1"===this.options.compatibilityAPI?Ne(Ne({},{}),this.getResource(e,t)):this.getResource(e,t)}},{key:"getDataByLanguage",value:function(e){return this.data[e]}},{key:"hasLanguageSomeTranslations",value:function(e){var t=this.getDataByLanguage(e);return!!(t&&Object.keys(t)||[]).find((function(e){return t[e]&&Object.keys(t[e]).length>0}))}},{key:"toJSON",value:function(){return this.data}}]),n}(),Me={processors:{},addPostProcessor:function(e){this.processors[e.name]=e},handle:function(e,t,n,i,r){var a=this;return e.forEach((function(e){a.processors[e]&&(t=a.processors[e].process(t,n,i,r))})),t}};function ze(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function $e(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ze(Object(n),!0).forEach((function(t){le(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ze(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Be(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=se(e);if(t){var r=se(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return oe(this,n)}}var Ue={},Fe=function(e){ae(n,_e);var t=Be(n);function n(e){var i,r,a,o,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Q(this,n),i=t.call(this),Ae&&_e.call(ie(i)),r=["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],a=e,o=ie(i),r.forEach((function(e){a[e]&&(o[e]=a[e])})),i.options=s,void 0===i.options.keySeparator&&(i.options.keySeparator="."),i.logger=ye.create("translator"),i}return ne(n,[{key:"changeLanguage",value:function(e){e&&(this.language=e)}},{key:"exists",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{interpolation:{}};if(null==e)return!1;var n=this.resolve(e,t);return n&&void 0!==n.res}},{key:"extractFromKey",value:function(e,t){var n=void 0!==t.nsSeparator?t.nsSeparator:this.options.nsSeparator;void 0===n&&(n=":");var i=void 0!==t.keySeparator?t.keySeparator:this.options.keySeparator,r=t.ns||this.options.defaultNS||[],a=n&&e.indexOf(n)>-1,o=!(this.options.userDefinedKeySeparator||t.keySeparator||this.options.userDefinedNsSeparator||t.nsSeparator||function(e,t,n){t=t||"",n=n||"";var i=Le.filter((function(e){return t.indexOf(e)<0&&n.indexOf(e)<0}));if(0===i.length)return!0;var r=new RegExp("(".concat(i.map((function(e){return"?"===e?"\\?":e})).join("|"),")")),a=!r.test(e);if(!a){var o=e.indexOf(n);o>0&&!r.test(e.substring(0,o))&&(a=!0)}return a}(e,n,i));if(a&&!o){var s=e.match(this.interpolator.nestingRegexp);if(s&&s.length>0)return{key:e,namespaces:r};var l=e.split(n);(n!==i||n===i&&this.options.ns.indexOf(l[0])>-1)&&(r=l.shift()),e=l.join(i)}return"string"==typeof r&&(r=[r]),{key:e,namespaces:r}}},{key:"translate",value:function(e,t,i){var r=this;if("object"!==J(t)&&this.options.overloadTranslationOptionHandler&&(t=this.options.overloadTranslationOptionHandler(arguments)),t||(t={}),null==e)return"";Array.isArray(e)||(e=[String(e)]);var a=void 0!==t.returnDetails?t.returnDetails:this.options.returnDetails,o=void 0!==t.keySeparator?t.keySeparator:this.options.keySeparator,s=this.extractFromKey(e[e.length-1],t),l=s.key,c=s.namespaces,u=c[c.length-1],d=t.lng||this.language,p=t.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if(d&&"cimode"===d.toLowerCase()){if(p){var h=t.nsSeparator||this.options.nsSeparator;return a?(f.res="".concat(u).concat(h).concat(l),f):"".concat(u).concat(h).concat(l)}return a?(f.res=l,f):l}var f=this.resolve(e,t),g=f&&f.res,m=f&&f.usedKey||l,v=f&&f.exactUsedKey||l,y=Object.prototype.toString.apply(g),_=void 0!==t.joinArrays?t.joinArrays:this.options.joinArrays,b=!this.i18nFormat||this.i18nFormat.handleAsObject;if(b&&g&&("string"!=typeof g&&"boolean"!=typeof g&&"number"!=typeof g)&&["[object Number]","[object Function]","[object RegExp]"].indexOf(y)<0&&("string"!=typeof _||"[object Array]"!==y)){if(!t.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");var w=this.options.returnedObjectHandler?this.options.returnedObjectHandler(m,g,$e($e({},t),{},{ns:c})):"key '".concat(l," (").concat(this.language,")' returned an object instead of string.");return a?(f.res=w,f):w}if(o){var k="[object Array]"===y,x=k?[]:{},S=k?v:m;for(var C in g)if(Object.prototype.hasOwnProperty.call(g,C)){var O="".concat(S).concat(o).concat(C);x[C]=this.translate(O,$e($e({},t),{joinArrays:!1,ns:c})),x[C]===O&&(x[C]=g[C])}g=x}}else if(b&&"string"==typeof _&&"[object Array]"===y)(g=g.join(_))&&(g=this.extendTranslation(g,e,t,i));else{var E=!1,P=!1,j=void 0!==t.count&&"string"!=typeof t.count,A=n.hasDefaultValue(t),L=j?this.pluralResolver.getSuffix(d,t.count,t):"",T=t["defaultValue".concat(L)]||t.defaultValue;!this.isValidLookup(g)&&A&&(E=!0,g=T),this.isValidLookup(g)||(P=!0,g=l);var N=(t.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey)&&P?void 0:g,I=A&&T!==g&&this.options.updateMissing;if(P||E||I){if(this.logger.log(I?"updateKey":"missingKey",d,u,l,I?T:g),o){var D=this.resolve(l,$e($e({},t),{},{keySeparator:!1}));D&&D.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}var R=[],M=this.languageUtils.getFallbackCodes(this.options.fallbackLng,t.lng||this.language);if("fallback"===this.options.saveMissingTo&&M&&M[0])for(var z=0;z<M.length;z++)R.push(M[z]);else"all"===this.options.saveMissingTo?R=this.languageUtils.toResolveHierarchy(t.lng||this.language):R.push(t.lng||this.language);var $=function(e,n,i){var a=A&&i!==g?i:N;r.options.missingKeyHandler?r.options.missingKeyHandler(e,u,n,a,I,t):r.backendConnector&&r.backendConnector.saveMissing&&r.backendConnector.saveMissing(e,u,n,a,I,t),r.emit("missingKey",e,u,n,g)};this.options.saveMissing&&(this.options.saveMissingPlurals&&j?R.forEach((function(e){r.pluralResolver.getSuffixes(e,t).forEach((function(n){$([e],l+n,t["defaultValue".concat(n)]||T)}))})):$(R,l,T))}g=this.extendTranslation(g,e,t,f,i),P&&g===l&&this.options.appendNamespaceToMissingKey&&(g="".concat(u,":").concat(l)),(P||E)&&this.options.parseMissingKeyHandler&&(g="v1"!==this.options.compatibilityAPI?this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?"".concat(u,":").concat(l):l,E?g:void 0):this.options.parseMissingKeyHandler(g))}return a?(f.res=g,f):g}},{key:"extendTranslation",value:function(e,t,n,i,r){var a=this;if(this.i18nFormat&&this.i18nFormat.parse)e=this.i18nFormat.parse(e,$e($e({},this.options.interpolation.defaultVariables),n),i.usedLng,i.usedNS,i.usedKey,{resolved:i});else if(!n.skipInterpolation){n.interpolation&&this.interpolator.init($e($e({},n),{interpolation:$e($e({},this.options.interpolation),n.interpolation)}));var o,s="string"==typeof e&&(n&&n.interpolation&&void 0!==n.interpolation.skipOnVariables?n.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables);if(s){var l=e.match(this.interpolator.nestingRegexp);o=l&&l.length}var c=n.replace&&"string"!=typeof n.replace?n.replace:n;if(this.options.interpolation.defaultVariables&&(c=$e($e({},this.options.interpolation.defaultVariables),c)),e=this.interpolator.interpolate(e,c,n.lng||this.language,n),s){var u=e.match(this.interpolator.nestingRegexp);o<(u&&u.length)&&(n.nest=!1)}!1!==n.nest&&(e=this.interpolator.nest(e,(function(){for(var e=arguments.length,i=new Array(e),o=0;o<e;o++)i[o]=arguments[o];return r&&r[0]===i[0]&&!n.context?(a.logger.warn("It seems you are nesting recursively key: ".concat(i[0]," in key: ").concat(t[0])),null):a.translate.apply(a,i.concat([t]))}),n)),n.interpolation&&this.interpolator.reset()}var d=n.postProcess||this.options.postProcess,p="string"==typeof d?[d]:d;return null!=e&&p&&p.length&&!1!==n.applyPostProcessor&&(e=Me.handle(p,e,t,this.options&&this.options.postProcessPassResolved?$e({i18nResolved:i},n):n,this)),e}},{key:"resolve",value:function(e){var t,n,i,r,a,o=this,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return"string"==typeof e&&(e=[e]),e.forEach((function(e){if(!o.isValidLookup(t)){var l=o.extractFromKey(e,s),c=l.key;n=c;var u=l.namespaces;o.options.fallbackNS&&(u=u.concat(o.options.fallbackNS));var d=void 0!==s.count&&"string"!=typeof s.count,p=d&&!s.ordinal&&0===s.count&&o.pluralResolver.shouldUseIntlApi(),h=void 0!==s.context&&("string"==typeof s.context||"number"==typeof s.context)&&""!==s.context,f=s.lngs?s.lngs:o.languageUtils.toResolveHierarchy(s.lng||o.language,s.fallbackLng);u.forEach((function(e){o.isValidLookup(t)||(a=e,!Ue["".concat(f[0],"-").concat(e)]&&o.utils&&o.utils.hasLoadedNamespace&&!o.utils.hasLoadedNamespace(a)&&(Ue["".concat(f[0],"-").concat(e)]=!0,o.logger.warn('key "'.concat(n,'" for languages "').concat(f.join(", "),'" won\'t get resolved as namespace "').concat(a,'" was not yet loaded'),"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),f.forEach((function(n){if(!o.isValidLookup(t)){r=n;var a,l=[c];if(o.i18nFormat&&o.i18nFormat.addLookupKeys)o.i18nFormat.addLookupKeys(l,c,n,e,s);else{var u;d&&(u=o.pluralResolver.getSuffix(n,s.count,s));var f="".concat(o.options.pluralSeparator,"zero");if(d&&(l.push(c+u),p&&l.push(c+f)),h){var g="".concat(c).concat(o.options.contextSeparator).concat(s.context);l.push(g),d&&(l.push(g+u),p&&l.push(g+f))}}for(;a=l.pop();)o.isValidLookup(t)||(i=a,t=o.getResource(n,e,a,s))}})))}))}})),{res:t,usedKey:n,exactUsedKey:i,usedLng:r,usedNS:a}}},{key:"isValidLookup",value:function(e){return!(void 0===e||!this.options.returnNull&&null===e||!this.options.returnEmptyString&&""===e)}},{key:"getResource",value:function(e,t,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return this.i18nFormat&&this.i18nFormat.getResource?this.i18nFormat.getResource(e,t,n,i):this.resourceStore.getResource(e,t,n,i)}}],[{key:"hasDefaultValue",value:function(e){var t="defaultValue";for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&t===n.substring(0,12)&&void 0!==e[n])return!0;return!1}}]),n}();function He(e){return e.charAt(0).toUpperCase()+e.slice(1)}var Ve=function(){function e(t){Q(this,e),this.options=t,this.supportedLngs=this.options.supportedLngs||!1,this.logger=ye.create("languageUtils")}return ne(e,[{key:"getScriptPartFromCode",value:function(e){if(!e||e.indexOf("-")<0)return null;var t=e.split("-");return 2===t.length?null:(t.pop(),"x"===t[t.length-1].toLowerCase()?null:this.formatLanguageCode(t.join("-")))}},{key:"getLanguagePartFromCode",value:function(e){if(!e||e.indexOf("-")<0)return e;var t=e.split("-");return this.formatLanguageCode(t[0])}},{key:"formatLanguageCode",value:function(e){if("string"==typeof e&&e.indexOf("-")>-1){var t=["hans","hant","latn","cyrl","cans","mong","arab"],n=e.split("-");return this.options.lowerCaseLng?n=n.map((function(e){return e.toLowerCase()})):2===n.length?(n[0]=n[0].toLowerCase(),n[1]=n[1].toUpperCase(),t.indexOf(n[1].toLowerCase())>-1&&(n[1]=He(n[1].toLowerCase()))):3===n.length&&(n[0]=n[0].toLowerCase(),2===n[1].length&&(n[1]=n[1].toUpperCase()),"sgn"!==n[0]&&2===n[2].length&&(n[2]=n[2].toUpperCase()),t.indexOf(n[1].toLowerCase())>-1&&(n[1]=He(n[1].toLowerCase())),t.indexOf(n[2].toLowerCase())>-1&&(n[2]=He(n[2].toLowerCase()))),n.join("-")}return this.options.cleanCode||this.options.lowerCaseLng?e.toLowerCase():e}},{key:"isSupportedCode",value:function(e){return("languageOnly"===this.options.load||this.options.nonExplicitSupportedLngs)&&(e=this.getLanguagePartFromCode(e)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(e)>-1}},{key:"getBestMatchFromCodes",value:function(e){var t,n=this;return e?(e.forEach((function(e){if(!t){var i=n.formatLanguageCode(e);n.options.supportedLngs&&!n.isSupportedCode(i)||(t=i)}})),!t&&this.options.supportedLngs&&e.forEach((function(e){if(!t){var i=n.getLanguagePartFromCode(e);if(n.isSupportedCode(i))return t=i;t=n.options.supportedLngs.find((function(e){if(0===e.indexOf(i))return e}))}})),t||(t=this.getFallbackCodes(this.options.fallbackLng)[0]),t):null}},{key:"getFallbackCodes",value:function(e,t){if(!e)return[];if("function"==typeof e&&(e=e(t)),"string"==typeof e&&(e=[e]),"[object Array]"===Object.prototype.toString.apply(e))return e;if(!t)return e.default||[];var n=e[t];return n||(n=e[this.getScriptPartFromCode(t)]),n||(n=e[this.formatLanguageCode(t)]),n||(n=e[this.getLanguagePartFromCode(t)]),n||(n=e.default),n||[]}},{key:"toResolveHierarchy",value:function(e,t){var n=this,i=this.getFallbackCodes(t||this.options.fallbackLng||[],e),r=[],a=function(e){e&&(n.isSupportedCode(e)?r.push(e):n.logger.warn("rejecting language code not found in supportedLngs: ".concat(e)))};return"string"==typeof e&&e.indexOf("-")>-1?("languageOnly"!==this.options.load&&a(this.formatLanguageCode(e)),"languageOnly"!==this.options.load&&"currentOnly"!==this.options.load&&a(this.getScriptPartFromCode(e)),"currentOnly"!==this.options.load&&a(this.getLanguagePartFromCode(e))):"string"==typeof e&&a(this.formatLanguageCode(e)),i.forEach((function(e){r.indexOf(e)<0&&a(n.formatLanguageCode(e))})),r}}]),e}(),qe=[{lngs:["ach","ak","am","arn","br","fil","gun","ln","mfe","mg","mi","oc","pt","pt-BR","tg","tl","ti","tr","uz","wa"],nr:[1,2],fc:1},{lngs:["af","an","ast","az","bg","bn","ca","da","de","dev","el","en","eo","es","et","eu","fi","fo","fur","fy","gl","gu","ha","hi","hu","hy","ia","it","kk","kn","ku","lb","mai","ml","mn","mr","nah","nap","nb","ne","nl","nn","no","nso","pa","pap","pms","ps","pt-PT","rm","sco","se","si","so","son","sq","sv","sw","ta","te","tk","ur","yo"],nr:[1,2],fc:2},{lngs:["ay","bo","cgg","fa","ht","id","ja","jbo","ka","km","ko","ky","lo","ms","sah","su","th","tt","ug","vi","wo","zh"],nr:[1],fc:3},{lngs:["be","bs","cnr","dz","hr","ru","sr","uk"],nr:[1,2,5],fc:4},{lngs:["ar"],nr:[0,1,2,3,11,100],fc:5},{lngs:["cs","sk"],nr:[1,2,5],fc:6},{lngs:["csb","pl"],nr:[1,2,5],fc:7},{lngs:["cy"],nr:[1,2,3,8],fc:8},{lngs:["fr"],nr:[1,2],fc:9},{lngs:["ga"],nr:[1,2,3,7,11],fc:10},{lngs:["gd"],nr:[1,2,3,20],fc:11},{lngs:["is"],nr:[1,2],fc:12},{lngs:["jv"],nr:[0,1],fc:13},{lngs:["kw"],nr:[1,2,3,4],fc:14},{lngs:["lt"],nr:[1,2,10],fc:15},{lngs:["lv"],nr:[1,2,0],fc:16},{lngs:["mk"],nr:[1,2],fc:17},{lngs:["mnk"],nr:[0,1,2],fc:18},{lngs:["mt"],nr:[1,2,11,20],fc:19},{lngs:["or"],nr:[2,1],fc:2},{lngs:["ro"],nr:[1,2,20],fc:20},{lngs:["sl"],nr:[5,1,2,3],fc:21},{lngs:["he","iw"],nr:[1,2,20,21],fc:22}],We={1:function(e){return Number(e>1)},2:function(e){return Number(1!=e)},3:function(e){return 0},4:function(e){return Number(e%10==1&&e%100!=11?0:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?1:2)},5:function(e){return Number(0==e?0:1==e?1:2==e?2:e%100>=3&&e%100<=10?3:e%100>=11?4:5)},6:function(e){return Number(1==e?0:e>=2&&e<=4?1:2)},7:function(e){return Number(1==e?0:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?1:2)},8:function(e){return Number(1==e?0:2==e?1:8!=e&&11!=e?2:3)},9:function(e){return Number(e>=2)},10:function(e){return Number(1==e?0:2==e?1:e<7?2:e<11?3:4)},11:function(e){return Number(1==e||11==e?0:2==e||12==e?1:e>2&&e<20?2:3)},12:function(e){return Number(e%10!=1||e%100==11)},13:function(e){return Number(0!==e)},14:function(e){return Number(1==e?0:2==e?1:3==e?2:3)},15:function(e){return Number(e%10==1&&e%100!=11?0:e%10>=2&&(e%100<10||e%100>=20)?1:2)},16:function(e){return Number(e%10==1&&e%100!=11?0:0!==e?1:2)},17:function(e){return Number(1==e||e%10==1&&e%100!=11?0:1)},18:function(e){return Number(0==e?0:1==e?1:2)},19:function(e){return Number(1==e?0:0==e||e%100>1&&e%100<11?1:e%100>10&&e%100<20?2:3)},20:function(e){return Number(1==e?0:0==e||e%100>0&&e%100<20?1:2)},21:function(e){return Number(e%100==1?1:e%100==2?2:e%100==3||e%100==4?3:0)},22:function(e){return Number(1==e?0:2==e?1:(e<0||e>10)&&e%10==0?2:3)}},Ye=["v1","v2","v3"],Xe={zero:0,one:1,two:2,few:3,many:4,other:5};var Ke=function(){function e(t){var n,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Q(this,e),this.languageUtils=t,this.options=i,this.logger=ye.create("pluralResolver"),this.options.compatibilityJSON&&"v4"!==this.options.compatibilityJSON||"undefined"!=typeof Intl&&Intl.PluralRules||(this.options.compatibilityJSON="v3",this.logger.error("Your environment seems not to be Intl API compatible, use an Intl.PluralRules polyfill. Will fallback to the compatibilityJSON v3 format handling.")),this.rules=(n={},qe.forEach((function(e){e.lngs.forEach((function(t){n[t]={numbers:e.nr,plurals:We[e.fc]}}))})),n)}return ne(e,[{key:"addRule",value:function(e,t){this.rules[e]=t}},{key:"getRule",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this.shouldUseIntlApi())try{return new Intl.PluralRules(e,{type:t.ordinal?"ordinal":"cardinal"})}catch(e){return}return this.rules[e]||this.rules[this.languageUtils.getLanguagePartFromCode(e)]}},{key:"needsPlural",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=this.getRule(e,t);return this.shouldUseIntlApi()?n&&n.resolvedOptions().pluralCategories.length>1:n&&n.numbers.length>1}},{key:"getPluralFormsOfKey",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.getSuffixes(e,n).map((function(e){return"".concat(t).concat(e)}))}},{key:"getSuffixes",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=this.getRule(e,n);return i?this.shouldUseIntlApi()?i.resolvedOptions().pluralCategories.sort((function(e,t){return Xe[e]-Xe[t]})).map((function(e){return"".concat(t.options.prepend).concat(e)})):i.numbers.map((function(i){return t.getSuffix(e,i,n)})):[]}},{key:"getSuffix",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=this.getRule(e,n);return i?this.shouldUseIntlApi()?"".concat(this.options.prepend).concat(i.select(t)):this.getSuffixRetroCompatible(i,t):(this.logger.warn("no plural rule found for: ".concat(e)),"")}},{key:"getSuffixRetroCompatible",value:function(e,t){var n=this,i=e.noAbs?e.plurals(t):e.plurals(Math.abs(t)),r=e.numbers[i];this.options.simplifyPluralSuffix&&2===e.numbers.length&&1===e.numbers[0]&&(2===r?r="plural":1===r&&(r=""));var a=function(){return n.options.prepend&&r.toString()?n.options.prepend+r.toString():r.toString()};return"v1"===this.options.compatibilityJSON?1===r?"":"number"==typeof r?"_plural_".concat(r.toString()):a():"v2"===this.options.compatibilityJSON||this.options.simplifyPluralSuffix&&2===e.numbers.length&&1===e.numbers[0]?a():this.options.prepend&&i.toString()?this.options.prepend+i.toString():i.toString()}},{key:"shouldUseIntlApi",value:function(){return!Ye.includes(this.options.compatibilityJSON)}}]),e}();function Ge(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function Je(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ge(Object(n),!0).forEach((function(t){le(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ge(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Qe=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Q(this,e),this.logger=ye.create("interpolator"),this.options=t,this.format=t.interpolation&&t.interpolation.format||function(e){return e},this.init(t)}return ne(e,[{key:"init",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};e.interpolation||(e.interpolation={escapeValue:!0});var t=e.interpolation;this.escape=void 0!==t.escape?t.escape:je,this.escapeValue=void 0===t.escapeValue||t.escapeValue,this.useRawValueToEscape=void 0!==t.useRawValueToEscape&&t.useRawValueToEscape,this.prefix=t.prefix?Ee(t.prefix):t.prefixEscaped||"{{",this.suffix=t.suffix?Ee(t.suffix):t.suffixEscaped||"}}",this.formatSeparator=t.formatSeparator?t.formatSeparator:t.formatSeparator||",",this.unescapePrefix=t.unescapeSuffix?"":t.unescapePrefix||"-",this.unescapeSuffix=this.unescapePrefix?"":t.unescapeSuffix||"",this.nestingPrefix=t.nestingPrefix?Ee(t.nestingPrefix):t.nestingPrefixEscaped||Ee("$t("),this.nestingSuffix=t.nestingSuffix?Ee(t.nestingSuffix):t.nestingSuffixEscaped||Ee(")"),this.nestingOptionsSeparator=t.nestingOptionsSeparator?t.nestingOptionsSeparator:t.nestingOptionsSeparator||",",this.maxReplaces=t.maxReplaces?t.maxReplaces:1e3,this.alwaysFormat=void 0!==t.alwaysFormat&&t.alwaysFormat,this.resetRegExp()}},{key:"reset",value:function(){this.options&&this.init(this.options)}},{key:"resetRegExp",value:function(){var e="".concat(this.prefix,"(.+?)").concat(this.suffix);this.regexp=new RegExp(e,"g");var t="".concat(this.prefix).concat(this.unescapePrefix,"(.+?)").concat(this.unescapeSuffix).concat(this.suffix);this.regexpUnescape=new RegExp(t,"g");var n="".concat(this.nestingPrefix,"(.+?)").concat(this.nestingSuffix);this.nestingRegexp=new RegExp(n,"g")}},{key:"interpolate",value:function(e,t,n,i){var r,a,o,s=this,l=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{};function c(e){return e.replace(/\$/g,"$$$$")}var u=function(e){if(e.indexOf(s.formatSeparator)<0){var r=Ce(t,l,e);return s.alwaysFormat?s.format(r,void 0,n,Je(Je(Je({},i),t),{},{interpolationkey:e})):r}var a=e.split(s.formatSeparator),o=a.shift().trim(),c=a.join(s.formatSeparator).trim();return s.format(Ce(t,l,o),c,n,Je(Je(Je({},i),t),{},{interpolationkey:o}))};this.resetRegExp();var d=i&&i.missingInterpolationHandler||this.options.missingInterpolationHandler,p=i&&i.interpolation&&void 0!==i.interpolation.skipOnVariables?i.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:function(e){return c(e)}},{regex:this.regexp,safeValue:function(e){return s.escapeValue?c(s.escape(e)):c(e)}}].forEach((function(t){for(o=0;r=t.regex.exec(e);){var n=r[1].trim();if(void 0===(a=u(n)))if("function"==typeof d){var l=d(e,r,i);a="string"==typeof l?l:""}else if(i&&i.hasOwnProperty(n))a="";else{if(p){a=r[0];continue}s.logger.warn("missed to pass in variable ".concat(n," for interpolating ").concat(e)),a=""}else"string"==typeof a||s.useRawValueToEscape||(a=we(a));var c=t.safeValue(a);if(e=e.replace(r[0],c),p?(t.regex.lastIndex+=a.length,t.regex.lastIndex-=r[0].length):t.regex.lastIndex=0,++o>=s.maxReplaces)break}})),e}},{key:"nest",value:function(e,t){var n,i,r=this,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=Je({},a);function s(e,t){var n=this.nestingOptionsSeparator;if(e.indexOf(n)<0)return e;var i=e.split(new RegExp("".concat(n,"[ ]*{"))),r="{".concat(i[1]);e=i[0];var a=(r=this.interpolate(r,o)).match(/'/g),s=r.match(/"/g);(a&&a.length%2==0&&!s||s.length%2!=0)&&(r=r.replace(/'/g,'"'));try{o=JSON.parse(r),t&&(o=Je(Je({},t),o))}catch(t){return this.logger.warn("failed parsing options string in nesting for key ".concat(e),t),"".concat(e).concat(n).concat(r)}return delete o.defaultValue,e}for(o.applyPostProcessor=!1,delete o.defaultValue;n=this.nestingRegexp.exec(e);){var l=[],c=!1;if(-1!==n[0].indexOf(this.formatSeparator)&&!/{.*}/.test(n[1])){var u=n[1].split(this.formatSeparator).map((function(e){return e.trim()}));n[1]=u.shift(),l=u,c=!0}if((i=t(s.call(this,n[1].trim(),o),o))&&n[0]===e&&"string"!=typeof i)return i;"string"!=typeof i&&(i=we(i)),i||(this.logger.warn("missed to resolve ".concat(n[1]," for nesting ").concat(e)),i=""),c&&(i=l.reduce((function(e,t){return r.format(e,t,a.lng,Je(Je({},a),{},{interpolationkey:n[1].trim()}))}),i.trim())),e=e.replace(n[0],i),this.regexp.lastIndex=0}return e}}]),e}();function Ze(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function et(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ze(Object(n),!0).forEach((function(t){le(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ze(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function tt(e){var t={};return function(n,i,r){var a=i+JSON.stringify(r),o=t[a];return o||(o=e(i,r),t[a]=o),o(n)}}var nt=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Q(this,e),this.logger=ye.create("formatter"),this.options=t,this.formats={number:tt((function(e,t){var n=new Intl.NumberFormat(e,t);return function(e){return n.format(e)}})),currency:tt((function(e,t){var n=new Intl.NumberFormat(e,et(et({},t),{},{style:"currency"}));return function(e){return n.format(e)}})),datetime:tt((function(e,t){var n=new Intl.DateTimeFormat(e,et({},t));return function(e){return n.format(e)}})),relativetime:tt((function(e,t){var n=new Intl.RelativeTimeFormat(e,et({},t));return function(e){return n.format(e,t.range||"day")}})),list:tt((function(e,t){var n=new Intl.ListFormat(e,et({},t));return function(e){return n.format(e)}}))},this.init(t)}return ne(e,[{key:"init",value:function(e){var t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{interpolation:{}}).interpolation;this.formatSeparator=t.formatSeparator?t.formatSeparator:t.formatSeparator||","}},{key:"add",value:function(e,t){this.formats[e.toLowerCase().trim()]=t}},{key:"addCached",value:function(e,t){this.formats[e.toLowerCase().trim()]=tt(t)}},{key:"format",value:function(e,t,n,i){var r=this;return t.split(this.formatSeparator).reduce((function(e,t){var a=function(e){var t=e.toLowerCase().trim(),n={};if(e.indexOf("(")>-1){var i=e.split("(");t=i[0].toLowerCase().trim();var r=i[1].substring(0,i[1].length-1);"currency"===t&&r.indexOf(":")<0?n.currency||(n.currency=r.trim()):"relativetime"===t&&r.indexOf(":")<0?n.range||(n.range=r.trim()):r.split(";").forEach((function(e){if(e){var t=fe(e.split(":")),i=t[0],r=t.slice(1).join(":").trim().replace(/^'+|'+$/g,"");n[i.trim()]||(n[i.trim()]=r),"false"===r&&(n[i.trim()]=!1),"true"===r&&(n[i.trim()]=!0),isNaN(r)||(n[i.trim()]=parseInt(r,10))}}))}return{formatName:t,formatOptions:n}}(t),o=a.formatName,s=a.formatOptions;if(r.formats[o]){var l=e;try{var c=i&&i.formatParams&&i.formatParams[i.interpolationkey]||{},u=c.locale||c.lng||i.locale||i.lng||n;l=r.formats[o](e,u,et(et(et({},s),i),c))}catch(e){r.logger.warn(e)}return l}return r.logger.warn("there was no format function for ".concat(o)),e}),e)}}]),e}();function it(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function rt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?it(Object(n),!0).forEach((function(t){le(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):it(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function at(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=se(e);if(t){var r=se(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return oe(this,n)}}var ot=function(e){ae(n,_e);var t=at(n);function n(e,i,r){var a,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return Q(this,n),a=t.call(this),Ae&&_e.call(ie(a)),a.backend=e,a.store=i,a.services=r,a.languageUtils=r.languageUtils,a.options=o,a.logger=ye.create("backendConnector"),a.waitingReads=[],a.maxParallelReads=o.maxParallelReads||10,a.readingCalls=0,a.maxRetries=o.maxRetries>=0?o.maxRetries:5,a.retryTimeout=o.retryTimeout>=1?o.retryTimeout:350,a.state={},a.queue=[],a.backend&&a.backend.init&&a.backend.init(r,o.backend,o),a}return ne(n,[{key:"queueLoad",value:function(e,t,n,i){var r=this,a={},o={},s={},l={};return e.forEach((function(e){var i=!0;t.forEach((function(t){var s="".concat(e,"|").concat(t);!n.reload&&r.store.hasResourceBundle(e,t)?r.state[s]=2:r.state[s]<0||(1===r.state[s]?void 0===o[s]&&(o[s]=!0):(r.state[s]=1,i=!1,void 0===o[s]&&(o[s]=!0),void 0===a[s]&&(a[s]=!0),void 0===l[t]&&(l[t]=!0)))})),i||(s[e]=!0)})),(Object.keys(a).length||Object.keys(o).length)&&this.queue.push({pending:o,pendingCount:Object.keys(o).length,loaded:{},errors:[],callback:i}),{toLoad:Object.keys(a),pending:Object.keys(o),toLoadLanguages:Object.keys(s),toLoadNamespaces:Object.keys(l)}}},{key:"loaded",value:function(e,t,n){var i=e.split("|"),r=i[0],a=i[1];t&&this.emit("failedLoading",r,a,t),n&&this.store.addResourceBundle(r,a,n),this.state[e]=t?-1:2;var o={};this.queue.forEach((function(n){var i,s,l,c,u,d;i=n.loaded,s=a,c=ke(i,[r],Object),u=c.obj,d=c.k,u[d]=u[d]||[],l&&(u[d]=u[d].concat(s)),l||u[d].push(s),function(e,t){void 0!==e.pending[t]&&(delete e.pending[t],e.pendingCount--)}(n,e),t&&n.errors.push(t),0!==n.pendingCount||n.done||(Object.keys(n.loaded).forEach((function(e){o[e]||(o[e]={});var t=n.loaded[e];t.length&&t.forEach((function(t){void 0===o[e][t]&&(o[e][t]=!0)}))})),n.done=!0,n.errors.length?n.callback(n.errors):n.callback())})),this.emit("loaded",o),this.queue=this.queue.filter((function(e){return!e.done}))}},{key:"read",value:function(e,t,n){var i=this,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:this.retryTimeout,o=arguments.length>5?arguments[5]:void 0;return e.length?this.readingCalls>=this.maxParallelReads?void this.waitingReads.push({lng:e,ns:t,fcName:n,tried:r,wait:a,callback:o}):(this.readingCalls++,this.backend[n](e,t,(function(s,l){if(i.readingCalls--,i.waitingReads.length>0){var c=i.waitingReads.shift();i.read(c.lng,c.ns,c.fcName,c.tried,c.wait,c.callback)}s&&l&&r<i.maxRetries?setTimeout((function(){i.read.call(i,e,t,n,r+1,2*a,o)}),a):o(s,l)}))):o(null,{})}},{key:"prepareLoading",value:function(e,t){var n=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments.length>3?arguments[3]:void 0;if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),r&&r();"string"==typeof e&&(e=this.languageUtils.toResolveHierarchy(e)),"string"==typeof t&&(t=[t]);var a=this.queueLoad(e,t,i,r);if(!a.toLoad.length)return a.pending.length||r(),null;a.toLoad.forEach((function(e){n.loadOne(e)}))}},{key:"load",value:function(e,t,n){this.prepareLoading(e,t,{},n)}},{key:"reload",value:function(e,t,n){this.prepareLoading(e,t,{reload:!0},n)}},{key:"loadOne",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",i=e.split("|"),r=i[0],a=i[1];this.read(r,a,"read",void 0,void 0,(function(i,o){i&&t.logger.warn("".concat(n,"loading namespace ").concat(a," for language ").concat(r," failed"),i),!i&&o&&t.logger.log("".concat(n,"loaded namespace ").concat(a," for language ").concat(r),o),t.loaded(e,i,o)}))}},{key:"saveMissing",value:function(e,t,n,i,r){var a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};this.services.utils&&this.services.utils.hasLoadedNamespace&&!this.services.utils.hasLoadedNamespace(t)?this.logger.warn('did not save key "'.concat(n,'" as the namespace "').concat(t,'" was not yet loaded'),"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!"):null!=n&&""!==n&&(this.backend&&this.backend.create&&this.backend.create(e,t,n,i,null,rt(rt({},a),{},{isUpdate:r})),e&&e[0]&&this.store.addResource(e[0],t,n,i))}}]),n}();function st(e){return"string"==typeof e.ns&&(e.ns=[e.ns]),"string"==typeof e.fallbackLng&&(e.fallbackLng=[e.fallbackLng]),"string"==typeof e.fallbackNS&&(e.fallbackNS=[e.fallbackNS]),e.supportedLngs&&e.supportedLngs.indexOf("cimode")<0&&(e.supportedLngs=e.supportedLngs.concat(["cimode"])),e}function lt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function ct(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?lt(Object(n),!0).forEach((function(t){le(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):lt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ut(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=se(e);if(t){var r=se(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return oe(this,n)}}function dt(){}var pt=function(e){ae(n,_e);var t=ut(n);function n(){var e,i,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=arguments.length>1?arguments[1]:void 0;if(Q(this,n),e=t.call(this),Ae&&_e.call(ie(e)),e.options=st(r),e.services={},e.logger=ye,e.modules={external:[]},i=ie(e),Object.getOwnPropertyNames(Object.getPrototypeOf(i)).forEach((function(e){"function"==typeof i[e]&&(i[e]=i[e].bind(i))})),a&&!e.isInitialized&&!r.isClone){if(!e.options.initImmediate)return e.init(r,a),oe(e,ie(e));setTimeout((function(){e.init(r,a)}),0)}return e}return ne(n,[{key:"init",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0;"function"==typeof t&&(n=t,t={}),!t.defaultNS&&!1!==t.defaultNS&&t.ns&&("string"==typeof t.ns?t.defaultNS=t.ns:t.ns.indexOf("translation")<0&&(t.defaultNS=t.ns[0]));var i={debug:!1,initImmediate:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!0,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:function(e){var t={};if("object"===J(e[1])&&(t=e[1]),"string"==typeof e[1]&&(t.defaultValue=e[1]),"string"==typeof e[2]&&(t.tDescription=e[2]),"object"===J(e[2])||"object"===J(e[3])){var n=e[3]||e[2];Object.keys(n).forEach((function(e){t[e]=n[e]}))}return t},interpolation:{escapeValue:!0,format:function(e,t,n,i){return e},prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0}};function r(e){return e?"function"==typeof e?new e:e:null}if(this.options=ct(ct(ct({},i),this.options),st(t)),"v1"!==this.options.compatibilityAPI&&(this.options.interpolation=ct(ct({},i.interpolation),this.options.interpolation)),void 0!==t.keySeparator&&(this.options.userDefinedKeySeparator=t.keySeparator),void 0!==t.nsSeparator&&(this.options.userDefinedNsSeparator=t.nsSeparator),!this.options.isClone){var a;this.modules.logger?ye.init(r(this.modules.logger),this.options):ye.init(null,this.options),this.modules.formatter?a=this.modules.formatter:"undefined"!=typeof Intl&&(a=nt);var o=new Ve(this.options);this.store=new Re(this.options.resources,this.options);var s=this.services;s.logger=ye,s.resourceStore=this.store,s.languageUtils=o,s.pluralResolver=new Ke(o,{prepend:this.options.pluralSeparator,compatibilityJSON:this.options.compatibilityJSON,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),!a||this.options.interpolation.format&&this.options.interpolation.format!==i.interpolation.format||(s.formatter=r(a),s.formatter.init(s,this.options),this.options.interpolation.format=s.formatter.format.bind(s.formatter)),s.interpolator=new Qe(this.options),s.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},s.backendConnector=new ot(r(this.modules.backend),s.resourceStore,s,this.options),s.backendConnector.on("*",(function(t){for(var n=arguments.length,i=new Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];e.emit.apply(e,[t].concat(i))})),this.modules.languageDetector&&(s.languageDetector=r(this.modules.languageDetector),s.languageDetector.init(s,this.options.detection,this.options)),this.modules.i18nFormat&&(s.i18nFormat=r(this.modules.i18nFormat),s.i18nFormat.init&&s.i18nFormat.init(this)),this.translator=new Fe(this.services,this.options),this.translator.on("*",(function(t){for(var n=arguments.length,i=new Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];e.emit.apply(e,[t].concat(i))})),this.modules.external.forEach((function(t){t.init&&t.init(e)}))}if(this.format=this.options.interpolation.format,n||(n=dt),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){var l=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);l.length>0&&"dev"!==l[0]&&(this.options.lng=l[0])}this.services.languageDetector||this.options.lng||this.logger.warn("init: no languageDetector is used and no lng is defined");["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"].forEach((function(t){e[t]=function(){var n;return(n=e.store)[t].apply(n,arguments)}}));["addResource","addResources","addResourceBundle","removeResourceBundle"].forEach((function(t){e[t]=function(){var n;return(n=e.store)[t].apply(n,arguments),e}}));var c=be(),u=function(){var t=function(t,i){e.isInitialized&&!e.initializedStoreOnce&&e.logger.warn("init: i18next is already initialized. You should call init just once!"),e.isInitialized=!0,e.options.isClone||e.logger.log("initialized",e.options),e.emit("initialized",e.options),c.resolve(i),n(t,i)};if(e.languages&&"v1"!==e.options.compatibilityAPI&&!e.isInitialized)return t(null,e.t.bind(e));e.changeLanguage(e.options.lng,t)};return this.options.resources||!this.options.initImmediate?u():setTimeout(u,0),c}},{key:"loadResources",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:dt,i="string"==typeof e?e:this.language;if("function"==typeof e&&(n=e),!this.options.resources||this.options.partialBundledLanguages){if(i&&"cimode"===i.toLowerCase())return n();var r=[],a=function(e){e&&t.services.languageUtils.toResolveHierarchy(e).forEach((function(e){r.indexOf(e)<0&&r.push(e)}))};if(i)a(i);else this.services.languageUtils.getFallbackCodes(this.options.fallbackLng).forEach((function(e){return a(e)}));this.options.preload&&this.options.preload.forEach((function(e){return a(e)})),this.services.backendConnector.load(r,this.options.ns,(function(e){e||t.resolvedLanguage||!t.language||t.setResolvedLanguage(t.language),n(e)}))}else n(null)}},{key:"reloadResources",value:function(e,t,n){var i=be();return e||(e=this.languages),t||(t=this.options.ns),n||(n=dt),this.services.backendConnector.reload(e,t,(function(e){i.resolve(),n(e)})),i}},{key:"use",value:function(e){if(!e)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!e.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return"backend"===e.type&&(this.modules.backend=e),("logger"===e.type||e.log&&e.warn&&e.error)&&(this.modules.logger=e),"languageDetector"===e.type&&(this.modules.languageDetector=e),"i18nFormat"===e.type&&(this.modules.i18nFormat=e),"postProcessor"===e.type&&Me.addPostProcessor(e),"formatter"===e.type&&(this.modules.formatter=e),"3rdParty"===e.type&&this.modules.external.push(e),this}},{key:"setResolvedLanguage",value:function(e){if(e&&this.languages&&!(["cimode","dev"].indexOf(e)>-1))for(var t=0;t<this.languages.length;t++){var n=this.languages[t];if(!(["cimode","dev"].indexOf(n)>-1)&&this.store.hasLanguageSomeTranslations(n)){this.resolvedLanguage=n;break}}}},{key:"changeLanguage",value:function(e,t){var n=this;this.isLanguageChangingTo=e;var i=be();this.emit("languageChanging",e);var r=function(e){n.language=e,n.languages=n.services.languageUtils.toResolveHierarchy(e),n.resolvedLanguage=void 0,n.setResolvedLanguage(e)},a=function(a){e||a||!n.services.languageDetector||(a=[]);var o="string"==typeof a?a:n.services.languageUtils.getBestMatchFromCodes(a);o&&(n.language||r(o),n.translator.language||n.translator.changeLanguage(o),n.services.languageDetector&&n.services.languageDetector.cacheUserLanguage(o)),n.loadResources(o,(function(e){!function(e,a){a?(r(a),n.translator.changeLanguage(a),n.isLanguageChangingTo=void 0,n.emit("languageChanged",a),n.logger.log("languageChanged",a)):n.isLanguageChangingTo=void 0,i.resolve((function(){return n.t.apply(n,arguments)})),t&&t(e,(function(){return n.t.apply(n,arguments)}))}(e,o)}))};return e||!this.services.languageDetector||this.services.languageDetector.async?!e&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect(a):a(e):a(this.services.languageDetector.detect()),i}},{key:"getFixedT",value:function(e,t,n){var i=this,r=function e(t,r){var a;if("object"!==J(r)){for(var o=arguments.length,s=new Array(o>2?o-2:0),l=2;l<o;l++)s[l-2]=arguments[l];a=i.options.overloadTranslationOptionHandler([t,r].concat(s))}else a=ct({},r);a.lng=a.lng||e.lng,a.lngs=a.lngs||e.lngs,a.ns=a.ns||e.ns,a.keyPrefix=a.keyPrefix||n||e.keyPrefix;var c=i.options.keySeparator||".",u=a.keyPrefix?"".concat(a.keyPrefix).concat(c).concat(t):t;return i.t(u,a)};return"string"==typeof e?r.lng=e:r.lngs=e,r.ns=t,r.keyPrefix=n,r}},{key:"t",value:function(){var e;return this.translator&&(e=this.translator).translate.apply(e,arguments)}},{key:"exists",value:function(){var e;return this.translator&&(e=this.translator).exists.apply(e,arguments)}},{key:"setDefaultNamespace",value:function(e){this.options.defaultNS=e}},{key:"hasLoadedNamespace",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;var i=this.resolvedLanguage||this.languages[0],r=!!this.options&&this.options.fallbackLng,a=this.languages[this.languages.length-1];if("cimode"===i.toLowerCase())return!0;var o=function(e,n){var i=t.services.backendConnector.state["".concat(e,"|").concat(n)];return-1===i||2===i};if(n.precheck){var s=n.precheck(this,o);if(void 0!==s)return s}return!!this.hasResourceBundle(i,e)||(!(this.services.backendConnector.backend&&(!this.options.resources||this.options.partialBundledLanguages))||!(!o(i,e)||r&&!o(a,e)))}},{key:"loadNamespaces",value:function(e,t){var n=this,i=be();return this.options.ns?("string"==typeof e&&(e=[e]),e.forEach((function(e){n.options.ns.indexOf(e)<0&&n.options.ns.push(e)})),this.loadResources((function(e){i.resolve(),t&&t(e)})),i):(t&&t(),Promise.resolve())}},{key:"loadLanguages",value:function(e,t){var n=be();"string"==typeof e&&(e=[e]);var i=this.options.preload||[],r=e.filter((function(e){return i.indexOf(e)<0}));return r.length?(this.options.preload=i.concat(r),this.loadResources((function(e){n.resolve(),t&&t(e)})),n):(t&&t(),Promise.resolve())}},{key:"dir",value:function(e){if(e||(e=this.resolvedLanguage||(this.languages&&this.languages.length>0?this.languages[0]:this.language)),!e)return"rtl";return["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"].indexOf(this.services.languageUtils.getLanguagePartFromCode(e))>-1||e.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}},{key:"cloneInstance",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:dt,r=ct(ct(ct({},this.options),t),{isClone:!0}),a=new n(r);void 0===t.debug&&void 0===t.prefix||(a.logger=a.logger.clone(t));return["store","services","language"].forEach((function(t){a[t]=e[t]})),a.services=ct({},this.services),a.services.utils={hasLoadedNamespace:a.hasLoadedNamespace.bind(a)},a.translator=new Fe(a.services,a.options),a.translator.on("*",(function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];a.emit.apply(a,[e].concat(n))})),a.init(r,i),a.translator.options=a.options,a.translator.backendConnector.services.utils={hasLoadedNamespace:a.hasLoadedNamespace.bind(a)},a}},{key:"toJSON",value:function(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}]),n}();le(pt,"createInstance",(function(){return new pt(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},arguments.length>1?arguments[1]:void 0)}));var ht=pt.createInstance();ht.createInstance=pt.createInstance;ht.createInstance,ht.init,ht.loadResources,ht.reloadResources,ht.use,ht.changeLanguage,ht.getFixedT,ht.t,ht.exists,ht.setDefaultNamespace,ht.hasLoadedNamespace,ht.loadNamespaces,ht.loadLanguages;var ft=ht;const gt={get:()=>G.get()?.me,get data(){return G.get()?.me?.data},get lang(){return G.get()?.me?.data?.lang},get groups(){return G.get()?.me?.groups},get id(){return G.get()?.me?.id},get avatar(){return G.get()?.me?.avatar},getGroupName(e){let t=G.get().groups?.find((t=>t.id==e));return t?t.name:""},update:()=>Ti.get("/api/me",!0).then((e=>{if(e&&e?.id)return Promise.all(e.groups.map((e=>Ti.get(`/api/groups/${e.id}`).then((e=>e))))).then((t=>{e.groups=t,G.dispatch("me/update",Object.assign({loaded:!0},e))})),ft.changeLanguage(e?.data?.lang),e;G.dispatch("update",{})})),fetch:()=>G.get().loaded?new Promise((e=>e(G.get()))):gt.update(),reset(){G.dispatch("@init")},logout(){K.reset()}};var mt=gt,vt={};(vt=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}).__esModule=!0,vt.default=vt;var yt={},_t={},bt={};function wt(e){return bt=wt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},bt.__esModule=!0,bt.default=bt,wt(e)}(bt=wt).__esModule=!0,bt.default=bt;var kt=bt.default,xt={},St=bt.default;function Ct(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,_t(i.key),i)}}(xt=function(e,t){if("object"!==St(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!==St(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}).__esModule=!0,xt.default=xt,(_t=function(e){var t=xt(e,"string");return"symbol"===kt(t)?t:String(t)}).__esModule=!0,_t.default=_t,(yt=function(e,t,n){return t&&Ct(e.prototype,t),n&&Ct(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}).__esModule=!0,yt.default=yt;var Ot={};(Ot=function(e,t,n){return(t=_t(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}).__esModule=!0,Ot.default=Ot;var Et,Pt={};Et=Pt,Object.defineProperty(Et,"__esModule",{value:!0,configurable:!0}),e(Pt,"PureComponent",(()=>pn)),e(Pt,"memo",(()=>hn)),e(Pt,"forwardRef",(()=>mn)),e(Pt,"Children",(()=>yn)),e(Pt,"Suspense",(()=>xn)),e(Pt,"lazy",(()=>Cn)),e(Pt,"SuspenseList",(()=>On)),e(Pt,"createPortal",(()=>An)),e(Pt,"render",(()=>Mn)),e(Pt,"hydrate",(()=>zn)),e(Pt,"__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED",(()=>Xn)),e(Pt,"version",(()=>Kn)),e(Pt,"createFactory",(()=>Gn)),e(Pt,"isValidElement",(()=>Jn)),e(Pt,"cloneElement",(()=>Qn)),e(Pt,"unmountComponentAtNode",(()=>Zn)),e(Pt,"findDOMNode",(()=>ei)),e(Pt,"unstable_batchedUpdates",(()=>ti)),e(Pt,"flushSync",(()=>ni)),e(Pt,"StrictMode",(()=>ii)),e(Pt,"startTransition",(()=>ri)),e(Pt,"useDeferredValue",(()=>ai)),e(Pt,"useTransition",(()=>oi)),e(Pt,"useInsertionEffect",(()=>si)),e(Pt,"useSyncExternalStore",(()=>li)),e(Pt,"default",(()=>di)),e(Pt,"Component",(()=>x)),e(Pt,"Fragment",(()=>k)),e(Pt,"createContext",(()=>q)),e(Pt,"createElement",(()=>_)),e(Pt,"createRef",(()=>w));var jt={};e(jt,"useState",(()=>Ht)),e(jt,"useReducer",(()=>Vt)),e(jt,"useEffect",(()=>qt)),e(jt,"useLayoutEffect",(()=>Wt)),e(jt,"useRef",(()=>Yt)),e(jt,"useMemo",(()=>Kt)),e(jt,"useImperativeHandle",(()=>Xt)),e(jt,"useCallback",(()=>Gt)),e(jt,"useContext",(()=>Jt)),e(jt,"useDebugValue",(()=>Qt)),e(jt,"useErrorBoundary",(()=>Zt)),e(jt,"useId",(()=>en));var At,Lt,Tt,Nt,It=0,Dt=[],Rt=[],Mt=s.__b,zt=s.__r,$t=s.diffed,Bt=s.__c,Ut=s.unmount;function Ft(e,t){s.__h&&s.__h(Lt,e,It||t),It=0;var n=Lt.__H||(Lt.__H={__:[],__h:[]});return e>=n.__.length&&n.__.push({__V:Rt}),n.__[e]}function Ht(e){return It=1,Vt(ln,e)}function Vt(e,t,n){var i=Ft(At++,2);if(i.t=e,!i.__c&&(i.__=[n?n(t):ln(void 0,t),function(e){var t=i.__N?i.__N[0]:i.__[0],n=i.t(t,e);t!==n&&(i.__N=[n,i.__[1]],i.__c.setState({}))}],i.__c=Lt,!Lt.u)){var r=function(e,t,n){if(!i.__c.__H)return!0;var r=i.__c.__H.__.filter((function(e){return e.__c}));if(r.every((function(e){return!e.__N})))return!a||a.call(this,e,t,n);var o=!1;return r.forEach((function(e){if(e.__N){var t=e.__[0];e.__=e.__N,e.__N=void 0,t!==e.__[0]&&(o=!0)}})),!(!o&&i.__c.props===e)&&(!a||a.call(this,e,t,n))};Lt.u=!0;var a=Lt.shouldComponentUpdate,o=Lt.componentWillUpdate;Lt.componentWillUpdate=function(e,t,n){if(this.__e){var i=a;a=void 0,r(e,t,n),a=i}o&&o.call(this,e,t,n)},Lt.shouldComponentUpdate=r}return i.__N||i.__}function qt(e,t){var n=Ft(At++,3);!s.__s&&sn(n.__H,t)&&(n.__=e,n.i=t,Lt.__H.__h.push(n))}function Wt(e,t){var n=Ft(At++,4);!s.__s&&sn(n.__H,t)&&(n.__=e,n.i=t,Lt.__h.push(n))}function Yt(e){return It=5,Kt((function(){return{current:e}}),[])}function Xt(e,t,n){It=6,Wt((function(){return"function"==typeof e?(e(t()),function(){return e(null)}):e?(e.current=t(),function(){return e.current=null}):void 0}),null==n?n:n.concat(e))}function Kt(e,t){var n=Ft(At++,7);return sn(n.__H,t)?(n.__V=e(),n.i=t,n.__h=e,n.__V):n.__}function Gt(e,t){return It=8,Kt((function(){return e}),t)}function Jt(e){var t=Lt.context[e.__c],n=Ft(At++,9);return n.c=e,t?(null==n.__&&(n.__=!0,t.sub(Lt)),t.props.value):e.__}function Qt(e,t){s.useDebugValue&&s.useDebugValue(t?t(e):e)}function Zt(e){var t=Ft(At++,10),n=Ht();return t.__=e,Lt.componentDidCatch||(Lt.componentDidCatch=function(e,i){t.__&&t.__(e,i),n[1](e)}),[n[0],function(){n[1](void 0)}]}function en(){var e=Ft(At++,11);if(!e.__){for(var t=Lt.__v;null!==t&&!t.__m&&null!==t.__;)t=t.__;var n=t.__m||(t.__m=[0,0]);e.__="P"+n[0]+"-"+n[1]++}return e.__}function tn(){for(var e;e=Dt.shift();)if(e.__P&&e.__H)try{e.__H.__h.forEach(an),e.__H.__h.forEach(on),e.__H.__h=[]}catch(t){e.__H.__h=[],s.__e(t,e.__v)}}s.__b=function(e){Lt=null,Mt&&Mt(e)},s.__r=function(e){zt&&zt(e),At=0;var t=(Lt=e.__c).__H;t&&(Tt===Lt?(t.__h=[],Lt.__h=[],t.__.forEach((function(e){e.__N&&(e.__=e.__N),e.__V=Rt,e.__N=e.i=void 0}))):(t.__h.forEach(an),t.__h.forEach(on),t.__h=[])),Tt=Lt},s.diffed=function(e){$t&&$t(e);var t=e.__c;t&&t.__H&&(t.__H.__h.length&&(1!==Dt.push(t)&&Nt===s.requestAnimationFrame||((Nt=s.requestAnimationFrame)||rn)(tn)),t.__H.__.forEach((function(e){e.i&&(e.__H=e.i),e.__V!==Rt&&(e.__=e.__V),e.i=void 0,e.__V=Rt}))),Tt=Lt=null},s.__c=function(e,t){t.some((function(e){try{e.__h.forEach(an),e.__h=e.__h.filter((function(e){return!e.__||on(e)}))}catch(n){t.some((function(e){e.__h&&(e.__h=[])})),t=[],s.__e(n,e.__v)}})),Bt&&Bt(e,t)},s.unmount=function(e){Ut&&Ut(e);var t,n=e.__c;n&&n.__H&&(n.__H.__.forEach((function(e){try{an(e)}catch(e){t=e}})),n.__H=void 0,t&&s.__e(t,n.__v))};var nn="function"==typeof requestAnimationFrame;function rn(e){var t,n=function(){clearTimeout(i),nn&&cancelAnimationFrame(t),setTimeout(e)},i=setTimeout(n,100);nn&&(t=requestAnimationFrame(n))}function an(e){var t=Lt,n=e.__c;"function"==typeof n&&(e.__c=void 0,n()),Lt=t}function on(e){var t=Lt;e.__c=e.__(),Lt=t}function sn(e,t){return!e||e.length!==t.length||t.some((function(t,n){return t!==e[n]}))}function ln(e,t){return"function"==typeof t?t(e):t}function cn(e,t){for(var n in t)e[n]=t[n];return e}function un(e,t){for(var n in e)if("__source"!==n&&!(n in t))return!0;for(var i in t)if("__source"!==i&&e[i]!==t[i])return!0;return!1}function dn(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t}function pn(e){this.props=e}function hn(e,t){function n(e){var n=this.props.ref,i=n==e.ref;return!i&&n&&(n.call?n(null):n.current=null),t?!t(this.props,e)||!i:un(this.props,e)}function i(t){return this.shouldComponentUpdate=n,_(e,t)}return i.displayName="Memo("+(e.displayName||e.name)+")",i.prototype.isReactComponent=!0,i.__f=!0,i}(pn.prototype=new x).isPureReactComponent=!0,pn.prototype.shouldComponentUpdate=function(e,t){return un(this.props,e)||un(this.state,t)};var fn=s.__b;s.__b=function(e){e.type&&e.type.__f&&e.ref&&(e.props.ref=e.ref,e.ref=null),fn&&fn(e)};var gn="undefined"!=typeof Symbol&&Symbol.for&&Symbol.for("react.forward_ref")||3911;function mn(e){function t(t){var n=cn({},t);return delete n.ref,e(n,t.ref||null)}return t.$$typeof=gn,t.render=t,t.prototype.isReactComponent=t.__f=!0,t.displayName="ForwardRef("+(e.displayName||e.name)+")",t}var vn=function(e,t){return null==e?null:A(A(e).map(t))},yn={map:vn,forEach:vn,count:function(e){return e?A(e).length:0},only:function(e){var t=A(e);if(1!==t.length)throw"Children.only";return t[0]},toArray:A},_n=s.__e;s.__e=function(e,t,n,i){if(e.then)for(var r,a=t;a=a.__;)if((r=a.__c)&&r.__c)return null==t.__e&&(t.__e=n.__e,t.__k=n.__k),r.__c(e,t);_n(e,t,n,i)};var bn=s.unmount;function wn(e,t,n){return e&&(e.__c&&e.__c.__H&&(e.__c.__H.__.forEach((function(e){"function"==typeof e.__c&&e.__c()})),e.__c.__H=null),null!=(e=cn({},e)).__c&&(e.__c.__P===n&&(e.__c.__P=t),e.__c=null),e.__k=e.__k&&e.__k.map((function(e){return wn(e,t,n)}))),e}function kn(e,t,n){return e&&(e.__v=null,e.__k=e.__k&&e.__k.map((function(e){return kn(e,t,n)})),e.__c&&e.__c.__P===t&&(e.__e&&n.insertBefore(e.__e,e.__d),e.__c.__e=!0,e.__c.__P=n)),e}function xn(){this.__u=0,this.t=null,this.__b=null}function Sn(e){var t=e.__.__c;return t&&t.__a&&t.__a(e)}function Cn(e){var t,n,i;function r(r){if(t||(t=e()).then((function(e){n=e.default||e}),(function(e){i=e})),i)throw i;if(!n)throw t;return _(n,r)}return r.displayName="Lazy",r.__f=!0,r}function On(){this.u=null,this.o=null}s.unmount=function(e){var t=e.__c;t&&t.__R&&t.__R(),t&&!0===e.__h&&(e.type=null),bn&&bn(e)},(xn.prototype=new x).__c=function(e,t){var n=t.__c,i=this;null==i.t&&(i.t=[]),i.t.push(n);var r=Sn(i.__v),a=!1,o=function(){a||(a=!0,n.__R=null,r?r(s):s())};n.__R=o;var s=function(){if(!--i.__u){if(i.state.__a){var e=i.state.__a;i.__v.__k[0]=kn(e,e.__c.__P,e.__c.__O)}var t;for(i.setState({__a:i.__b=null});t=i.t.pop();)t.forceUpdate()}},l=!0===t.__h;i.__u++||l||i.setState({__a:i.__b=i.__v.__k[0]}),e.then(o,o)},xn.prototype.componentWillUnmount=function(){this.t=[]},xn.prototype.render=function(e,t){if(this.__b){if(this.__v.__k){var n=document.createElement("div"),i=this.__v.__k[0].__c;this.__v.__k[0]=wn(this.__b,n,i.__O=i.__P)}this.__b=null}var r=t.__a&&_(k,null,e.fallback);return r&&(r.__h=null),[_(k,null,t.__a?null:e.children),r]};var En=function(e,t,n){if(++n[1]===n[0]&&e.o.delete(t),e.props.revealOrder&&("t"!==e.props.revealOrder[0]||!e.o.size))for(n=e.u;n;){for(;n.length>3;)n.pop()();if(n[1]<n[0])break;e.u=n=n[2]}};function Pn(e){return this.getChildContext=function(){return e.context},e.children}function jn(e){var t=this,n=e.i;t.componentWillUnmount=function(){F(null,t.l),t.l=null,t.i=null},t.i&&t.i!==n&&t.componentWillUnmount(),e.__v?(t.l||(t.i=n,t.l={nodeType:1,parentNode:n,childNodes:[],appendChild:function(e){this.childNodes.push(e),t.i.appendChild(e)},insertBefore:function(e,n){this.childNodes.push(e),t.i.appendChild(e)},removeChild:function(e){this.childNodes.splice(this.childNodes.indexOf(e)>>>1,1),t.i.removeChild(e)}}),F(_(Pn,{context:t.context},e.__v),t.l)):t.l&&t.componentWillUnmount()}function An(e,t){var n=_(jn,{__v:e,i:t});return n.containerInfo=t,n}(On.prototype=new x).__a=function(e){var t=this,n=Sn(t.__v),i=t.o.get(e);return i[0]++,function(r){var a=function(){t.props.revealOrder?(i.push(r),En(t,e,i)):r()};n?n(a):a()}},On.prototype.render=function(e){this.u=null,this.o=new Map;var t=A(e.children);e.revealOrder&&"b"===e.revealOrder[0]&&t.reverse();for(var n=t.length;n--;)this.o.set(t[n],this.u=[1,0,this.u]);return e.children},On.prototype.componentDidUpdate=On.prototype.componentDidMount=function(){var e=this;this.o.forEach((function(t,n){En(e,n,t)}))};var Ln="undefined"!=typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,Tn=/^(?:accent|alignment|arabic|baseline|cap|clip(?!PathU)|color|dominant|fill|flood|font|glyph(?!R)|horiz|image|letter|lighting|marker(?!H|W|U)|overline|paint|pointer|shape|stop|strikethrough|stroke|text(?!L)|transform|underline|unicode|units|v|vector|vert|word|writing|x(?!C))[A-Z]/,Nn=/^on(Ani|Tra|Tou|BeforeInp|Compo)/,In=/[A-Z0-9]/g,Dn="undefined"!=typeof document,Rn=function(e){return("undefined"!=typeof Symbol&&"symbol"==typeof Symbol()?/fil|che|rad/:/fil|che|ra/).test(e)};function Mn(e,t,n){return null==t.__k&&(t.textContent=""),F(e,t),"function"==typeof n&&n(),e?e.__c:null}function zn(e,t,n){return H(e,t),"function"==typeof n&&n(),e?e.__c:null}x.prototype.isReactComponent={},["componentWillMount","componentWillReceiveProps","componentWillUpdate"].forEach((function(e){Object.defineProperty(x.prototype,e,{configurable:!0,get:function(){return this["UNSAFE_"+e]},set:function(t){Object.defineProperty(this,e,{configurable:!0,writable:!0,value:t})}})}));var $n=s.event;function Bn(){}function Un(){return this.cancelBubble}function Fn(){return this.defaultPrevented}s.event=function(e){return $n&&(e=$n(e)),e.persist=Bn,e.isPropagationStopped=Un,e.isDefaultPrevented=Fn,e.nativeEvent=e};var Hn,Vn={enumerable:!1,configurable:!0,get:function(){return this.class}},qn=s.vnode;s.vnode=function(e){"string"==typeof e.type&&function(e){var t=e.props,n=e.type,i={};for(var r in t){var a=t[r];if(!("value"===r&&"defaultValue"in t&&null==a||Dn&&"children"===r&&"noscript"===n||"class"===r||"className"===r)){var o=r.toLowerCase();"defaultValue"===r&&"value"in t&&null==t.value?r="value":"download"===r&&!0===a?a="":"ondoubleclick"===o?r="ondblclick":"onchange"!==o||"input"!==n&&"textarea"!==n||Rn(t.type)?"onfocus"===o?r="onfocusin":"onblur"===o?r="onfocusout":Nn.test(r)?r=o:-1===n.indexOf("-")&&Tn.test(r)?r=r.replace(In,"-$&").toLowerCase():null===a&&(a=void 0):o=r="oninput","oninput"===o&&i[r=o]&&(r="oninputCapture"),i[r]=a}}"select"==n&&i.multiple&&Array.isArray(i.value)&&(i.value=A(t.children).forEach((function(e){e.props.selected=-1!=i.value.indexOf(e.props.value)}))),"select"==n&&null!=i.defaultValue&&(i.value=A(t.children).forEach((function(e){e.props.selected=i.multiple?-1!=i.defaultValue.indexOf(e.props.value):i.defaultValue==e.props.value}))),t.class&&!t.className?(i.class=t.class,Object.defineProperty(i,"className",Vn)):(t.className&&!t.class||t.class&&t.className)&&(i.class=i.className=t.className),e.props=i}(e),e.$$typeof=Ln,qn&&qn(e)};var Wn=s.__r;s.__r=function(e){Wn&&Wn(e),Hn=e.__c};var Yn=s.diffed;s.diffed=function(e){Yn&&Yn(e);var t=e.props,n=e.__e;null!=n&&"textarea"===e.type&&"value"in t&&t.value!==n.value&&(n.value=null==t.value?"":t.value),Hn=null};var Xn={ReactCurrentDispatcher:{current:{readContext:function(e){return Hn.__n[e.__c].props.value}}}},Kn="17.0.2";function Gn(e){return _.bind(null,e)}function Jn(e){return!!e&&e.$$typeof===Ln}function Qn(e){return Jn(e)?V.apply(null,arguments):e}function Zn(e){return!!e.__k&&(F(null,e),!0)}function ei(e){return e&&(e.base||1===e.nodeType&&e)||null}var ti=function(e,t){return e(t)},ni=function(e,t){return e(t)},ii=k;function ri(e){e()}function ai(e){return e}function oi(){return[!1,ri]}var si=Wt;function li(e,t){var n=t(),i=Ht({h:{__:n,v:t}}),r=i[0].h,a=i[1];return Wt((function(){r.__=n,r.v=t,dn(r.__,t())||a({h:r})}),[e,n,t]),qt((function(){return dn(r.__,r.v())||a({h:r}),e((function(){dn(r.__,r.v())||a({h:r})}))}),[e]),n}var ci,ui,di={useState:Ht,useId:en,useReducer:Vt,useEffect:qt,useLayoutEffect:Wt,useInsertionEffect:si,useTransition:oi,useDeferredValue:ai,useSyncExternalStore:li,startTransition:ri,useRef:Yt,useImperativeHandle:Xt,useMemo:Kt,useCallback:Gt,useContext:Jt,useDebugValue:Qt,version:"17.0.2",Children:yn,render:Mn,hydrate:zn,unmountComponentAtNode:Zn,createPortal:An,createElement:_,createContext:q,createFactory:Gn,cloneElement:Qn,createRef:w,Fragment:k,isValidElement:Jn,findDOMNode:ei,Component:x,PureComponent:pn,memo:hn,forwardRef:mn,flushSync:ni,unstable_batchedUpdates:ti,StrictMode:ii,Suspense:xn,SuspenseList:On,lazy:Cn,__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:Xn};ci=Pt,ui=jt,Object.keys(ui).forEach((function(e){"default"===e||"__esModule"===e||ci.hasOwnProperty(e)||Object.defineProperty(ci,e,{enumerable:!0,get:function(){return ui[e]}})}));var pi=/&(?:amp|#38|lt|#60|gt|#62|apos|#39|quot|#34|nbsp|#160|copy|#169|reg|#174|hellip|#8230|#x2F|#47);/g,hi={"&amp;":"&","&#38;":"&","&lt;":"<","&#60;":"<","&gt;":">","&#62;":">","&apos;":"'","&#39;":"'","&quot;":'"',"&#34;":'"',"&nbsp;":" ","&#160;":" ","&copy;":"©","&#169;":"©","&reg;":"®","&#174;":"®","&hellip;":"…","&#8230;":"…","&#x2F;":"/","&#47;":"/"},fi=function(e){return hi[e]};function gi(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function mi(e){for(var n=1;n<arguments.length;n++){var i=null!=arguments[n]?arguments[n]:{};n%2?gi(Object(i),!0).forEach((function(n){t(Ot)(e,n,i[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):gi(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}var vi,yi={bindI18n:"languageChanged",bindI18nStore:"",transEmptyNodeValue:"",transSupportBasicHtmlNodes:!0,transWrapTextNodes:"",transKeepBasicHtmlNodesFor:["br","strong","i","p"],useSuspense:!0,unescape:function(e){return e.replace(pi,fi)}},_i=q();var bi=function(){function e(){t(vt)(this,e),this.usedNamespaces={}}return t(yt)(e,[{key:"addUsedNamespaces",value:function(e){var t=this;e.forEach((function(e){t.usedNamespaces[e]||(t.usedNamespaces[e]=!0)}))}},{key:"getUsedNamespaces",value:function(){return Object.keys(this.usedNamespaces)}}]),e}();function wi(){return vi}var ki={type:"3rdParty",init:function(e){!function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};yi=mi(mi({},yi),e)}(e.options.react),function(e){vi=e}(e)}};var xi;xi=JSON.parse('{"previous_coms":"See previous comments","next_coms":"See next comments","ago":"{{duration}} ago","groups":"Groups","login_placeholder":"email","password_placeholder":"password","new_password_placeholder":"new password","confirm_password_placeholder":"confirm password","connect":"Connection","submit":"Submit","title_placeholder":"Title of your message (optional)","text_placeholder":"Write your message here","upload_image":"Add photos","upload_video":"Add videos","upload_music":"Add musics","upload_pdf":"Add pdf","add_date":"Add a date","logout":"Logout","settings":"Settings","name":"Name","name_input":"Choose a name","login":"Login","login_input":"Choose a login","email":"Email","email_input":"Fill in your email here","save_changes":"Save changes","password":"Password","password_input":"Write a new password here","Invalid login/password":"Invalid login and/or password","edit":"Edit","delete":"Delete","ask_delete_message":"Are you sure to delete this message?","account":"Account","forgot_password":"Did you forget your password?","password_reset_mail_sent":"The password reset email was sent !","User not found":"User not found","reset_password_title":"Reset your password","error":"An error occurred","passwords_dont_match":"Passwords don\'t match","invitation_link":"Invitation link","reset_invitation_link":"Reset invitation link","invitation_welcome":"Welcome on Zusam ! Please sign up before joining the group.","signup":"Sign up","create_a_group":"Create a group","create_the_group":"Create the group","quit_group":"Leave the group","settings_updated":"Your settings were updated","group_updated":"The group was updated !","group_left":"You left the group !","multiple_photos_upload":"An error occurred. Try uploading images one by one (this can happen in some browsers).","error_new_message":"An error occurred while sending your message.","error_upload":"An error occurred during the upload","cancel_write":"Do you really want to cancel writing a new message?","empty_message":"The message is empty and cannot be sent !","cancel":"Cancel","just_now":"Just now","notification_emails":"Email notifications","none":"None","hourly":"Hourly","daily":"Daily","weekly":"Weekly","monthly":"Monthly","notification_emails_stopped":"Email notifications stopped !","group_share_choice":"To which group do you want to send this message?","public_link":"public link","default_group":"Default group","destroy_account":"Delete your account","destroy_account_explain":"Once you delete your account, there is no going back. Please be certain.","are_you_sure":"Are you sure?","share_message":"share the message","users":"users","has_posted_in":"has posted in","has_commented_on":"has commented on","has_joined":"has joined","has_left":"has left","the_message_from":"the message from","in":"in","lang":"language","reply":"reply","replies_one":"{{count}} reply","replies_other":"{{count}} replies","publish_in_group":"publish in the group","search_in_group":"search in this group","changed_group_name":"changed the group\'s name","to":"to","notifications":"notifications","mark_all_as_read":"mark all as read","search_without_result":"Your search did not match any message.","add_bookmark":"Bookmark message","remove_bookmark":"Unbookmark message","bookmarks":"bookmarks","api_key":"API key","reset_api_key":"Reset the API key (you will be disconnected)","video_not_ready":"Video is not ready yet.","bookmark_added":"Message added to bookmarks !","bookmark_removed":"Message removed from bookmarks !","parent_message":"Parent message"}');var Si;Si=JSON.parse('{"previous_coms":"Ver los comentarios anteriores","next_coms":"Ver los siguientes comentarios","ago":"Hace {{duration}}","groups":"Grupos","login_placeholder":"correo","password_placeholder":"contraseña","new_password_placeholder":"nueva contraseña","confirm_password_placeholder":"confirmar contraseña","connect":"Conectarse","submit":"Enviar","title_placeholder":"Asunto (opcional)","text_placeholder":"Escribe tu mensaje aquí","upload_image":"Añadir fotos","upload_video":"Añadir videos","upload_music":"Añadir música","upload_pdf":"Añadir pdf","add_date":"Añadir una fecha","logout":"Desconectarse","settings":"Parámetros","name":"Nombre","name_input":"Elige un nombre","login":"Usuario","login_input":"Elige un usuario","email":"Correo","email_input":"Indicar correo electrónico","save_changes":"Guardar los cambios","password":"Contraseña","password_input":"Indicar una nueva contraseña","Invalid login/password":"Usuario o contraseña incorrecto","edit":"Editar","delete":"Borrar","ask_delete_message":"¿Quieres borrar este mensaje?","account":"Cuenta","forgot_password":"¿Olvidaste tu contraseña?","password_reset_mail_sent":"El correo ha sido enviado!","User not found":"El usuario no existe","reset_password_title":"Cambia tu contraseña","error":"Un error ocurrió. Vuelve a intentar.","passwords_dont_match":"Las contraseñas no coinciden","invitation_link":"Enlace de invitación","reset_invitation_link":"Cambiar el enlace de invitación","invitation_welcome":"Bienvenido a Zusam ! Inscribete para conectarte con un grupo.","signup":"Inscribirse","create_a_group":"Crear un grupo","create_the_group":"Crear el grupo","quit_group":"Dejar el grupo","settings_updated":"Tus preferencias han sido actualizadas!","group_updated":"El grupo ha sido actualizado!","group_left":"Has abandonado el grupo","multiple_photos_upload":"Un error ocurrió. Vuelve a intentar con solo una foto (algunos navegadores impiden añadir varias fotos al mismo tiempo).","error_new_message":"Un error desconocido ocurrió durante el envío del mensaje.","error_upload":"Un error ocurrió durante el envío.","cancel_write":"¿Quieres cancelar este nuevo mensaje?","empty_message":"No hay mensaje!","cancel":"Cancelar","just_now":"Ahora","notification_emails":"Correo de notificación","none":"Ninguno","hourly":"Cada hora","daily":"Diario","weekly":"Semanal","monthly":"Mensual","notification_emails_stopped":"Notificaciones de correo electrónico detenidas!","group_share_choice":"¿A qué grupo desea enviar este mensaje?","public_link":"enlace público","default_group":"Grupo predeterminado","destroy_account":"Borrar la cuenta","destroy_account_explain":"Una vez que elimines tu cuenta, no hay vuelta atrás.","are_you_sure":"Estás seguro ?","share_message":"comparte el mensaje","users":"usuarios","has_posted_in":"ha publicado en","has_commented_on":"ha comentado","has_joined":"se has unido","has_left":"ha dejado","the_message_from":"el mensaje de","in":"en","lang":"idioma","reply":"responder","replies_one":"{{count}} respuesta","replies_other":"{{count}} respuestas","publish_in_group":"publicar en el grupo","search_in_group":"buscar en este grupo","changed_group_name":"cambió el nombre del grupo","to":"a","notifications":"notificaciones","mark_all_as_read":"marcar todo como leido","search_without_result":"Su búsqueda no coincide con ningún mensaje.","add_bookmark":"Marcar este mensaje","remove_bookmark":"Desmarcar este mensaje","bookmarks":"marcadores","api_key":"Clave API","reset_api_key":"Restablecer la clave API (se desconectará)","video_not_ready":"El video aún no está listo","bookmark_added":"Mensaje agregado a marcadores !","bookmark_removed":"Mensaje eliminado de los marcadores !","parent_message":"Mensaje para padres"}');var Ci;Ci=JSON.parse('{"previous_coms":"Voir les commentaires précédents","next_coms":"Voir les commentaires suivants","ago":"Il y a {{duration}}","groups":"Groupes","login_placeholder":"email","password_placeholder":"mot de passe","new_password_placeholder":"nouveau mot de passe","confirm_password_placeholder":"confirmez le mot de passe","connect":"Connexion","submit":"Envoyer","title_placeholder":"Titre de votre message (optionnel)","text_placeholder":"Ecrivez votre message ici","upload_image":"Ajouter des photos","upload_video":"Ajouter des vidéos","upload_music":"Ajouter des musiques","upload_pdf":"Ajouter un pdf","add_date":"Préciser une date","logout":"Se déconnecter","settings":"Paramètres","name":"Nom","name_input":"Choisissez un nom","login":"Identifiant","login_input":"Choisissez un identifiant","email":"Email","email_input":"Renseignez votre adresse mail ici","save_changes":"Sauvegarder les changements","password":"Mot de passe","password_input":"Entrez un nouveau mot de passe","Invalid login/password":"Identifiant et/ou mot de passe invalide","edit":"Editer","delete":"Supprimer","ask_delete_message":"Êtes-vous sûr de vouloir supprimer ce message ?","account":"Compte","forgot_password":"Mot de passe oublié ?","password_reset_mail_sent":"Le mail de réinitialisation a bien été envoyé !","User not found":"Utilisateur inexistant","reset_password_title":"Réinitialisation de votre mot de passe","error":"Une erreur s\'est produite","passwords_dont_match":"Les mots de passe ne correspondent pas","invitation_link":"Lien d\'invitation","reset_invitation_link":"Réinitialiser le lien d\'invitation","invitation_welcome":"Bienvenue sur Zusam ! Veuillez vous inscrire avant de rejoindre le groupe.","signup":"S\'inscrire","create_a_group":"Créer un groupe","create_the_group":"Créer le groupe","quit_group":"Quitter le groupe","settings_updated":"Vos paramètres ont été mis à jour","group_updated":"Le groupe a été mis à jour !","group_left":"Vous avez quitté le groupe !","multiple_photos_upload":"Une erreur s\'est produite. Essayez de télécharger les images une par une (cela peut se produire dans certains navigateurs).","error_new_message":"Une erreur s’est produite lors de l’envoi de votre message.","error_upload":"Une erreur s\'est produite pendant le téléversement","cancel_write":"Voulez-vous annuler l\'écriture d\'un nouveau message ?","empty_message":"Le message est vide et ne peut être envoyé !","cancel":"Annuler","just_now":"A l\'instant","notification_emails":"Mail de notification","none":"Aucun","hourly":"Une fois par heure","daily":"Journalier","weekly":"Hebdomadaire","monthly":"Mensuel","notification_emails_stopped":"Notifications par email désactivées !","group_share_choice":"A quel groupe voulez-vous envoyer ce message ?","public_link":"lien public","default_group":"Groupe par défaut","destroy_account":"Supprimer votre compte","destroy_account_explain":"Une fois votre compte supprimé, il sera impossible d\'annuler l\'opération.","are_you_sure":"Etes-vous sûr ?","share_message":"partager le message","users":"utilisateurs","has_posted_in":"a posté dans","has_commented_on":"a commenté","has_joined":"a rejoint","has_left":"a quitté","the_message_from":"le message de","in":"dans","lang":"langue","reply":"répondre","replies_one":"{{count}} réponse","replies_other":"{{count}} réponses","publish_in_group":"promouvoir le message","search_in_group":"rechercher dans le groupe","changed_group_name":"a changé le nom du groupe","to":"en","notifications":"notifications","mark_all_as_read":"tout marquer comme lu","search_without_result":"Votre recherche ne correspond à aucun message.","add_bookmark":"Ajouter aux marque-pages","remove_bookmark":"Supprimer des marque-pages","bookmarks":"marque-pages","api_key":"Clef d\'API","reset_api_key":"Changer votre clef d\'API (vous allez être déconnecté)","video_not_ready":"La vidéo n\'est pas encore prête.","bookmark_added":"Message ajouté aux marque-pages !","bookmark_removed":"Message supprimé des marque-pages !","parent_message":"Message parent"}');var Oi;Oi=JSON.parse('{"previous_coms":"Zie vorige","next_coms":"Zie volgende","ago":"{{duration}} geleden","groups":"Groepen","login_placeholder":"email","password_placeholder":"wachtwoord","new_password_placeholder":"nieuw wachtwoord","confirm_password_placeholder":"bevestig wachtwoord","connect":"Verbind","submit":"Verstuur","title_placeholder":"Titel van jouw bericht (optioneel)","text_placeholder":"Schrijf jouw bericht hier","upload_image":"Voeg foto\'s toe","upload_video":"Voeg filmpjes toe","upload_music":"Voeg muziek toe","upload_pdf":"Voeg PDF toe","add_date":"Voeg een datum toe","logout":"Afmelden","settings":"Instellingen","name":"Naam","name_input":"Kies een naam","login":"Aanmelden","login_input":"Kies een aanmeldingsnaam","email":"Email","email_input":"Voeg uw email adres hier in","save_changes":"Wijzigingen opslaan","password":"Wachtwoord","password_input":"Kies een nieuw wachtwoord","Invalid login/password":"Ongeldige aanmeldnaam/wachtwoord combinatie","edit":"Bewerken","delete":"Verwijderen","ask_delete_message":"Bent u zeker dat u dit bericht wil verwijderen?","account":"Account","forgot_password":"Wachtwoord vergeten?","password_reset_mail_sent":"De wachtwoord reset link is naar uw email adres verstuurd.","User not found":"Gebruiker niet gevonden","reset_password_title":"Reset uw wachtwoord","error":"Er is een fout opgetreden","passwords_dont_match":"Wachtwoorden komen niet overeen","invitation_link":"Uitnodigings link","reset_invitation_link":"Reset uitnodiging link","invitation_welcome":"Welkom op Zusam ! Gelieve aan te melden vooraleer in een groep in te schrijven.","signup":"Inschrijven","create_a_group":"Maak een groep","create_the_group":"Maak de groep","quit_group":"Verlaat de groep","settings_updated":"Uw instellingen werden aangepast","group_updated":"De groep werd aangepast !","group_left":"U heeft de groep verlaten !","multiple_photos_upload":"Er is een fout opgetreden. Probeer foto\'s 1 voor 1 op te laden","error_new_message":"Er is een fout opgetreden bij het doorsturen van uw bericht.","error_upload":"Er is een fout opgetreden bij het uploaden","cancel_write":"Bent u zeker dat u dit bericht wil annuleren?","empty_message":"Dit bericht is leeg en kan niet worden verzonden !","cancel":"Annuleren","just_now":"Net","notification_emails":"Email notificaties","none":"Niets","hourly":"Elk uur","daily":"Elke dag","weekly":"Elke week","monthly":"Elke maand","notification_emails_stopped":"Email notificaties zijn gestopt !","group_share_choice":"Naar welke groep wenst u dit bericht te sturen?","public_link":"publieke link","default_group":"Standaard groep","destroy_account":"Verwijder jouw account","destroy_account_explain":"Indien u uw account verwijdert, kan deze niet meer worden teruggehaald.","are_you_sure":"Bent u zeker?","share_message":"Deel bericht","users":"gebruikers","has_posted_in":"heeft gepost in","has_commented_on":"heeft commentaar gegeven op","has_joined":"is erbij gekomen","has_left":"is weggegaan","the_message_from":"het bericht van","in":"in","lang":"taal","reply":"antwoorden","replies_one":"{{count}} antwoord","replies_other":"{{count}} antwoorden","publish_in_group":"gepubliseerd in de groep","search_in_group":"zoek in deze groep","changed_group_name":"verandert de groepsnaam","to":"aan","notifications":"notificaties","mark_all_as_read":"markeer als gelezen","search_without_result":"Er werd geen enkel bericht gevonden met deze criteria","add_bookmark":"Bookmark bericht","remove_bookmark":"Unbookmark bericht","bookmarks":"bookmarks","api_key":"API key","reset_api_key":"Reset the API key (you will be disconnected)","video_not_ready":"Video is nog niet klaar.","bookmark_added":"Bericht toegevoegd aan bookmarks !","bookmark_removed":"Bericht verwijderd uit bookmarks !","parent_message":"Parent bericht"}');var Ei;Ei=JSON.parse('{"previous_coms":"Pozri predchádzajúce komentáre","next_coms":"Pozri nasledujúce komentáre","ago":"{{duration}} späť","groups":"Skupiny","login_placeholder":"email","password_placeholder":"heslo","new_password_placeholder":"nové heslo","confirm_password_placeholder":"potvrdiť heslo","connect":"Connection","submit":"Odoslať","title_placeholder":"Nadpis vášho príspevku (nie je povinné)","text_placeholder":"Tu napíš príspevok","upload_image":"Pridať fotografie","upload_video":"Pridať videá","upload_music":"Pridať hudbu","upload_pdf":"Pridať pdf","add_date":"Pridať dátum","logout":"Odhlásiť","settings":"Nastavenia","name":"Meno","name_input":"Zvoľ si nejaké meno","login":"Login","login_input":"Zvoľ si nejaké prihlasovacie meno","email":"Email","email_input":"Napíš tvoj email sem","save_changes":"Uložiť zmeny","password":"Heslo","password_input":"Tu napíš heslo","Invalid login/password":"Nesprávny login alebo heslo","edit":"Upraviť","delete":"Zmazať","ask_delete_message":"Si si istý, že chceš zmazať tento príspevok?","account":"Účet","forgot_password":"Zabudol si svoje heslo?","password_reset_mail_sent":"Email s informáciami o nastavení nového hesla bol odoslaný!","User not found":"Neexistujúci užívateľ","reset_password_title":"Zmena hesla","error":"Chyba","passwords_dont_match":"Heslá sa nezhodujú","invitation_link":"Pozývací odkaz","reset_invitation_link":"Reset invitation link","invitation_welcome":"Vitajte v Zusam ! Zaregistrujte sa pred pripojením sa ku skupine.","signup":"Prihlásiť","create_a_group":"Vytvoriť skupinu","create_the_group":"Vytvoriť skupinu","quit_group":"Opustiť skupinu","settings_updated":"Vaše nastavenia boli zmenené","group_updated":"Nastavenia skupiny boli zmenené","group_left":"Opustili ste skupinu","multiple_photos_upload":"Objavila sa chyba. Skúste priložiť obrázky po jednom (táto chyba sa môže objavovať v niektorých prehliadačoch)","error_new_message":"Pri odosielaní príspevku sa objavila chyba","error_upload":"Objavila sa chyba počas odosielania","cancel_write":"Chcete naozaj zrušiť vytváranie nového príspevku?","empty_message":"Prázdna správa nemôže byť odoslaná","cancel":"Zrušiť","just_now":"Práve teraz","notification_emails":"Notifikačný email","none":"Žiadne","hourly":"Každú hodinu","daily":"Denne","weekly":"Týždenne","monthly":"Mesačne","notification_emails_stopped":"E-mailové upozornenia sa zastavili!","group_share_choice":"Do ktorej skupiny chcete odoslať túto správu ?","public_link":"verejné spojenie","default_group":"Predvolenú skupinu","destroy_account":"Odstráňte svoj účet","destroy_account_explain":"Po odstránení účtu sa už nevráti","are_you_sure":"Si si istý ?","share_message":"zdieľajte správu","users":"užívatelia","has_posted_in":"zverejnila v","has_commented_on":"komentoval","has_joined":"sa pripojil k","has_left":"opustil","the_message_from":"správa od","in":"v","lang":"jazyk","reply":"odpoveď","replies_one":"{{count}} odpoveď","replies_other":"{{count}} odpovedí","publish_in_group":"publikovať v skupine","search_in_group":"hľadať v tejto skupine","changed_group_name":"zmenil názov skupiny","to":"na","notifications":"oznámenia","mark_all_as_read":"označiť všetko ako prečítané","search_without_result":"Vášmu vyhľadávaniu nezodpovedá žiadna správa","add_bookmark":"Túto správu uložiť medzi záložky","remove_bookmark":"Zrušte označenie tejto správy","bookmarks":"záložky","api_key":"Kľúč API","reset_api_key":"Obnovte kľúč rozhrania API (budete odpojení)","video_not_ready":"Video ešte nie je pripravené","bookmark_added":"Správa pridaná do záložiek !","bookmark_removed":"Správa bola odstránená zo záložiek !","parent_message":"Správa rodiča"}');const Pi={possibleLang:{en:"English",es:"Español",fr:"Français",nl:"Nederlands",sk:"Slovenský"},getDefaultLang:()=>(document.querySelector("meta[name='zusam:default-lang']")||{}).content||"en",getCurrentLang:()=>mt.lang||Pi.getDefaultLang()};ft.use(ki).init({resources:{en:{translation:t(xi)},fr:{translation:t(Ci)},sk:{translation:t(Ei)},es:{translation:t(Si)},nl:{translation:t(Oi)}},lng:Pi.getCurrentLang(),fallbackLng:Pi.getDefaultLang(),interpolation:{escapeValue:!1}});const ji={isValidUrl:e=>{try{return new URL(e),!0}catch(e){return!1}},limitLength:(e,t=20)=>[...e.split("").slice(0,Math.floor(t/2)),e.length>t?"...":"",...e.split("").slice(Math.floor(t/2)).slice(-1*Math.floor(t/2))].join(""),escapeRegex:e=>e.replace(/[-/\\^$*+?.()|[\]{}]/g,"\\$&"),getSubpath:()=>new URL(document.baseURI).pathname.replace(/\/$/,""),toApp:e=>e&&"string"==typeof e?ji.isValidUrl(e)?e:location.origin+ji.getSubpath()+e:"",genId:e=>`z${e||""}-${Date.now().toString().slice(-5)}${Math.random().toString().slice(-5)}`,id2Int:e=>parseInt(e.replace(/[^\d]/g,""),10),urlRegExp:/(\([^()]*)?https?:\/\/[^[\]\n\r ]*[-A-Za-z0-9+&@#/%=~_()|]/i,getUrl:e=>{if(!e)return"";let t=e.match(ji.urlRegExp);if(t&&t[0].startsWith("(")){let e=t[0].match(/https?:\/\//i);t.index+=e.index,t[0]=t[0].slice(e.index),t[0].endsWith(")")&&(t[0]=t[0].slice(0,-1))}return t},limitStrSize:(e,t)=>e.length>t?`${e.slice(0,t-3)}...`:e,humanFullDate:e=>{if(!e)return"";let t=new Date(1e3*e);return t=new Date(t.getTime()+-6e4*t.getTimezoneOffset()),t.toISOString().replace("T"," ").replace(/\..*$/,"")},humanTime:e=>{if(!e)return null;const t=Math.abs(Math.round((Date.now()/1e3-e)/60));return t<1?ft.t("just_now"):t<60?ft.t("ago",{duration:`${t}mn`}):t<1440?ft.t("ago",{duration:`${Math.floor(t/60)}h`}):ji.humanFullDate(e).split(" ")[0]},getId:e=>{switch(typeof e){case"object":return e?e.id:null;case"string":return e.split("/").pop().replace(/\?.*$/,"").replace(/\.\w+$/,"");default:throw console.error(e),"Could not extract id !"}},thumbnail:(e,t,n=99999)=>"string"!=typeof e||e.startsWith("z")?null:ji.toApp(`/api/images/thumbnail/${t}/${n}/${e}`),crop:(e,t,n)=>"string"!=typeof e||e.startsWith("z")?null:ji.toApp(`/api/images/crop/${t}/${n}/${e}`),defaultAvatar:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAgAAAAIAAQMAAADOtka5AAAABlBMVEUAAAD///+l2Z/dAAAAAnRSTlMA/iyWEiMAAAMJSURBVHja7ZtBjpwwEEWxmIhFFmiURZZEyi6HCLkZHCXr2eQKHIUjoEiRSGRRiWB6klaDU/hDF4z+W6LuNz3+ZRvbkCSEEEIIIYQQQgghhBBCCCGEEEIIITvwGfy+kxoTpNJigkw6TJBLjwkK8ZiglMFYUInAAqwQRKRBBR0q8FhXEKwVR0GLCvxCjeo6oyzkoIxnEvj5661acPO3yvFqpxdcV+Pj88VeNZ7cGB4ul1QFkv399KT4KBIpmGEwF4i9oL6DIN/3FzToL2ju8AvsBeE2aNFfQMFJBCkF0/R+bkHyCgSVuaDcVaC5zyvMBTkqyHYVaBZDKSpw5oJgLcMC5doXFBSoIMNutjcQBHJULmlhQYUKlmNQbs9kqGC5P2o3FqBBOVjMWkEOdcZQKam3dyqkkgP/g35zxmEpLhbjir0ZFz2tXHgbPR5deI+EMPKmig/hhU/fIkOYL4iYDbIyqpCXajp2Zy4yhNuxqUfbMCaEIraQZ9swJgQBQ0jBQr6eYXrzQrYIYdtC9uaFbDKayJajyTkL+VijyWA+mnBajGpDeFrMzAu5BNvwKoQBDaFHQ+jQEBo0hBoMYUBD8GgIHRpCi44mcAiJRQhoITvzQs63LGQxL2SOJnEhiHUI296bwNOixb1JYr5kz8yX7Odf6XDfBC9kd6yVzq+np69QIY/8AEJ45kt0T4hIM0VONm5CiLlVhLflS+CwdTGEVa2AnfOFTogaVAAfcg1QivpqzLFHD4LnrR0q8FAhqlux3PPUu0EFLSrooL6kLeaQwKMCTY4OfUjVoY+IOvTxSFiw81NtnbmgRwXeXDAg08IxBPIKBPX5BQ0FBxC0+wtSCg4gcBT853nruwiqfQXNHQT/LDiGD9Old6sEL2umn3MtqxDks9NotVbwfaG+FDfL6fznsjV32365cTXrtqoPdJKYrbmreIDvT42DCMYoIUEu4FvIKSpwgr6JvYEAfJm8QgUl+j58gb6Rn4Nvcv/p0jUmcODr8IQQQgghhBBCCCGEEEIIIYQQQgghs/wGp6uYgtiKODIAAAAASUVORK5CYII=",hash:e=>e.split("").reduce(((e,t)=>(e<<5)-e+t.charCodeAt()|0)),colorHash:e=>["#000000","#333366","#333399","#3333CC","#339933","#339999","#33CC33","#33CC99","#663333","#663366","#666633","#666699","#66CC33","#66CCCC","#993333","#993366","#993399","#996633","#999966","#CC3333","#CC3366","#CC3399","#CC33CC","#CC6633","#CC9933","#CC99CC","#CCCC33"][Math.abs(ji.hash(e))%27],backgroundHash:e=>{if(!e)return"background-color: #aaa;";let t=ji.colorHash(e),n=ji.colorHash(e.split("").reverse().join("."));return`background-color:${t};background-image:linear-gradient(${Math.abs(ji.hash(e))%4*45}deg, ${n} 15%, transparent 15% 30%, ${n} 30% 45%, transparent 45% 60%, ${n} 60% 75%, transparent 75% 90%, ${n} 90%);`},is_it_enter:e=>13==e.keyCode||10==e.keyCode||"Enter"==e.key||"↵"==e.key||"Enter"==e.code,getVersion:()=>(document.querySelector("meta[name='zusam:version']")||{}).content||"unknown",getWidthBreakpoint:()=>window.innerWidth>1800?1800:window.innerWidth>1400?1400:window.innerWidth>992?992:window.innerWidth>768?768:window.innerWidth>576?576:window.innerWidth};var Ai=ji;const Li={sendFile:(e,t,n=null,i=null)=>K.get("apiKey").then((r=>{let a=new XMLHttpRequest;a.open("POST",`${document.baseURI}api/files`,!0),a.setRequestHeader("X-AUTH-TOKEN",r),a.addEventListener("load",(e=>{e.target.status>199&&e.target.status<300?t(JSON.parse(e.target.response)):i?i(e.target.statusText):console.error(e.target.statusText)})),n&&(a.upload.onprogress=e=>n({loaded:e.loaded,total:e.total})),i&&a.addEventListener("error",(e=>i(e))),a.send(e)})).catch((e=>Y.add(e,"alert-danger"))),get:(e,t=!1,n=0)=>K.get("apiKey").then((e=>new Promise((t=>setTimeout((()=>t(e)),n))))).then((n=>{if(!(e=Ai.toApp(e)))return;let i={};return n&&(i["X-AUTH-TOKEN"]=n),t&&(i["X-NOCACHE"]="nocache"),fetch(e,{method:"GET",headers:new Headers(i)}).then((e=>e.ok&&e.json())).catch((t=>console.warn(`ERROR for ${e}`,t)))})).catch((e=>Y.add(e,"alert-danger"))),post:(e,t,n=0,i="application/json")=>Li.request(e,t,"POST",n,i),put:(e,t,n=0,i="application/json")=>Li.request(e,t,"PUT",n,i),delete:(e,t,n=0,i="application/json")=>Li.request(e,null,"DELETE",n,i),request:(e,t,n,i=0,r="application/json")=>K.get("apiKey").then((e=>new Promise((t=>setTimeout((()=>t(e)),i))))).then((i=>{if(!(e=Ai.toApp(e)))return;let a={};i&&(a["X-AUTH-TOKEN"]=i),r&&(a["Content-type"]=r);let o={method:n,headers:new Headers(a)};return t&&(o.body="object"==typeof t&&"Object"==t.constructor.name?JSON.stringify(t):t),fetch(e,o).then((e=>{try{return"DELETE"!=n?e.json():{}}catch(e){return console.warn(e.message),Promise.reject(e.message)}})).catch((t=>console.warn(`ERROR for ${e}`,t)))})).catch((e=>Y.add(e,"alert-danger")))};var Ti=Li;const Ni={LIMIT:20,get:()=>G.get()?.notifications||[],update:()=>Ti.get(`/api/me/notifications/${Ni.LIMIT+1}`).then((e=>{G.dispatch("notifications/update",e)})),isNew(e){let t=G.get();return!!Array.isArray(t.notifications)&&t.notifications.filter((e=>!e.read)).some((t=>Ni.matchNotification(t,e)||"new_comment"==t.type&&t.fromMessage.id===e))},removeAllNotifications(){let e=G.get();Array.isArray(e.notifications)&&e.notifications.forEach((e=>{Ti.delete(`/api/notifications/${e.id}`).then((()=>{G.dispatch("notifications/remove",e)}))}))},markAllNotificationsAsRead(){let e=G.get();Array.isArray(e.notifications)&&e.notifications.forEach((e=>{Ti.put(`/api/notifications/${e.id}`,{read:!0}).then((()=>{G.dispatch("notifications/read",e)}))}))},removeMatchingNotifications:e=>Promise.all(G.get().notifications.filter((t=>Ni.matchNotification(t,e))).map((e=>{Ti.delete(`/api/notifications/${e.id}`).then((()=>{G.dispatch("notifications/remove",e)}))}))),markAsRead:e=>Promise.all(G.get().notifications.filter((t=>Ni.matchNotification(t,e))).map((e=>{Ti.put(`/api/notifications/${e.id}`,{read:!0}).then((()=>{G.dispatch("notifications/read",e)}))}))),matchNotification:(e,t)=>e.id===t||e.target===t};const Ii={LIMIT:1e3,get:()=>G.get()?.bookmarks||[],update:()=>Ti.get(`/api/me/bookmarks/${Ii.LIMIT+1}`).then((e=>{G.dispatch("bookmarks/update",e)}))};const Di={get:()=>G.get(),get route(){try{return Di.removeSubpath(location.pathname).slice(1).split("/")[0]}catch{return""}},get id(){try{return Di.removeSubpath(location.pathname).slice(1).split("/")[1]}catch{return""}},get action(){try{return Di.removeSubpath(location.pathname).slice(1).split("/")[2]}catch{return""}},get backUrl(){return console.err("don't use backUrl"),G.get()?.backUrl},get search(){return location.search.slice(1)},getEntity:()=>Di.isEntity(Di.route)?Ti.get(`/api/${Di.route}/${Di.id}`):Promise.resolve(null),get entity(){return console.err("don't use entity"),G.get()?.entity},removeSubpath:e=>e?e.replace(new RegExp(`^${Ai.getSubpath()}`),""):"",getParam:(e,t=window.location.search.substring(1))=>{let n=t.split("&").find((t=>t.split("=")[0]===e));return n?decodeURIComponent(n.split("=")[1]):""},getSegments:()=>Di.removeSubpath(window.location.pathname).slice(1).split("?")[0].split("/"),isOutside:()=>["login","password-reset","signup","invitation","stop-notification-emails","public"].includes(Di.route||Di.getSegments()[0]),isEntity:()=>["messages","groups","users","links","files"].includes(Di.getSegments()[0]),getUrlComponents:e=>{let t={};return e&&(t.url=new URL(e),t.path=t.url.pathname,t.search=t.url.search.slice(1),[t.route,t.id,t.action]=Di.removeSubpath(t.path).slice(1).split("/")),t.entityType="",t.backUrl="",t}};const Ri=Y,Mi={get info(){return G.get()?.api},update:()=>Ti.get("/api/info",!0).then((e=>{if(e)return G.dispatch("api/update",Object.assign({},e)),setTimeout(dispatchEvent(new CustomEvent("apiStateChange"))),e}))},zi=Ti,$i=Pi,Bi=mt,Ui=Ni,Fi=Ii,Hi=Di,Vi=K,qi=Ai;var Wi={},Yi={};(Yi=function(e){if(Array.isArray(e))return e}).__esModule=!0,Yi.default=Yi;var Xi={};(Xi=function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var i,r,a,o,s=[],l=!0,c=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(i=a.call(n)).done)&&(s.push(i.value),s.length!==t);l=!0);}catch(e){c=!0,r=e}finally{try{if(!l&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw r}}return s}}).__esModule=!0,Xi.default=Xi;var Ki={},Gi={};(Gi=function(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}).__esModule=!0,Gi.default=Gi,(Ki=function(e,t){if(e){if("string"==typeof e)return Gi(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Gi(e,t):void 0}}).__esModule=!0,Ki.default=Ki;var Ji={};function Qi(){if(console&&console.warn){for(var e,t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];"string"==typeof n[0]&&(n[0]="react-i18next:: ".concat(n[0])),(e=console).warn.apply(e,n)}}(Ji=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}).__esModule=!0,Ji.default=Ji,(Wi=function(e,t){return Yi(e)||Xi(e,t)||Ki(e,t)||Ji()}).__esModule=!0,Wi.default=Wi;var Zi={};function er(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];"string"==typeof t[0]&&Zi[t[0]]||("string"==typeof t[0]&&(Zi[t[0]]=new Date),Qi.apply(void 0,t))}function tr(e,t,n){e.loadNamespaces(t,(function(){if(e.isInitialized)n();else{e.on("initialized",(function t(){setTimeout((function(){e.off("initialized",t)}),0),n()}))}}))}function nr(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return t.languages&&t.languages.length?void 0!==t.options.ignoreJSONStructure?t.hasLoadedNamespace(e,{precheck:function(t,i){if(n.bindI18n&&n.bindI18n.indexOf("languageChanging")>-1&&t.services.backendConnector.backend&&t.isLanguageChangingTo&&!i(t.isLanguageChangingTo,e))return!1}}):function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=t.languages[0],r=!!t.options&&t.options.fallbackLng,a=t.languages[t.languages.length-1];if("cimode"===i.toLowerCase())return!0;var o=function(e,n){var i=t.services.backendConnector.state["".concat(e,"|").concat(n)];return-1===i||2===i};return!(n.bindI18n&&n.bindI18n.indexOf("languageChanging")>-1&&t.services.backendConnector.backend&&t.isLanguageChangingTo&&!o(t.isLanguageChangingTo,e)||!t.hasResourceBundle(i,e)&&t.services.backendConnector.backend&&(!t.options.resources||t.options.partialBundledLanguages)&&(!o(i,e)||r&&!o(a,e)))}(e,t,n):(er("i18n.languages were undefined or empty",t.languages),!0)}function ir(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function rr(e){for(var n=1;n<arguments.length;n++){var i=null!=arguments[n]?arguments[n]:{};n%2?ir(Object(i),!0).forEach((function(n){t(Ot)(e,n,i[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):ir(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}var ar,or,sr=function(e,t){var n=Yt();return qt((function(){n.current=t?n.current:e}),[e,t]),n.current};function lr(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=n.i18n,r=Jt(_i)||{},a=r.i18n,o=r.defaultNS,s=i||a||wi();if(s&&!s.reportNamespaces&&(s.reportNamespaces=new bi),!s){er("You will need to pass in an i18next instance by using initReactI18next");var l=function(e){return Array.isArray(e)?e[e.length-1]:e},c=[l,{},!1];return c.t=l,c.i18n={},c.ready=!1,c}s.options.react&&void 0!==s.options.react.wait&&er("It seems you are still using the old wait option, you may migrate to the new useSuspense behaviour.");var u=rr(rr(rr({},yi),s.options.react),n),d=u.useSuspense,p=u.keyPrefix,h=e||o||s.options&&s.options.defaultNS;h="string"==typeof h?[h]:h||["translation"],s.reportNamespaces.addUsedNamespaces&&s.reportNamespaces.addUsedNamespaces(h);var f=(s.isInitialized||s.initializedStoreOnce)&&h.every((function(e){return nr(e,s,u)}));function g(){return s.getFixedT(null,"fallback"===u.nsMode?h:h[0],p)}var m=Ht(g),v=t(Wi)(m,2),y=v[0],_=v[1],b=h.join(),w=sr(b),k=Yt(!0);qt((function(){var e=u.bindI18n,t=u.bindI18nStore;function n(){k.current&&_(g)}return k.current=!0,f||d||tr(s,h,(function(){k.current&&_(g)})),f&&w&&w!==b&&k.current&&_(g),e&&s&&s.on(e,n),t&&s&&s.store.on(t,n),function(){k.current=!1,e&&s&&e.split(" ").forEach((function(e){return s.off(e,n)})),t&&s&&t.split(" ").forEach((function(e){return s.store.off(e,n)}))}}),[s,b]);var x=Yt(!0);qt((function(){k.current&&!x.current&&_(g),x.current=!1}),[s,p]);var S=[y,s,f];if(S.t=y,S.i18n=s,S.ready=f,f)return S;if(!f&&!d)return S;throw new Promise((function(e){tr(s,h,(function(){e()}))}))}
/**
 * React Router DOM v6.10.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */
/**
 * @remix-run/router v1.5.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function cr(){return cr=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},cr.apply(this,arguments)}(or=ar||(ar={})).Pop="POP",or.Push="PUSH",or.Replace="REPLACE";const ur="popstate";function dr(e){return void 0===e&&(e={}),yr((function(e,t){let{pathname:n,search:i,hash:r}=e.location;return gr("",{pathname:n,search:i,hash:r},t.state&&t.state.usr||null,t.state&&t.state.key||"default")}),(function(e,t){return"string"==typeof t?t:mr(t)}),null,e)}function pr(e,t){if(!1===e||null==e)throw new Error(t)}function hr(e,t){if(!e){"undefined"!=typeof console&&console.warn(t);try{throw new Error(t)}catch(e){}}}function fr(e,t){return{usr:e.state,key:e.key,idx:t}}function gr(e,t,n,i){return void 0===n&&(n=null),cr({pathname:"string"==typeof e?e:e.pathname,search:"",hash:""},"string"==typeof t?vr(t):t,{state:n,key:t&&t.key||i||Math.random().toString(36).substr(2,8)})}function mr(e){let{pathname:t="/",search:n="",hash:i=""}=e;return n&&"?"!==n&&(t+="?"===n.charAt(0)?n:"?"+n),i&&"#"!==i&&(t+="#"===i.charAt(0)?i:"#"+i),t}function vr(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let i=e.indexOf("?");i>=0&&(t.search=e.substr(i),e=e.substr(0,i)),e&&(t.pathname=e)}return t}function yr(e,t,n,i){void 0===i&&(i={});let{window:r=document.defaultView,v5Compat:a=!1}=i,o=r.history,s=ar.Pop,l=null,c=u();function u(){return(o.state||{idx:null}).idx}function d(){s=ar.Pop;let e=u(),t=null==e?null:e-c;c=e,l&&l({action:s,location:h.location,delta:t})}function p(e){let t="null"!==r.location.origin?r.location.origin:r.location.href,n="string"==typeof e?e:mr(e);return pr(t,"No window.location.(origin|href) available to create URL for href: "+n),new URL(n,t)}null==c&&(c=0,o.replaceState(cr({},o.state,{idx:c}),""));let h={get action(){return s},get location(){return e(r,o)},listen(e){if(l)throw new Error("A history only accepts one active listener");return r.addEventListener(ur,d),l=e,()=>{r.removeEventListener(ur,d),l=null}},createHref:e=>t(r,e),createURL:p,encodeLocation(e){let t=p(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(e,t){s=ar.Push;let i=gr(h.location,e,t);n&&n(i,e),c=u()+1;let d=fr(i,c),p=h.createHref(i);try{o.pushState(d,"",p)}catch(e){r.location.assign(p)}a&&l&&l({action:s,location:h.location,delta:1})},replace:function(e,t){s=ar.Replace;let i=gr(h.location,e,t);n&&n(i,e),c=u();let r=fr(i,c),d=h.createHref(i);o.replaceState(r,"",d),a&&l&&l({action:s,location:h.location,delta:0})},go:e=>o.go(e)};return h}var _r,br;(br=_r||(_r={})).data="data",br.deferred="deferred",br.redirect="redirect",br.error="error";new Set(["lazy","caseSensitive","path","id","index","children"]);function wr(e,t,n){void 0===n&&(n="/");let i=Dr(("string"==typeof t?vr(t):t).pathname||"/",n);if(null==i)return null;let r=kr(e);!function(e){e.sort(((e,t)=>e.score!==t.score?t.score-e.score:function(e,t){let n=e.length===t.length&&e.slice(0,-1).every(((e,n)=>e===t[n]));return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map((e=>e.childrenIndex)),t.routesMeta.map((e=>e.childrenIndex)))))}(r);let a=null;for(let e=0;null==a&&e<r.length;++e)a=Tr(r[e],Ir(i));return a}function kr(e,t,n,i){void 0===t&&(t=[]),void 0===n&&(n=[]),void 0===i&&(i="");let r=(e,r,a)=>{let o={relativePath:void 0===a?e.path||"":a,caseSensitive:!0===e.caseSensitive,childrenIndex:r,route:e};o.relativePath.startsWith("/")&&(pr(o.relativePath.startsWith(i),'Absolute route path "'+o.relativePath+'" nested under path "'+i+'" is not valid. An absolute child route path must start with the combined path of all its parent routes.'),o.relativePath=o.relativePath.slice(i.length));let s=$r([i,o.relativePath]),l=n.concat(o);e.children&&e.children.length>0&&(pr(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'+s+'".'),kr(e.children,t,l,s)),(null!=e.path||e.index)&&t.push({path:s,score:Lr(s,e.index),routesMeta:l})};return e.forEach(((e,t)=>{var n;if(""!==e.path&&null!=(n=e.path)&&n.includes("?"))for(let n of xr(e.path))r(e,t,n);else r(e,t)})),t}function xr(e){let t=e.split("/");if(0===t.length)return[];let[n,...i]=t,r=n.endsWith("?"),a=n.replace(/\?$/,"");if(0===i.length)return r?[a,""]:[a];let o=xr(i.join("/")),s=[];return s.push(...o.map((e=>""===e?a:[a,e].join("/")))),r&&s.push(...o),s.map((t=>e.startsWith("/")&&""===t?"/":t))}const Sr=/^:\w+$/,Cr=3,Or=2,Er=1,Pr=10,jr=-2,Ar=e=>"*"===e;function Lr(e,t){let n=e.split("/"),i=n.length;return n.some(Ar)&&(i+=jr),t&&(i+=Or),n.filter((e=>!Ar(e))).reduce(((e,t)=>e+(Sr.test(t)?Cr:""===t?Er:Pr)),i)}function Tr(e,t){let{routesMeta:n}=e,i={},r="/",a=[];for(let e=0;e<n.length;++e){let o=n[e],s=e===n.length-1,l="/"===r?t:t.slice(r.length)||"/",c=Nr({path:o.relativePath,caseSensitive:o.caseSensitive,end:s},l);if(!c)return null;Object.assign(i,c.params);let u=o.route;a.push({params:i,pathname:$r([r,c.pathname]),pathnameBase:Br($r([r,c.pathnameBase])),route:u}),"/"!==c.pathnameBase&&(r=$r([r,c.pathnameBase]))}return a}function Nr(e,t){"string"==typeof e&&(e={path:e,caseSensitive:!1,end:!0});let[n,i]=function(e,t,n){void 0===t&&(t=!1);void 0===n&&(n=!0);hr("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were "'+e.replace(/\*$/,"/*")+'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "'+e.replace(/\*$/,"/*")+'".');let i=[],r="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/\/:(\w+)/g,((e,t)=>(i.push(t),"/([^\\/]+)")));e.endsWith("*")?(i.push("*"),r+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?r+="\\/*$":""!==e&&"/"!==e&&(r+="(?:(?=\\/|$))");let a=new RegExp(r,t?void 0:"i");return[a,i]}(e.path,e.caseSensitive,e.end),r=t.match(n);if(!r)return null;let a=r[0],o=a.replace(/(.)\/+$/,"$1"),s=r.slice(1);return{params:i.reduce(((e,t,n)=>{if("*"===t){let e=s[n]||"";o=a.slice(0,a.length-e.length).replace(/(.)\/+$/,"$1")}return e[t]=function(e,t){try{return decodeURIComponent(e)}catch(n){return hr(!1,'The value for the URL param "'+t+'" will not be decoded because the string "'+e+'" is a malformed URL segment. This is probably due to a bad percent encoding ('+n+")."),e}}(s[n]||"",t),e}),{}),pathname:a,pathnameBase:o,pattern:e}}function Ir(e){try{return decodeURI(e)}catch(t){return hr(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding ('+t+")."),e}}function Dr(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,i=e.charAt(n);return i&&"/"!==i?null:e.slice(n)||"/"}function Rr(e,t,n,i){return"Cannot include a '"+e+"' character in a manually specified `to."+t+"` field ["+JSON.stringify(i)+"].  Please separate it out to the `to."+n+'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.'}function Mr(e){return e.filter(((e,t)=>0===t||e.route.path&&e.route.path.length>0))}function zr(e,t,n,i){let r;void 0===i&&(i=!1),"string"==typeof e?r=vr(e):(r=cr({},e),pr(!r.pathname||!r.pathname.includes("?"),Rr("?","pathname","search",r)),pr(!r.pathname||!r.pathname.includes("#"),Rr("#","pathname","hash",r)),pr(!r.search||!r.search.includes("#"),Rr("#","search","hash",r)));let a,o=""===e||""===r.pathname,s=o?"/":r.pathname;if(i||null==s)a=n;else{let e=t.length-1;if(s.startsWith("..")){let t=s.split("/");for(;".."===t[0];)t.shift(),e-=1;r.pathname=t.join("/")}a=e>=0?t[e]:"/"}let l=function(e,t){void 0===t&&(t="/");let{pathname:n,search:i="",hash:r=""}="string"==typeof e?vr(e):e,a=n?n.startsWith("/")?n:function(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach((e=>{".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)})),n.length>1?n.join("/"):"/"}(n,t):t;return{pathname:a,search:Ur(i),hash:Fr(r)}}(r,a),c=s&&"/"!==s&&s.endsWith("/"),u=(o||"."===s)&&n.endsWith("/");return l.pathname.endsWith("/")||!c&&!u||(l.pathname+="/"),l}const $r=e=>e.join("/").replace(/\/\/+/g,"/"),Br=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),Ur=e=>e&&"?"!==e?e.startsWith("?")?e:"?"+e:"",Fr=e=>e&&"#"!==e?e.startsWith("#")?e:"#"+e:"";class Hr extends Error{}function Vr(e){return null!=e&&"number"==typeof e.status&&"string"==typeof e.statusText&&"boolean"==typeof e.internal&&"data"in e}const qr=["post","put","patch","delete"],Wr=(new Set(qr),["get",...qr]);new Set(Wr),new Set([301,302,303,307,308]),new Set([307,308]),"undefined"!=typeof window&&void 0!==window.document&&window.document.createElement;Symbol("deferred");const Yr="function"==typeof Object.is?Object.is:
/**
 * React Router v6.10.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */
function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},{useState:Xr,useEffect:Kr,useLayoutEffect:Gr,useDebugValue:Jr}=Pt;function Qr(e){const t=e.getSnapshot,n=e.value;try{const e=t();return!Yr(n,e)}catch(e){return!0}}const Zr=!!("undefined"==typeof window||void 0===window.document||void 0===window.document.createElement)?function(e,t,n){return t()}:function(e,t,n){const i=t(),[{inst:r},a]=Xr({inst:{value:i,getSnapshot:t}});return Gr((()=>{r.value=i,r.getSnapshot=t,Qr(r)&&a({inst:r})}),[e,i,t]),Kr((()=>{Qr(r)&&a({inst:r});return e((()=>{Qr(r)&&a({inst:r})}))}),[e]),Jr(i),i},ea=("useSyncExternalStore"in Pt&&Pt.useSyncExternalStore,Pt.createContext(null)),ta=Pt.createContext(null),na=Pt.createContext(null),ia=Pt.createContext(null),ra=Pt.createContext({outlet:null,matches:[]}),aa=Pt.createContext(null);function oa(){return oa=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},oa.apply(this,arguments)}function sa(e,t){let{relative:n}=void 0===t?{}:t;!la()&&pr(!1);let{basename:i,navigator:r}=Pt.useContext(na),{hash:a,pathname:o,search:s}=pa(e,{relative:n}),l=o;return"/"!==i&&(l="/"===o?i:$r([i,o])),r.createHref({pathname:l,search:s,hash:a})}function la(){return null!=Pt.useContext(ia)}function ca(){return!la()&&pr(!1),Pt.useContext(ia).location}function ua(){!la()&&pr(!1);let{basename:e,navigator:t}=Pt.useContext(na),{matches:n}=Pt.useContext(ra),{pathname:i}=ca(),r=JSON.stringify(Mr(n).map((e=>e.pathnameBase))),a=Pt.useRef(!1);return Pt.useEffect((()=>{a.current=!0})),Pt.useCallback((function(n,o){if(void 0===o&&(o={}),!a.current)return;if("number"==typeof n)return void t.go(n);let s=zr(n,JSON.parse(r),i,"path"===o.relative);"/"!==e&&(s.pathname="/"===s.pathname?e:$r([e,s.pathname])),(o.replace?t.replace:t.push)(s,o.state,o)}),[e,t,r,i])}function da(){let{matches:e}=Pt.useContext(ra),t=e[e.length-1];return t?t.params:{}}function pa(e,t){let{relative:n}=void 0===t?{}:t,{matches:i}=Pt.useContext(ra),{pathname:r}=ca(),a=JSON.stringify(Mr(i).map((e=>e.pathnameBase)));return Pt.useMemo((()=>zr(e,JSON.parse(a),r,"path"===n)),[e,a,r,n])}function ha(){let e=function(){var e;let t=Pt.useContext(aa),n=wa(_a.UseRouteError),i=ka(_a.UseRouteError);return t||(null==(e=n.errors)?void 0:e[i])}(),t=Vr(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,i="rgba(200,200,200, 0.5)",r={padding:"0.5rem",backgroundColor:i};return Pt.createElement(Pt.Fragment,null,Pt.createElement("h2",null,"Unexpected Application Error!"),Pt.createElement("h3",{style:{fontStyle:"italic"}},t),n?Pt.createElement("pre",{style:r},n):null,null)}class fa extends Pt.Component{constructor(e){super(e),this.state={location:e.location,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location?{error:e.error,location:e.location}:{error:e.error||t.error,location:t.location}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return this.state.error?Pt.createElement(ra.Provider,{value:this.props.routeContext},Pt.createElement(aa.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function ga(e){let{routeContext:t,match:n,children:i}=e,r=Pt.useContext(ea);return r&&r.static&&r.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=n.route.id),Pt.createElement(ra.Provider,{value:t},i)}function ma(e,t,n){if(void 0===t&&(t=[]),null==e){if(null==n||!n.errors)return null;e=n.matches}let i=e,r=null==n?void 0:n.errors;if(null!=r){let e=i.findIndex((e=>e.route.id&&(null==r?void 0:r[e.route.id])));!(e>=0)&&pr(!1),i=i.slice(0,Math.min(i.length,e+1))}return i.reduceRight(((e,a,o)=>{let s=a.route.id?null==r?void 0:r[a.route.id]:null,l=null;n&&(l=a.route.ErrorBoundary?Pt.createElement(a.route.ErrorBoundary,null):a.route.errorElement?a.route.errorElement:Pt.createElement(ha,null));let c=t.concat(i.slice(0,o+1)),u=()=>{let t=e;return s?t=l:a.route.Component?t=Pt.createElement(a.route.Component,null):a.route.element&&(t=a.route.element),Pt.createElement(ga,{match:a,routeContext:{outlet:e,matches:c},children:t})};return n&&(a.route.ErrorBoundary||a.route.errorElement||0===o)?Pt.createElement(fa,{location:n.location,component:l,error:s,children:u(),routeContext:{outlet:null,matches:c}}):u()}),null)}var va,ya,_a,ba;function wa(e){let t=Pt.useContext(ta);return!t&&pr(!1),t}function ka(e){let t=function(e){let t=Pt.useContext(ra);return!t&&pr(!1),t}(),n=t.matches[t.matches.length-1];return!n.route.id&&pr(!1),n.route.id}(ya=va||(va={})).UseBlocker="useBlocker",ya.UseRevalidator="useRevalidator",(ba=_a||(_a={})).UseBlocker="useBlocker",ba.UseLoaderData="useLoaderData",ba.UseActionData="useActionData",ba.UseRouteError="useRouteError",ba.UseNavigation="useNavigation",ba.UseRouteLoaderData="useRouteLoaderData",ba.UseMatches="useMatches",ba.UseRevalidator="useRevalidator";function xa(e){let{to:t,replace:n,state:i,relative:r}=e;!la()&&pr(!1);let a=Pt.useContext(ta),o=ua();return Pt.useEffect((()=>{a&&"idle"!==a.navigation.state||o(t,{replace:n,state:i,relative:r})})),null}function Sa(e){pr(!1)}function Ca(e){let{basename:t="/",children:n=null,location:i,navigationType:r=ar.Pop,navigator:a,static:o=!1}=e;la()&&pr(!1);let s=t.replace(/^\/*/,"/"),l=Pt.useMemo((()=>({basename:s,navigator:a,static:o})),[s,a,o]);"string"==typeof i&&(i=vr(i));let{pathname:c="/",search:u="",hash:d="",state:p=null,key:h="default"}=i,f=Pt.useMemo((()=>{let e=Dr(c,s);return null==e?null:{location:{pathname:e,search:u,hash:d,state:p,key:h},navigationType:r}}),[s,c,u,d,p,h,r]);return null==f?null:Pt.createElement(na.Provider,{value:l},Pt.createElement(ia.Provider,{children:n,value:f}))}function Oa(e){let{children:t,location:n}=e,i=Pt.useContext(ea);return function(e,t){!la()&&pr(!1);let n,{navigator:i}=Pt.useContext(na),r=Pt.useContext(ta),{matches:a}=Pt.useContext(ra),o=a[a.length-1],s=o?o.params:{},l=(o&&o.pathname,o?o.pathnameBase:"/"),c=(o&&o.route,ca());if(t){var u;let e="string"==typeof t?vr(t):t;"/"!==l&&!(null==(u=e.pathname)?void 0:u.startsWith(l))&&pr(!1),n=e}else n=c;let d=n.pathname||"/",p=wr(e,{pathname:"/"===l?d:d.slice(l.length)||"/"}),h=ma(p&&p.map((e=>Object.assign({},e,{params:Object.assign({},s,e.params),pathname:$r([l,i.encodeLocation?i.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?l:$r([l,i.encodeLocation?i.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])}))),a,r||void 0);return t&&h?Pt.createElement(ia.Provider,{value:{location:oa({pathname:"/",search:"",hash:"",state:null,key:"default"},n),navigationType:ar.Pop}},h):h}(i&&!t?i.router.routes:Aa(t),n)}var Ea,Pa;(Pa=Ea||(Ea={}))[Pa.pending=0]="pending",Pa[Pa.success=1]="success",Pa[Pa.error=2]="error";new Promise((()=>{}));class ja extends Pt.Component{constructor(e){super(e),this.state={error:null}}static getDerivedStateFromError(e){return{error:e}}componentDidCatch(e,t){console.error("<Await> caught the following error during render",e,t)}render(){let{children:e,errorElement:t,resolve:n}=this.props,i=null,r=Ea.pending;if(n instanceof Promise)if(this.state.error){Ea.error;let e=this.state.error;Promise.reject().catch((()=>{})),Object.defineProperty(i,"_tracked",{get:()=>!0}),Object.defineProperty(i,"_error",{get:()=>e})}else n._tracked?(n,void 0!==i._error?Ea.error:void 0!==i._data?Ea.success:Ea.pending):(Ea.pending,Object.defineProperty(n,"_tracked",{get:()=>!0}),n.then((e=>Object.defineProperty(n,"_data",{get:()=>e})),(e=>Object.defineProperty(n,"_error",{get:()=>e}))));else Ea.success,Promise.resolve(),Object.defineProperty(i,"_tracked",{get:()=>!0}),Object.defineProperty(i,"_data",{get:()=>n});if(r===Ea.error&&i._error instanceof Hr)throw $2e634cb2b6e12a73$var$neverSettledPromise;if(r===Ea.error&&!t)throw i._error;if(r===Ea.error)return Pt.createElement($2e634cb2b6e12a73$var$AwaitContext.Provider,{value:i,children:t});if(r===Ea.success)return Pt.createElement($2e634cb2b6e12a73$var$AwaitContext.Provider,{value:i,children:e});throw i}}function Aa(e,t){void 0===t&&(t=[]);let n=[];return Pt.Children.forEach(e,((e,i)=>{if(!Pt.isValidElement(e))return;let r=[...t,i];if(e.type===Pt.Fragment)return void n.push.apply(n,Aa(e.props.children,r));e.type!==Sa&&pr(!1),e.props.index&&e.props.children&&pr(!1);let a={id:e.props.id||r.join("-"),caseSensitive:e.props.caseSensitive,element:e.props.element,Component:e.props.Component,index:e.props.index,path:e.props.path,loader:e.props.loader,action:e.props.action,errorElement:e.props.errorElement,ErrorBoundary:e.props.ErrorBoundary,hasErrorBoundary:null!=e.props.ErrorBoundary||null!=e.props.errorElement,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle,lazy:e.props.lazy};e.props.children&&(a.children=Aa(e.props.children,r)),n.push(a)})),n}function La(){return La=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},La.apply(this,arguments)}function Ta(e,t){if(null==e)return{};var n,i,r={},a=Object.keys(e);for(i=0;i<a.length;i++)n=a[i],t.indexOf(n)>=0||(r[n]=e[n]);return r}const Na=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset"];function Ia(e){let{basename:t,children:n,window:i}=e,r=Yt();null==r.current&&(r.current=dr({window:i,v5Compat:!0}));let a=r.current,[o,s]=Ht({action:a.action,location:a.location});return Wt((()=>a.listen(s)),[a]),_(Ca,{basename:t,children:n,location:o.location,navigationType:o.action,navigator:a})}const Da="undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement,Ra=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ma=mn((function(e,t){let n,{onClick:i,relative:r,reloadDocument:a,replace:o,state:s,target:l,to:c,preventScrollReset:u}=e,d=Ta(e,Na),{basename:p}=Jt(na),h=!1;if("string"==typeof c&&Ra.test(c)&&(n=c,Da)){let e=new URL(window.location.href),t=c.startsWith("//")?new URL(e.protocol+c):new URL(c),n=Dr(t.pathname,p);t.origin===e.origin&&null!=n?c=n+t.search+t.hash:h=!0}let f=sa(c,{relative:r}),g=function(e,t){let{target:n,replace:i,state:r,preventScrollReset:a,relative:o}=void 0===t?{}:t,s=ua(),l=ca(),c=pa(e,{relative:o});return Gt((t=>{if(function(e,t){return!(0!==e.button||t&&"_self"!==t||function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e))}(t,n)){t.preventDefault();let n=void 0!==i?i:mr(l)===mr(c);s(e,{replace:n,state:r,preventScrollReset:a,relative:o})}}),[l,s,c,i,r,n,e,a,o])}(c,{replace:o,state:s,target:l,preventScrollReset:u,relative:r});return _("a",La({},d,{href:n||f,onClick:h||a?i:function(e){i&&i(e),e.defaultPrevented||g(e)},ref:t,target:l}))}));var za,$a;!function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmitImpl="useSubmitImpl",e.UseFetcher="useFetcher"}(za||(za={})),function(e){e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"}($a||($a={}));var Ba;Ba=new URL(a("c1bOu").resolve("IA7EQ"),import.meta.url).toString();var Ua={},Fa={};Fa=function(e,t){if(null==e)return{};var n,i,r={},a=Object.keys(e);for(i=0;i<a.length;i++)n=a[i],t.indexOf(n)>=0||(r[n]=e[n]);return r},Fa.__esModule=!0,Fa.default=Fa,Ua=function(e,t){if(null==e)return{};var n,i,r=Fa(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r},Ua.__esModule=!0,Ua.default=Ua;var Ha=["forwardedRef"];function Va(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function qa(e){for(var n=1;n<arguments.length;n++){var i=null!=arguments[n]?arguments[n]:{};n%2?Va(Object(i),!0).forEach((function(n){t(Ot)(e,n,i[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):Va(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}function Wa(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return function(i){function r(r){var a=r.forwardedRef,o=t(Ua)(r,Ha),s=lr(e,qa(qa({},o),{},{keyPrefix:n.keyPrefix})),l=t(Wi)(s,3),c=l[0],u=l[1],d=l[2],p=qa(qa({},o),{},{t:c,i18n:u,tReady:d});return n.withRef&&a?p.ref=a:!n.withRef&&a&&(p.forwardedRef=a),_(i,p)}var a;r.displayName="withI18nextTranslation(".concat((a=i).displayName||a.name||("string"==typeof a&&a.length>0?a:"Unknown"),")"),r.WrappedComponent=i;return n.withRef?mn((function(e,t){return _(r,Object.assign({},e,{forwardedRef:t}))})):r}}var Ya=Wa()(class extends x{constructor(){super(),zi.get(`/api${window.location.pathname}`).then((()=>{this.setState({message:this.props.t("notification_emails_stopped")})})).catch((e=>{console.warn(e),this.setState({message:this.props.t("error")})}))}render(){return _("div",null,this.state.message||"")}});function Xa(e){return _(Io,{id:e.id,isChild:!0})}function Ka(e){const{t:t}=lr(),[n,i]=Ht(0),[r,a]=Ht(0),o=t=>{const n=t.detail;n.parent&&qi.getId(n.parent)==e.id&&a(1024)};return qt((()=>{window.addEventListener("newChild",o);let t=0,n=0;if(e.childMessages.length){let i=Hi.action?e.childMessages.findIndex((e=>e&&e.id===Hi.action)):-1;-1!=i?(t=Math.max(0,i-1),n=Math.min(e.childMessages.length,i+1)):(t=e.childMessages&&e.childMessages.length-5,n=e.childMessages&&e.childMessages.length)}i(t),a(n)}),[]),r-n<1||!e.childMessages?null:_("div",{class:"children"},n>0&&_("div",{class:"d-flex"},_("a",{class:"more-coms unselectable",onClick:()=>{i(Math.max(0,n-10))}},t("previous_coms"))),e.childMessages.map(((e,t)=>t<n||t>r?null:_(Xa,{id:e.id,key:e.id}))),r+1<e.childMessages.length&&_("div",{class:"d-flex"},_("span",{class:"more-coms unselectable",onClick:()=>{a(Math.min(e.childMessages.length,r+10))}},t("next_coms"))))}function Ga(e){return _("div",{class:"message-head d-flex"},!e.isPublic&&_("div",null,_("img",{className:"rounded-circle material-shadow avatar"+(e.author&&e.author.name?"":" removed-user"),style:qi.backgroundHash(e.author&&e.author.name?e.author&&e.author.id:""),src:e.author&&e.author.avatar?qi.crop(e.author.avatar.id,100,100):qi.defaultAvatar,title:e.author&&e.author.name?e.author.name:""})),!e.isChild&&!e.isPublic&&_("div",{class:"infos"},_("span",{class:"capitalize author"},e.author&&e.author.name?e.author.name:"")))}const Ja=function(){const e={regular:{comment:[512,512,[],"f075","M256 32C114.6 32 0 125.1 0 240c0 47.6 19.9 91.2 52.9 126.3C38 405.7 7 439.1 6.5 439.5c-6.6 7-8.4 17.2-4.6 26S14.4 480 24 480c61.5 0 110-25.7 139.1-46.3C192 442.8 223.2 448 256 448c141.4 0 256-93.1 256-208S397.4 32 256 32zm0 368c-26.7 0-53.1-4.1-78.4-12.1l-22.7-7.2-19.5 13.8c-14.3 10.1-33.9 21.4-57.5 29 7.3-12.1 14.4-25.7 19.9-40.2l10.6-28.1-20.6-21.8C69.7 314.1 48 282.2 48 240c0-88.2 93.3-160 208-160s208 71.8 208 160-93.3 160-208 160z"],bookmark:[384,512,[],"f02e","M336 0H48C21.49 0 0 21.49 0 48v464l192-112 192 112V48c0-26.51-21.49-48-48-48zm0 428.43l-144-84-144 84V54a6 6 0 0 1 6-6h276c3.314 0 6 2.683 6 5.996V428.43z"],images:[576,512,[],"f302","M480 416v16c0 26.51-21.49 48-48 48H48c-26.51 0-48-21.49-48-48V176c0-26.51 21.49-48 48-48h16v48H54a6 6 0 0 0-6 6v244a6 6 0 0 0 6 6h372a6 6 0 0 0 6-6v-10h48zm42-336H150a6 6 0 0 0-6 6v244a6 6 0 0 0 6 6h372a6 6 0 0 0 6-6V86a6 6 0 0 0-6-6zm6-48c26.51 0 48 21.49 48 48v256c0 26.51-21.49 48-48 48H144c-26.51 0-48-21.49-48-48V80c0-26.51 21.49-48 48-48h384zM264 144c0 22.091-17.909 40-40 40s-40-17.909-40-40 17.909-40 40-40 40 17.909 40 40zm-72 96l39.515-39.515c4.686-4.686 12.284-4.686 16.971 0L288 240l103.515-103.515c4.686-4.686 12.284-4.686 16.971 0L480 208v80H192v-48z"],"check-circle":[512,512,[],"f058","M256 8C119.033 8 8 119.033 8 256s111.033 248 248 248 248-111.033 248-248S392.967 8 256 8zm0 48c110.532 0 200 89.451 200 200 0 110.532-89.451 200-200 200-110.532 0-200-89.451-200-200 0-110.532 89.451-200 200-200m140.204 130.267l-22.536-22.718c-4.667-4.705-12.265-4.736-16.97-.068L215.346 303.697l-59.792-60.277c-4.667-4.705-12.265-4.736-16.97-.069l-22.719 22.536c-4.705 4.667-4.736 12.265-.068 16.971l90.781 91.516c4.667 4.705 12.265 4.736 16.97.068l172.589-171.204c4.704-4.668 4.734-12.266.067-16.971z"],"file-pdf":[384,512,[],"f1c1","M369.9 97.9L286 14C277 5 264.8-.1 252.1-.1H48C21.5 0 0 21.5 0 48v416c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48V131.9c0-12.7-5.1-25-14.1-34zM332.1 128H256V51.9l76.1 76.1zM48 464V48h160v104c0 13.3 10.7 24 24 24h104v288H48zm250.2-143.7c-12.2-12-47-8.7-64.4-6.5-17.2-10.5-28.7-25-36.8-46.3 3.9-16.1 10.1-40.6 5.4-56-4.2-26.2-37.8-23.6-42.6-5.9-4.4 16.1-.4 38.5 7 67.1-10 23.9-24.9 56-35.4 74.4-20 10.3-47 26.2-51 46.2-3.3 15.8 26 55.2 76.1-31.2 22.4-7.4 46.8-16.5 68.4-20.1 18.9 10.2 41 17 55.8 17 25.5 0 28-28.2 17.5-38.7zm-198.1 77.8c5.1-13.7 24.5-29.5 30.4-35-19 30.3-30.4 35.7-30.4 35zm81.6-190.6c7.4 0 6.7 32.1 1.8 40.8-4.4-13.9-4.3-40.8-1.8-40.8zm-24.4 136.6c9.7-16.9 18-37 24.7-54.7 8.3 15.1 18.9 27.2 30.1 35.5-20.8 4.3-38.9 13.1-54.8 19.2zm131.6-5s-5 6-37.3-7.8c35.1-2.6 40.9 5.4 37.3 7.8z"],bell:[448,512,[],"f0f3","M439.39 362.29c-19.32-20.76-55.47-51.99-55.47-154.29 0-77.7-54.48-139.9-127.94-155.16V32c0-17.67-14.32-32-31.98-32s-31.98 14.33-31.98 32v20.84C118.56 68.1 64.08 130.3 64.08 208c0 102.3-36.15 133.53-55.47 154.29-6 6.45-8.66 14.16-8.61 21.71.11 16.4 12.98 32 32.1 32h383.8c19.12 0 32-15.6 32.1-32 .05-7.55-2.61-15.27-8.61-21.71zM67.53 368c21.22-27.97 44.42-74.33 44.53-159.42 0-.2-.06-.38-.06-.58 0-61.86 50.14-112 112-112s112 50.14 112 112c0 .2-.06.38-.06.58.11 85.1 23.31 131.46 44.53 159.42H67.53zM224 512c35.32 0 63.97-28.65 63.97-64H160.03c0 35.35 28.65 64 63.97 64z"],"level-down-alt":[320,512,[],"f3be","M313.553 392.331L209.587 504.334c-9.485 10.214-25.676 10.229-35.174 0L70.438 392.331C56.232 377.031 67.062 352 88.025 352H152V80H68.024a11.996 11.996 0 0 1-8.485-3.515l-56-56C-4.021 12.926 1.333 0 12.024 0H208c13.255 0 24 10.745 24 24v328h63.966c20.878 0 31.851 24.969 17.587 40.331z"]},solid:{bookmark:[384,512,[],"f02e","M0 512V48C0 21.49 21.49 0 48 0h288c26.51 0 48 21.49 48 48v464L192 400 0 512z"],comment:[512,512,[],"f075","M256 32C114.6 32 0 125.1 0 240c0 49.6 21.4 95 57 130.7C44.5 421.1 2.7 466 2.2 466.5c-2.2 2.3-2.8 5.7-1.5 8.7S4.8 480 8 480c66.3 0 116-31.8 140.6-51.4 32.7 12.3 69 19.4 107.4 19.4 141.4 0 256-93.1 256-208S397.4 32 256 32z"],"pencil-alt":[512,512,[],"f303","M497.9 142.1l-46.1 46.1c-4.7 4.7-12.3 4.7-17 0l-111-111c-4.7-4.7-4.7-12.3 0-17l46.1-46.1c18.7-18.7 49.1-18.7 67.9 0l60.1 60.1c18.8 18.7 18.8 49.1 0 67.9zM284.2 99.8L21.6 362.4.4 483.9c-2.9 16.4 11.4 30.6 27.8 27.8l121.5-21.3 262.6-262.6c4.7-4.7 4.7-12.3 0-17l-111-111c-4.8-4.7-12.4-4.7-17.1 0zM124.1 339.9c-5.5-5.5-5.5-14.3 0-19.8l154-154c5.5-5.5 14.3-5.5 19.8 0s5.5 14.3 0 19.8l-154 154c-5.5 5.5-14.3 5.5-19.8 0zM88 424h48v36.3l-64.5 11.3-31.1-31.1L51.7 376H88v48z"],"arrow-left":[448,512,[],"f060","M257.5 445.1l-22.2 22.2c-9.4 9.4-24.6 9.4-33.9 0L7 273c-9.4-9.4-9.4-24.6 0-33.9L201.4 44.7c9.4-9.4 24.6-9.4 33.9 0l22.2 22.2c9.5 9.5 9.3 25-.4 34.3L136.6 216H424c13.3 0 24 10.7 24 24v32c0 13.3-10.7 24-24 24H136.6l120.5 114.8c9.8 9.3 10 24.8.4 34.3z"],"caret-down":[320,512,[],"f0d7","M31.3 192h257.3c17.8 0 26.7 21.5 14.1 34.1L174.1 354.8c-7.8 7.8-20.5 7.8-28.3 0L17.2 226.1C4.6 213.5 13.5 192 31.3 192z"],film:[512,512,[],"f008","M488 64h-8v20c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12V64H96v20c0 6.6-5.4 12-12 12H44c-6.6 0-12-5.4-12-12V64h-8C10.7 64 0 74.7 0 88v336c0 13.3 10.7 24 24 24h8v-20c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v20h320v-20c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v20h8c13.3 0 24-10.7 24-24V88c0-13.3-10.7-24-24-24zM96 372c0 6.6-5.4 12-12 12H44c-6.6 0-12-5.4-12-12v-40c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40zm0-96c0 6.6-5.4 12-12 12H44c-6.6 0-12-5.4-12-12v-40c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40zm0-96c0 6.6-5.4 12-12 12H44c-6.6 0-12-5.4-12-12v-40c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40zm272 208c0 6.6-5.4 12-12 12H156c-6.6 0-12-5.4-12-12v-96c0-6.6 5.4-12 12-12h200c6.6 0 12 5.4 12 12v96zm0-168c0 6.6-5.4 12-12 12H156c-6.6 0-12-5.4-12-12v-96c0-6.6 5.4-12 12-12h200c6.6 0 12 5.4 12 12v96zm112 152c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40zm0-96c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40zm0-96c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40z"],times:[352,512,[],"f00d","M242.72 256l100.07-100.07c12.28-12.28 12.28-32.19 0-44.48l-22.24-22.24c-12.28-12.28-32.19-12.28-44.48 0L176 189.28 75.93 89.21c-12.28-12.28-32.19-12.28-44.48 0L9.21 111.45c-12.28 12.28-12.28 32.19 0 44.48L109.28 256 9.21 356.07c-12.28 12.28-12.28 32.19 0 44.48l22.24 22.24c12.28 12.28 32.2 12.28 44.48 0L176 322.72l100.07 100.07c12.28 12.28 32.2 12.28 44.48 0l22.24-22.24c12.28-12.28 12.28-32.19 0-44.48L242.72 256z"],bell:[448,512,[],"f0f3","M224 512c35.32 0 63.97-28.65 63.97-64H160.03c0 35.35 28.65 64 63.97 64zm215.39-149.71c-19.32-20.76-55.47-51.99-55.47-154.29 0-77.7-54.48-139.9-127.94-155.16V32c0-17.67-14.32-32-31.98-32s-31.98 14.33-31.98 32v20.84C118.56 68.1 64.08 130.3 64.08 208c0 102.3-36.15 133.53-55.47 154.29-6 6.45-8.66 14.16-8.61 21.71.11 16.4 12.98 32 32.1 32h383.8c19.12 0 32-15.6 32.1-32 .05-7.55-2.61-15.27-8.61-21.71z"],"ellipsis-h":[512,512,[],"f141","M328 256c0 39.8-32.2 72-72 72s-72-32.2-72-72 32.2-72 72-72 72 32.2 72 72zm104-72c-39.8 0-72 32.2-72 72s32.2 72 72 72 72-32.2 72-72-32.2-72-72-72zm-352 0c-39.8 0-72 32.2-72 72s32.2 72 72 72 72-32.2 72-72-32.2-72-72-72z"],search:[512,512,[],"f002","M505 442.7L405.3 343c-4.5-4.5-10.6-7-17-7H372c27.6-35.3 44-79.7 44-128C416 93.1 322.9 0 208 0S0 93.1 0 208s93.1 208 208 208c48.3 0 92.7-16.4 128-44v16.3c0 6.4 2.5 12.5 7 17l99.7 99.7c9.4 9.4 24.6 9.4 33.9 0l28.3-28.3c9.4-9.4 9.4-24.6.1-34zM208 336c-70.7 0-128-57.2-128-128 0-70.7 57.2-128 128-128 70.7 0 128 57.2 128 128 0 70.7-57.2 128-128 128z"]}}[this.props.family][this.props.icon];if(e)return _("svg",{style:this.props.rotation?`transform: rotate(${this.props.rotation})`:null,className:`fa-icon ${this.props.family} ${this.props.icon}`,viewBox:`0 0 ${e[0]} ${e[1]}`},_("path",{fill:"currentColor",d:e[4]}))};let Qa=q(),Za="undefined"!=typeof window?Wt:qt,eo=(to=Qa,(...e)=>{let t=Jt(to),n=Ht({});return Za((()=>t.on("@changed",((t,i)=>{e.some((e=>e in i))&&n[1]({})}))),[]),Kt((()=>{let n=t.get(),i={};return e.forEach((e=>{i[e]=n[e]})),i.dispatch=t.dispatch,i}),[n[0]])});var to;function no(){return no=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},no.apply(this,arguments)}const io=function(e){const{t:t}=lr(),n=Ht(e.id),[i,r]=Ht(!1),[a,o]=Ht(""),[s,l]=Ht(""),[c,u]=Ht([]),d=()=>{const e=Hi.getParam("q"),t=Hi.getParam("hashtags");o(e),l(t),r(!1),u([]),zi.post("/api/messages/search",{group:n,search:e,hashtags:t}).then((t=>{t&&Array.isArray(t.messages)&&(o(e),u(t.messages),r(!0))}))};if(qt((()=>(d(),window.addEventListener("groupSearch",d),()=>{window.removeEventListener("groupSearch",d)})),[]),Array.isArray(c))return _("div",null,_("article",{id:"group",class:"justify-content-center d-flex"},_("div",{class:"search-results-container container-fluid d-flex justify-content-center flex-wrap"},0==c.length&&!i&&_("p",null,_("div",{class:"mt-5 spinner orange-spinner"},_("div",null),_("div",null),_("div",null),_("div",null),_("div",null))),0==c.length&&i&&_("p",null,t("search_without_result")),c.map(((e,t)=>_($o,{tabindex:t+1,key:e.id,message:e,groupId:n,search:a,hashtags:s}))))))},ro=function(){let e=da();return _("main",null,_(oo,null),_("div",{class:"content"},_("article",{class:"mb-3"},_("div",{class:"container pb-3"},_(io,{key:e.id,id:e.id})))))},ao=function(){const{t:e}=lr();return _(k,null,this.props.groups&&_("div",{class:"nav-link dropdown groups unselectable",tabindex:"-1",onClick:e=>e.currentTarget.classList.toggle("active")},_("div",{class:"unselectable pr-1"},e("groups")," ",_(Ja,{family:"solid",icon:"caret-down"})),_("div",{class:"dropdown-menu dropdown-left"},this.props.groups.map((e=>_(Ma,{key:e.id,to:`/groups/${e.id}`,class:"d-block seamless-link unselectable"},e.name))),_(Ma,{to:"/create-group",class:"seamless-link unselectable"},`+ ${e("create_a_group")}`))))},oo=function(){const{t:e}=lr(),{bookmarks:t}=eo("bookmarks"),{me:n}=eo("me");return _("div",{class:"main-nav nav align-items-center z-index-100"},_("div",{class:"navbar-block"},_("div",{class:"menu dropdown cursor-pointer",tabindex:"-1",onClick:e=>e.currentTarget.classList.toggle("active")},_("div",{class:"rounded-circle avatar unselectable"},_("img",{class:"rounded-circle",style:qi.backgroundHash(n.id),src:n.avatar?qi.crop(n.avatar.id,80,80):qi.defaultAvatar,onError:e=>e.currentTarget.src=qi.defaultAvatar})),_("div",{class:"dropdown-menu dropdown-right"},t?.length>0&&_(Ma,{class:"d-block seamless-link capitalize",to:"/bookmarks"},e("bookmarks")),_(Ma,{class:"d-block seamless-link capitalize",to:`/users/${n.id}/settings`},e("settings")),_(Ma,{class:"d-block seamless-link capitalize",to:"/logout"},e("logout")))),_(so,null)),["messages","groups"].includes(Hi.route)&&_(jo,null),_("div",{class:"navbar-block"},_(ao,{groups:n.groups})))},so=function(){const{t:e}=lr(),{notifications:t}=eo("notifications");return t?_("div",{className:"menu dropdown"+(t.length?" cursor-pointer":""),title:e("notifications"),tabindex:"-1",onClick:e=>t.length&&e.currentTarget.classList.toggle("active")},_("div",{class:"unselectable button-with-count"},_(Ja,{family:t.length?"solid":"regular",icon:"bell"}),!!t.filter((e=>!e.read)).length&&_("div",{class:"unread-badge"})),_("div",{class:"dropdown-menu dropdown-right notifications-menu"},_("div",{class:"notification-header"},_("strong",{class:"capitalize"},e("notifications")),_("div",{class:"action capitalize",onClick:()=>{Ui.markAllNotificationsAsRead()}},e("mark_all_as_read"))),t?.length&&t.sort(((e,t)=>t.createdAt-e.createdAt)).slice(0,Ui.LIMIT).map((e=>_(Eo,no({key:e.id+e.read},e)))))):null};var lo=Wa()(class extends x{constructor(){super(),this.postNewGroup=this.postNewGroup.bind(this)}postNewGroup(e){e.preventDefault();const t=document.querySelector("#create_group_form input[name='name']").value;let n={};if(!t)return!1;n.name=t,n.createdAt=Math.floor(Date.now()/1e3),zi.post("/api/groups",n).then((e=>{zi.post(`/api/groups/invitation/${e.secretKey}`,{}).then((e=>{window.location=qi.toApp(`/groups/${e.id}`)}))}))}render(){return _("main",null,_(oo,null),_("div",{class:"content"},_("div",{class:"container mt-2"},_("div",{class:"group-settings"},_("div",{class:"card"},_("div",{class:"card-body"},_("div",{class:"container-fluid p-1"},_("div",{class:"row"},_("div",{class:"col-12 col-md-10"},_("form",{id:"create_group_form",class:"mb-1"},_("div",{class:"form-group"},_("label",{for:"name"},this.props.t("name"),": "),_("input",{type:"text",name:"name",minlength:"1",maxlength:"128",placeholder:this.props.t("name_input"),class:"form-control",required:!0})),_("button",{onClick:e=>this.postNewGroup(e),class:"btn btn-primary"},this.props.t("create_the_group"))))))))))))}});class co extends x{render(){const e=`${this.props.url}/size=large/bgcol=f5f5f5/linkcol=0687f5/minimal=true/tracklist=false/`;return this.state.revealed?_("div",{class:"bandcamp-embed embed-responsive embed-responsive-1by1"},_("iframe",{class:"embed-responsive-item",src:e})):_("div",{class:"embed-preview",onClick:()=>this.setState({revealed:!0})},_("div",{class:"bandcamp"}),_("img",{src:this.props.preview}))}}function uo(e){return _("a",{class:"preview-card seamless-link d-inline-block",target:"_blank",rel:"noreferrer",href:e.url},_("div",{class:"card",style:"max-width: 480px"},e.preview&&_("img",{class:"card-img-top",src:e.preview}),_("div",{class:"card-body p-1"},_("h5",null,e.title),e.description&&_("p",null,_("small",null,e.description.slice(0,1e3))))))}class po extends x{render(){return this.state.revealed?_("div",{class:"embed-responsive embed-responsive-16by9"},_("iframe",{allowfullscreen:!0,class:"embed-responsive-item",src:this.props.url})):_("div",{class:"embed-preview",onClick:()=>this.setState({revealed:!0})},_("div",{className:this.props.playBtnClass}),_("img",{src:this.props.preview}))}}var ho={};ho=function(){function e(t){return(e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function t(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function i(e,t,i){return t&&n(e.prototype,t),i&&n(e,i),e}var r=Date.now();function a(){var e={},t=!0,n=0,i=arguments.length;"[object Boolean]"===Object.prototype.toString.call(arguments[0])&&(t=arguments[0],n++);for(var r=function(n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t&&"[object Object]"===Object.prototype.toString.call(n[i])?e[i]=a(!0,e[i],n[i]):e[i]=n[i])};n<i;n++)r(arguments[n]);return e}function o(e,t){if((C(e)||e===window||e===document)&&(e=[e]),E(e)||P(e)||(e=[e]),0!=L(e))if(E(e)&&!P(e))for(var n=e.length,i=0;i<n&&!1!==t.call(e[i],e[i],i,e);i++);else if(P(e))for(var r in e)if(A(e,r)&&!1===t.call(e[r],e[r],r,e))break}function s(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,i=e[r]=e[r]||[],a={all:i,evt:null,found:null};return t&&n&&L(i)>0&&o(i,(function(e,i){if(e.eventName==t&&e.fn.toString()==n.toString())return a.found=!0,a.evt=i,!1})),a}function l(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.onElement,i=t.withCallback,r=t.avoidDuplicate,a=void 0===r||r,l=t.once,c=void 0!==l&&l,u=t.useCapture,d=void 0!==u&&u,p=arguments.length>2?arguments[2]:void 0,h=n||[];function f(e){x(i)&&i.call(p,e,this),c&&f.destroy()}return S(h)&&(h=document.querySelectorAll(h)),f.destroy=function(){o(h,(function(t){var n=s(t,e,f);n.found&&n.all.splice(n.evt,1),t.removeEventListener&&t.removeEventListener(e,f,d)}))},o(h,(function(t){var n=s(t,e,f);(t.addEventListener&&a&&!n.found||!a)&&(t.addEventListener(e,f,d),n.all.push({eventName:e,fn:f}))})),f}function c(e,t){o(t.split(" "),(function(t){return e.classList.add(t)}))}function u(e,t){o(t.split(" "),(function(t){return e.classList.remove(t)}))}function d(e,t){return e.classList.contains(t)}function p(e,t){for(;e!==document.body;){if(!(e=e.parentElement))return!1;if("function"==typeof e.matches?e.matches(t):e.msMatchesSelector(t))return e}}function h(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(!e||""===t)return!1;if("none"===t)return x(n)&&n(),!1;var i=_(),r=t.split(" ");o(r,(function(t){c(e,"g"+t)})),l(i,{onElement:e,avoidDuplicate:!1,once:!0,withCallback:function(e,t){o(r,(function(e){u(t,"g"+e)})),x(n)&&n()}})}function f(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";if(""===t)return e.style.webkitTransform="",e.style.MozTransform="",e.style.msTransform="",e.style.OTransform="",e.style.transform="",!1;e.style.webkitTransform=t,e.style.MozTransform=t,e.style.msTransform=t,e.style.OTransform=t,e.style.transform=t}function g(e){e.style.display="block"}function m(e){e.style.display="none"}function v(e){var t=document.createDocumentFragment(),n=document.createElement("div");for(n.innerHTML=e;n.firstChild;)t.appendChild(n.firstChild);return t}function y(){return{width:window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth,height:window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight}}function _(){var e,t=document.createElement("fakeelement"),n={animation:"animationend",OAnimation:"oAnimationEnd",MozAnimation:"animationend",WebkitAnimation:"webkitAnimationEnd"};for(e in n)if(void 0!==t.style[e])return n[e]}function b(e,t,n,i){if(e())t();else{var r;n||(n=100);var a=setInterval((function(){e()&&(clearInterval(a),r&&clearTimeout(r),t())}),n);i&&(r=setTimeout((function(){clearInterval(a)}),i))}}function w(e,t,n){if(j(e))console.error("Inject assets error");else if(x(t)&&(n=t,t=!1),S(t)&&t in window)x(n)&&n();else{var i;if(-1!==e.indexOf(".css")){if((i=document.querySelectorAll('link[href="'+e+'"]'))&&i.length>0)return void(x(n)&&n());var r=document.getElementsByTagName("head")[0],a=r.querySelectorAll('link[rel="stylesheet"]'),o=document.createElement("link");return o.rel="stylesheet",o.type="text/css",o.href=e,o.media="all",a?r.insertBefore(o,a[0]):r.appendChild(o),void(x(n)&&n())}if((i=document.querySelectorAll('script[src="'+e+'"]'))&&i.length>0){if(x(n)){if(S(t))return b((function(){return void 0!==window[t]}),(function(){n()})),!1;n()}}else{var s=document.createElement("script");s.type="text/javascript",s.src=e,s.onload=function(){if(x(n)){if(S(t))return b((function(){return void 0!==window[t]}),(function(){n()})),!1;n()}},document.body.appendChild(s)}}}function k(){return"navigator"in window&&window.navigator.userAgent.match(/(iPad)|(iPhone)|(iPod)|(Android)|(PlayBook)|(BB10)|(BlackBerry)|(Opera Mini)|(IEMobile)|(webOS)|(MeeGo)/i)}function x(e){return"function"==typeof e}function S(e){return"string"==typeof e}function C(e){return!(!e||!e.nodeType||1!=e.nodeType)}function O(e){return Array.isArray(e)}function E(e){return e&&e.length&&isFinite(e.length)}function P(t){return"object"===e(t)&&null!=t&&!x(t)&&!O(t)}function j(e){return null==e}function A(e,t){return null!==e&&hasOwnProperty.call(e,t)}function L(e){if(P(e)){if(e.keys)return e.keys().length;var t=0;for(var n in e)A(e,n)&&t++;return t}return e.length}function T(e){return!isNaN(parseFloat(e))&&isFinite(e)}function N(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:-1,t=document.querySelectorAll(".gbtn[data-taborder]:not(.disabled)");if(!t.length)return!1;if(1==t.length)return t[0];"string"==typeof e&&(e=parseInt(e));var n=[];o(t,(function(e){n.push(e.getAttribute("data-taborder"))}));var i=Math.max.apply(Math,n.map((function(e){return parseInt(e)}))),r=e<0?1:e+1;r>i&&(r="1");var a=n.filter((function(e){return e>=parseInt(r)})),s=a.sort()[0];return document.querySelector('.gbtn[data-taborder="'.concat(s,'"]'))}function I(e){if(e.events.hasOwnProperty("keyboard"))return!1;e.events.keyboard=l("keydown",{onElement:window,withCallback:function(t,n){var i=(t=t||window.event).keyCode;if(9==i){var r=document.querySelector(".gbtn.focused");if(!r){var a=!(!document.activeElement||!document.activeElement.nodeName)&&document.activeElement.nodeName.toLocaleLowerCase();if("input"==a||"textarea"==a||"button"==a)return}t.preventDefault();var o=document.querySelectorAll(".gbtn[data-taborder]");if(!o||o.length<=0)return;if(!r){var s=N();return void(s&&(s.focus(),c(s,"focused")))}var l=N(r.getAttribute("data-taborder"));u(r,"focused"),l&&(l.focus(),c(l,"focused"))}39==i&&e.nextSlide(),37==i&&e.prevSlide(),27==i&&e.close()}})}function D(e){return Math.sqrt(e.x*e.x+e.y*e.y)}function R(e,t){var n=function(e,t){var n=D(e)*D(t);if(0===n)return 0;var i=function(e,t){return e.x*t.x+e.y*t.y}(e,t)/n;return i>1&&(i=1),Math.acos(i)}(e,t);return function(e,t){return e.x*t.y-t.x*e.y}(e,t)>0&&(n*=-1),180*n/Math.PI}var M=function(){function e(n){t(this,e),this.handlers=[],this.el=n}return i(e,[{key:"add",value:function(e){this.handlers.push(e)}},{key:"del",value:function(e){e||(this.handlers=[]);for(var t=this.handlers.length;t>=0;t--)this.handlers[t]===e&&this.handlers.splice(t,1)}},{key:"dispatch",value:function(){for(var e=0,t=this.handlers.length;e<t;e++){var n=this.handlers[e];"function"==typeof n&&n.apply(this.el,arguments)}}}]),e}();function z(e,t){var n=new M(e);return n.add(t),n}var $=function(){function e(n,i){t(this,e),this.element="string"==typeof n?document.querySelector(n):n,this.start=this.start.bind(this),this.move=this.move.bind(this),this.end=this.end.bind(this),this.cancel=this.cancel.bind(this),this.element.addEventListener("touchstart",this.start,!1),this.element.addEventListener("touchmove",this.move,!1),this.element.addEventListener("touchend",this.end,!1),this.element.addEventListener("touchcancel",this.cancel,!1),this.preV={x:null,y:null},this.pinchStartLen=null,this.zoom=1,this.isDoubleTap=!1;var r=function(){};this.rotate=z(this.element,i.rotate||r),this.touchStart=z(this.element,i.touchStart||r),this.multipointStart=z(this.element,i.multipointStart||r),this.multipointEnd=z(this.element,i.multipointEnd||r),this.pinch=z(this.element,i.pinch||r),this.swipe=z(this.element,i.swipe||r),this.tap=z(this.element,i.tap||r),this.doubleTap=z(this.element,i.doubleTap||r),this.longTap=z(this.element,i.longTap||r),this.singleTap=z(this.element,i.singleTap||r),this.pressMove=z(this.element,i.pressMove||r),this.twoFingerPressMove=z(this.element,i.twoFingerPressMove||r),this.touchMove=z(this.element,i.touchMove||r),this.touchEnd=z(this.element,i.touchEnd||r),this.touchCancel=z(this.element,i.touchCancel||r),this.translateContainer=this.element,this._cancelAllHandler=this.cancelAll.bind(this),window.addEventListener("scroll",this._cancelAllHandler),this.delta=null,this.last=null,this.now=null,this.tapTimeout=null,this.singleTapTimeout=null,this.longTapTimeout=null,this.swipeTimeout=null,this.x1=this.x2=this.y1=this.y2=null,this.preTapPosition={x:null,y:null}}return i(e,[{key:"start",value:function(e){if(e.touches)if(e.target&&e.target.nodeName&&["a","button","input"].indexOf(e.target.nodeName.toLowerCase())>=0)console.log("ignore drag for this touched element",e.target.nodeName.toLowerCase());else{this.now=Date.now(),this.x1=e.touches[0].pageX,this.y1=e.touches[0].pageY,this.delta=this.now-(this.last||this.now),this.touchStart.dispatch(e,this.element),null!==this.preTapPosition.x&&(this.isDoubleTap=this.delta>0&&this.delta<=250&&Math.abs(this.preTapPosition.x-this.x1)<30&&Math.abs(this.preTapPosition.y-this.y1)<30,this.isDoubleTap&&clearTimeout(this.singleTapTimeout)),this.preTapPosition.x=this.x1,this.preTapPosition.y=this.y1,this.last=this.now;var t=this.preV;if(e.touches.length>1){this._cancelLongTap(),this._cancelSingleTap();var n={x:e.touches[1].pageX-this.x1,y:e.touches[1].pageY-this.y1};t.x=n.x,t.y=n.y,this.pinchStartLen=D(t),this.multipointStart.dispatch(e,this.element)}this._preventTap=!1,this.longTapTimeout=setTimeout(function(){this.longTap.dispatch(e,this.element),this._preventTap=!0}.bind(this),750)}}},{key:"move",value:function(e){if(e.touches){var t=this.preV,n=e.touches.length,i=e.touches[0].pageX,r=e.touches[0].pageY;if(this.isDoubleTap=!1,n>1){var a=e.touches[1].pageX,o=e.touches[1].pageY,s={x:e.touches[1].pageX-i,y:e.touches[1].pageY-r};null!==t.x&&(this.pinchStartLen>0&&(e.zoom=D(s)/this.pinchStartLen,this.pinch.dispatch(e,this.element)),e.angle=R(s,t),this.rotate.dispatch(e,this.element)),t.x=s.x,t.y=s.y,null!==this.x2&&null!==this.sx2?(e.deltaX=(i-this.x2+a-this.sx2)/2,e.deltaY=(r-this.y2+o-this.sy2)/2):(e.deltaX=0,e.deltaY=0),this.twoFingerPressMove.dispatch(e,this.element),this.sx2=a,this.sy2=o}else{if(null!==this.x2){e.deltaX=i-this.x2,e.deltaY=r-this.y2;var l=Math.abs(this.x1-this.x2),c=Math.abs(this.y1-this.y2);(l>10||c>10)&&(this._preventTap=!0)}else e.deltaX=0,e.deltaY=0;this.pressMove.dispatch(e,this.element)}this.touchMove.dispatch(e,this.element),this._cancelLongTap(),this.x2=i,this.y2=r,n>1&&e.preventDefault()}}},{key:"end",value:function(e){if(e.changedTouches){this._cancelLongTap();var t=this;e.touches.length<2&&(this.multipointEnd.dispatch(e,this.element),this.sx2=this.sy2=null),this.x2&&Math.abs(this.x1-this.x2)>30||this.y2&&Math.abs(this.y1-this.y2)>30?(e.direction=this._swipeDirection(this.x1,this.x2,this.y1,this.y2),this.swipeTimeout=setTimeout((function(){t.swipe.dispatch(e,t.element)}),0)):(this.tapTimeout=setTimeout((function(){t._preventTap||t.tap.dispatch(e,t.element),t.isDoubleTap&&(t.doubleTap.dispatch(e,t.element),t.isDoubleTap=!1)}),0),t.isDoubleTap||(t.singleTapTimeout=setTimeout((function(){t.singleTap.dispatch(e,t.element)}),250))),this.touchEnd.dispatch(e,this.element),this.preV.x=0,this.preV.y=0,this.zoom=1,this.pinchStartLen=null,this.x1=this.x2=this.y1=this.y2=null}}},{key:"cancelAll",value:function(){this._preventTap=!0,clearTimeout(this.singleTapTimeout),clearTimeout(this.tapTimeout),clearTimeout(this.longTapTimeout),clearTimeout(this.swipeTimeout)}},{key:"cancel",value:function(e){this.cancelAll(),this.touchCancel.dispatch(e,this.element)}},{key:"_cancelLongTap",value:function(){clearTimeout(this.longTapTimeout)}},{key:"_cancelSingleTap",value:function(){clearTimeout(this.singleTapTimeout)}},{key:"_swipeDirection",value:function(e,t,n,i){return Math.abs(e-t)>=Math.abs(n-i)?e-t>0?"Left":"Right":n-i>0?"Up":"Down"}},{key:"on",value:function(e,t){this[e]&&this[e].add(t)}},{key:"off",value:function(e,t){this[e]&&this[e].del(t)}},{key:"destroy",value:function(){return this.singleTapTimeout&&clearTimeout(this.singleTapTimeout),this.tapTimeout&&clearTimeout(this.tapTimeout),this.longTapTimeout&&clearTimeout(this.longTapTimeout),this.swipeTimeout&&clearTimeout(this.swipeTimeout),this.element.removeEventListener("touchstart",this.start),this.element.removeEventListener("touchmove",this.move),this.element.removeEventListener("touchend",this.end),this.element.removeEventListener("touchcancel",this.cancel),this.rotate.del(),this.touchStart.del(),this.multipointStart.del(),this.multipointEnd.del(),this.pinch.del(),this.swipe.del(),this.tap.del(),this.doubleTap.del(),this.longTap.del(),this.singleTap.del(),this.pressMove.del(),this.twoFingerPressMove.del(),this.touchMove.del(),this.touchEnd.del(),this.touchCancel.del(),this.preV=this.pinchStartLen=this.zoom=this.isDoubleTap=this.delta=this.last=this.now=this.tapTimeout=this.singleTapTimeout=this.longTapTimeout=this.swipeTimeout=this.x1=this.x2=this.y1=this.y2=this.preTapPosition=this.rotate=this.touchStart=this.multipointStart=this.multipointEnd=this.pinch=this.swipe=this.tap=this.doubleTap=this.longTap=this.singleTap=this.pressMove=this.touchMove=this.touchEnd=this.touchCancel=this.twoFingerPressMove=null,window.removeEventListener("scroll",this._cancelAllHandler),null}}]),e}();function B(e){var t=function(){var e,t=document.createElement("fakeelement"),n={transition:"transitionend",OTransition:"oTransitionEnd",MozTransition:"transitionend",WebkitTransition:"webkitTransitionEnd"};for(e in n)if(void 0!==t.style[e])return n[e]}(),n=window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth,i=d(e,"gslide-media")?e:e.querySelector(".gslide-media"),r=p(i,".ginner-container"),a=e.querySelector(".gslide-description");n>769&&(i=r),c(i,"greset"),f(i,"translate3d(0, 0, 0)"),l(t,{onElement:i,once:!0,withCallback:function(e,t){u(i,"greset")}}),i.style.opacity="",a&&(a.style.opacity="")}function U(e){if(e.events.hasOwnProperty("touch"))return!1;var t,n,i,r=y(),a=r.width,o=r.height,s=!1,l=null,h=null,g=null,m=!1,v=1,_=1,b=!1,w=!1,k=null,x=null,S=null,C=null,O=0,E=0,P=!1,j=!1,A={},L={},T=0,N=0,I=document.getElementById("glightbox-slider"),D=document.querySelector(".goverlay"),R=new $(I,{touchStart:function(t){if(s=!0,(d(t.targetTouches[0].target,"ginner-container")||p(t.targetTouches[0].target,".gslide-desc")||"a"==t.targetTouches[0].target.nodeName.toLowerCase())&&(s=!1),p(t.targetTouches[0].target,".gslide-inline")&&!d(t.targetTouches[0].target.parentNode,"gslide-inline")&&(s=!1),s){if(L=t.targetTouches[0],A.pageX=t.targetTouches[0].pageX,A.pageY=t.targetTouches[0].pageY,T=t.targetTouches[0].clientX,N=t.targetTouches[0].clientY,l=e.activeSlide,h=l.querySelector(".gslide-media"),i=l.querySelector(".gslide-inline"),g=null,d(h,"gslide-image")&&(g=h.querySelector("img")),(window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth)>769&&(h=l.querySelector(".ginner-container")),u(D,"greset"),t.pageX>20&&t.pageX<window.innerWidth-20)return;t.preventDefault()}},touchMove:function(r){if(s&&(L=r.targetTouches[0],!b&&!w)){if(i&&i.offsetHeight>o){var l=A.pageX-L.pageX;if(Math.abs(l)<=13)return!1}m=!0;var c,u=r.targetTouches[0].clientX,d=r.targetTouches[0].clientY,p=T-u,v=N-d;if(Math.abs(p)>Math.abs(v)?(P=!1,j=!0):(j=!1,P=!0),t=L.pageX-A.pageX,O=100*t/a,n=L.pageY-A.pageY,E=100*n/o,P&&g&&(c=1-Math.abs(n)/o,D.style.opacity=c,e.settings.touchFollowAxis&&(O=0)),j&&(c=1-Math.abs(t)/a,h.style.opacity=c,e.settings.touchFollowAxis&&(E=0)),!g)return f(h,"translate3d(".concat(O,"%, 0, 0)"));f(h,"translate3d(".concat(O,"%, ").concat(E,"%, 0)"))}},touchEnd:function(){if(s){if(m=!1,w||b)return S=k,void(C=x);var t=Math.abs(parseInt(E)),n=Math.abs(parseInt(O));if(!(t>29&&g))return t<29&&n<25?(c(D,"greset"),D.style.opacity=1,B(h)):void 0;e.close()}},multipointEnd:function(){setTimeout((function(){b=!1}),50)},multipointStart:function(){b=!0,v=_||1},pinch:function(e){if(!g||m)return!1;b=!0,g.scaleX=g.scaleY=v*e.zoom;var t=v*e.zoom;if(w=!0,t<=1)return w=!1,t=1,C=null,S=null,k=null,x=null,void g.setAttribute("style","");t>4.5&&(t=4.5),g.style.transform="scale3d(".concat(t,", ").concat(t,", 1)"),_=t},pressMove:function(e){if(w&&!b){var t=L.pageX-A.pageX,n=L.pageY-A.pageY;S&&(t+=S),C&&(n+=C),k=t,x=n;var i="translate3d(".concat(t,"px, ").concat(n,"px, 0)");_&&(i+=" scale3d(".concat(_,", ").concat(_,", 1)")),f(g,i)}},swipe:function(t){if(!w)if(b)b=!1;else{if("Left"==t.direction){if(e.index==e.elements.length-1)return B(h);e.nextSlide()}if("Right"==t.direction){if(0==e.index)return B(h);e.prevSlide()}}}});e.events.touch=R}var F=function(){function e(n,i){var r=this,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(t(this,e),this.img=n,this.slide=i,this.onclose=a,this.img.setZoomEvents)return!1;this.active=!1,this.zoomedIn=!1,this.dragging=!1,this.currentX=null,this.currentY=null,this.initialX=null,this.initialY=null,this.xOffset=0,this.yOffset=0,this.img.addEventListener("mousedown",(function(e){return r.dragStart(e)}),!1),this.img.addEventListener("mouseup",(function(e){return r.dragEnd(e)}),!1),this.img.addEventListener("mousemove",(function(e){return r.drag(e)}),!1),this.img.addEventListener("click",(function(e){return r.slide.classList.contains("dragging-nav")?(r.zoomOut(),!1):r.zoomedIn?void(r.zoomedIn&&!r.dragging&&r.zoomOut()):r.zoomIn()}),!1),this.img.setZoomEvents=!0}return i(e,[{key:"zoomIn",value:function(){var e=this.widowWidth();if(!(this.zoomedIn||e<=768)){var t=this.img;if(t.setAttribute("data-style",t.getAttribute("style")),t.style.maxWidth=t.naturalWidth+"px",t.style.maxHeight=t.naturalHeight+"px",t.naturalWidth>e){var n=e/2-t.naturalWidth/2;this.setTranslate(this.img.parentNode,n,0)}this.slide.classList.add("zoomed"),this.zoomedIn=!0}}},{key:"zoomOut",value:function(){this.img.parentNode.setAttribute("style",""),this.img.setAttribute("style",this.img.getAttribute("data-style")),this.slide.classList.remove("zoomed"),this.zoomedIn=!1,this.currentX=null,this.currentY=null,this.initialX=null,this.initialY=null,this.xOffset=0,this.yOffset=0,this.onclose&&"function"==typeof this.onclose&&this.onclose()}},{key:"dragStart",value:function(e){e.preventDefault(),this.zoomedIn?("touchstart"===e.type?(this.initialX=e.touches[0].clientX-this.xOffset,this.initialY=e.touches[0].clientY-this.yOffset):(this.initialX=e.clientX-this.xOffset,this.initialY=e.clientY-this.yOffset),e.target===this.img&&(this.active=!0,this.img.classList.add("dragging"))):this.active=!1}},{key:"dragEnd",value:function(e){var t=this;e.preventDefault(),this.initialX=this.currentX,this.initialY=this.currentY,this.active=!1,setTimeout((function(){t.dragging=!1,t.img.isDragging=!1,t.img.classList.remove("dragging")}),100)}},{key:"drag",value:function(e){this.active&&(e.preventDefault(),"touchmove"===e.type?(this.currentX=e.touches[0].clientX-this.initialX,this.currentY=e.touches[0].clientY-this.initialY):(this.currentX=e.clientX-this.initialX,this.currentY=e.clientY-this.initialY),this.xOffset=this.currentX,this.yOffset=this.currentY,this.img.isDragging=!0,this.dragging=!0,this.setTranslate(this.img,this.currentX,this.currentY))}},{key:"onMove",value:function(e){if(this.zoomedIn){var t=e.clientX-this.img.naturalWidth/2,n=e.clientY-this.img.naturalHeight/2;this.setTranslate(this.img,t,n)}}},{key:"setTranslate",value:function(e,t,n){e.style.transform="translate3d("+t+"px, "+n+"px, 0)"}},{key:"widowWidth",value:function(){return window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth}}]),e}(),H=function(){function e(){var n=this,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};t(this,e);var r=i.dragEl,a=i.toleranceX,o=void 0===a?40:a,s=i.toleranceY,l=void 0===s?65:s,c=i.slide,u=void 0===c?null:c,d=i.instance,p=void 0===d?null:d;this.el=r,this.active=!1,this.dragging=!1,this.currentX=null,this.currentY=null,this.initialX=null,this.initialY=null,this.xOffset=0,this.yOffset=0,this.direction=null,this.lastDirection=null,this.toleranceX=o,this.toleranceY=l,this.toleranceReached=!1,this.dragContainer=this.el,this.slide=u,this.instance=p,this.el.addEventListener("mousedown",(function(e){return n.dragStart(e)}),!1),this.el.addEventListener("mouseup",(function(e){return n.dragEnd(e)}),!1),this.el.addEventListener("mousemove",(function(e){return n.drag(e)}),!1)}return i(e,[{key:"dragStart",value:function(e){if(this.slide.classList.contains("zoomed"))this.active=!1;else{"touchstart"===e.type?(this.initialX=e.touches[0].clientX-this.xOffset,this.initialY=e.touches[0].clientY-this.yOffset):(this.initialX=e.clientX-this.xOffset,this.initialY=e.clientY-this.yOffset);var t=e.target.nodeName.toLowerCase();e.target.classList.contains("nodrag")||p(e.target,".nodrag")||-1!==["input","select","textarea","button","a"].indexOf(t)?this.active=!1:(e.preventDefault(),(e.target===this.el||"img"!==t&&p(e.target,".gslide-inline"))&&(this.active=!0,this.el.classList.add("dragging"),this.dragContainer=p(e.target,".ginner-container")))}}},{key:"dragEnd",value:function(e){var t=this;e&&e.preventDefault(),this.initialX=0,this.initialY=0,this.currentX=null,this.currentY=null,this.initialX=null,this.initialY=null,this.xOffset=0,this.yOffset=0,this.active=!1,this.doSlideChange&&(this.instance.preventOutsideClick=!0,"right"==this.doSlideChange&&this.instance.prevSlide(),"left"==this.doSlideChange&&this.instance.nextSlide()),this.doSlideClose&&this.instance.close(),this.toleranceReached||this.setTranslate(this.dragContainer,0,0,!0),setTimeout((function(){t.instance.preventOutsideClick=!1,t.toleranceReached=!1,t.lastDirection=null,t.dragging=!1,t.el.isDragging=!1,t.el.classList.remove("dragging"),t.slide.classList.remove("dragging-nav"),t.dragContainer.style.transform="",t.dragContainer.style.transition=""}),100)}},{key:"drag",value:function(e){if(this.active){e.preventDefault(),this.slide.classList.add("dragging-nav"),"touchmove"===e.type?(this.currentX=e.touches[0].clientX-this.initialX,this.currentY=e.touches[0].clientY-this.initialY):(this.currentX=e.clientX-this.initialX,this.currentY=e.clientY-this.initialY),this.xOffset=this.currentX,this.yOffset=this.currentY,this.el.isDragging=!0,this.dragging=!0,this.doSlideChange=!1,this.doSlideClose=!1;var t=Math.abs(this.currentX),n=Math.abs(this.currentY);if(t>0&&t>=Math.abs(this.currentY)&&(!this.lastDirection||"x"==this.lastDirection)){this.yOffset=0,this.lastDirection="x",this.setTranslate(this.dragContainer,this.currentX,0);var i=this.shouldChange();if(!this.instance.settings.dragAutoSnap&&i&&(this.doSlideChange=i),this.instance.settings.dragAutoSnap&&i)return this.instance.preventOutsideClick=!0,this.toleranceReached=!0,this.active=!1,this.instance.preventOutsideClick=!0,this.dragEnd(null),"right"==i&&this.instance.prevSlide(),void("left"==i&&this.instance.nextSlide())}if(this.toleranceY>0&&n>0&&n>=t&&(!this.lastDirection||"y"==this.lastDirection)){this.xOffset=0,this.lastDirection="y",this.setTranslate(this.dragContainer,0,this.currentY);var r=this.shouldClose();return!this.instance.settings.dragAutoSnap&&r&&(this.doSlideClose=!0),void(this.instance.settings.dragAutoSnap&&r&&this.instance.close())}}}},{key:"shouldChange",value:function(){var e=!1;if(Math.abs(this.currentX)>=this.toleranceX){var t=this.currentX>0?"right":"left";("left"==t&&this.slide!==this.slide.parentNode.lastChild||"right"==t&&this.slide!==this.slide.parentNode.firstChild)&&(e=t)}return e}},{key:"shouldClose",value:function(){var e=!1;return Math.abs(this.currentY)>=this.toleranceY&&(e=!0),e}},{key:"setTranslate",value:function(e,t,n){var i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];e.style.transition=i?"all .2s ease":"",e.style.transform="translate3d(".concat(t,"px, ").concat(n,"px, 0)")}}]),e}();function V(e,t,n,i){var r=e.querySelector(".gslide-media"),a=new Image,o="gSlideTitle_"+n,s="gSlideDesc_"+n;a.addEventListener("load",(function(){x(i)&&i()}),!1),a.src=t.href,""!=t.sizes&&""!=t.srcset&&(a.sizes=t.sizes,a.srcset=t.srcset),a.alt="",j(t.alt)||""===t.alt||(a.alt=t.alt),""!==t.title&&a.setAttribute("aria-labelledby",o),""!==t.description&&a.setAttribute("aria-describedby",s),t.hasOwnProperty("_hasCustomWidth")&&t._hasCustomWidth&&(a.style.width=t.width),t.hasOwnProperty("_hasCustomHeight")&&t._hasCustomHeight&&(a.style.height=t.height),r.insertBefore(a,r.firstChild)}function q(e,t,n,i){var r=this,a=e.querySelector(".ginner-container"),o="gvideo"+n,s=e.querySelector(".gslide-media"),l=this.getAllPlayers();c(a,"gvideo-container"),s.insertBefore(v('<div class="gvideo-wrapper"></div>'),s.firstChild);var u=e.querySelector(".gvideo-wrapper");w(this.settings.plyr.css,"Plyr");var d=t.href,p=null==t?void 0:t.videoProvider,h=!1;s.style.maxWidth=t.width,w(this.settings.plyr.js,"Plyr",(function(){if(!p&&d.match(/vimeo\.com\/([0-9]*)/)&&(p="vimeo"),!p&&(d.match(/(youtube\.com|youtube-nocookie\.com)\/watch\?v=([a-zA-Z0-9\-_]+)/)||d.match(/youtu\.be\/([a-zA-Z0-9\-_]+)/)||d.match(/(youtube\.com|youtube-nocookie\.com)\/embed\/([a-zA-Z0-9\-_]+)/))&&(p="youtube"),"local"===p||!p){p="local";var a='<video id="'+o+'" ';a+='style="background:#000; max-width: '.concat(t.width,';" '),a+='preload="metadata" ',a+='x-webkit-airplay="allow" ',a+="playsinline ",a+="controls ",a+='class="gvideo-local">',a+='<source src="'.concat(d,'">'),h=v(a+="</video>")}var s=h||v('<div id="'.concat(o,'" data-plyr-provider="').concat(p,'" data-plyr-embed-id="').concat(d,'"></div>'));c(u,"".concat(p,"-video gvideo")),u.appendChild(s),u.setAttribute("data-id",o),u.setAttribute("data-index",n);var f=A(r.settings.plyr,"config")?r.settings.plyr.config:{},g=new Plyr("#"+o,f);g.on("ready",(function(e){l[o]=e.detail.plyr,x(i)&&i()})),b((function(){return e.querySelector("iframe")&&"true"==e.querySelector("iframe").dataset.ready}),(function(){r.resize(e)})),g.on("enterfullscreen",W),g.on("exitfullscreen",W)}))}function W(e){var t=p(e.target,".gslide-media");"enterfullscreen"===e.type&&c(t,"fullscreen"),"exitfullscreen"===e.type&&u(t,"fullscreen")}function Y(e,t,n,i){var r,a=this,o=e.querySelector(".gslide-media"),s=!(!A(t,"href")||!t.href)&&t.href.split("#").pop().trim(),u=!(!A(t,"content")||!t.content)&&t.content;if(u&&(S(u)&&(r=v('<div class="ginlined-content">'.concat(u,"</div>"))),C(u))){"none"==u.style.display&&(u.style.display="block");var d=document.createElement("div");d.className="ginlined-content",d.appendChild(u),r=d}if(s){var p=document.getElementById(s);if(!p)return!1;var h=p.cloneNode(!0);h.style.height=t.height,h.style.maxWidth=t.width,c(h,"ginlined-content"),r=h}if(!r)return console.error("Unable to append inline slide content",t),!1;o.style.height=t.height,o.style.width=t.width,o.appendChild(r),this.events["inlineclose"+s]=l("click",{onElement:o.querySelectorAll(".gtrigger-close"),withCallback:function(e){e.preventDefault(),a.close()}}),x(i)&&i()}function X(e,t,n,i){var r=e.querySelector(".gslide-media"),a=function(e){var t=e.url,n=e.allow,i=e.callback,r=e.appendTo,a=document.createElement("iframe");return a.className="vimeo-video gvideo",a.src=t,a.style.width="100%",a.style.height="100%",n&&a.setAttribute("allow",n),a.onload=function(){a.onload=null,c(a,"node-ready"),x(i)&&i()},r&&r.appendChild(a),a}({url:t.href,callback:i});r.parentNode.style.maxWidth=t.width,r.parentNode.style.height=t.height,r.appendChild(a)}var K=function(){function e(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};t(this,e),this.defaults={href:"",sizes:"",srcset:"",title:"",type:"",videoProvider:"",description:"",alt:"",descPosition:"bottom",effect:"",width:"",height:"",content:!1,zoomable:!0,draggable:!0},P(n)&&(this.defaults=a(this.defaults,n))}return i(e,[{key:"sourceType",value:function(e){var t=e;return null!==(e=e.toLowerCase()).match(/\.(jpeg|jpg|jpe|gif|png|apn|webp|avif|svg)/)?"image":e.match(/(youtube\.com|youtube-nocookie\.com)\/watch\?v=([a-zA-Z0-9\-_]+)/)||e.match(/youtu\.be\/([a-zA-Z0-9\-_]+)/)||e.match(/(youtube\.com|youtube-nocookie\.com)\/embed\/([a-zA-Z0-9\-_]+)/)||e.match(/vimeo\.com\/([0-9]*)/)||null!==e.match(/\.(mp4|ogg|webm|mov)/)?"video":null!==e.match(/\.(mp3|wav|wma|aac|ogg)/)?"audio":e.indexOf("#")>-1&&""!==t.split("#").pop().trim()?"inline":e.indexOf("goajax=true")>-1?"ajax":"external"}},{key:"parseConfig",value:function(e,t){var n=this,i=a({descPosition:t.descPosition},this.defaults);if(P(e)&&!C(e)){A(e,"type")||(A(e,"content")&&e.content?e.type="inline":A(e,"href")&&(e.type=this.sourceType(e.href)));var r=a(i,e);return this.setSize(r,t),r}var s="",l=e.getAttribute("data-glightbox"),c=e.nodeName.toLowerCase();if("a"===c&&(s=e.href),"img"===c&&(s=e.src,i.alt=e.alt),i.href=s,o(i,(function(r,a){A(t,a)&&"width"!==a&&(i[a]=t[a]);var o=e.dataset[a];j(o)||(i[a]=n.sanitizeValue(o))})),i.content&&(i.type="inline"),!i.type&&s&&(i.type=this.sourceType(s)),j(l)){if(!i.title&&"a"==c){var u=e.title;j(u)||""===u||(i.title=u)}if(!i.title&&"img"==c){var d=e.alt;j(d)||""===d||(i.title=d)}}else{var p=[];o(i,(function(e,t){p.push(";\\s?"+t)})),p=p.join("\\s?:|"),""!==l.trim()&&o(i,(function(e,t){var r=l,a=new RegExp("s?"+t+"s?:s?(.*?)("+p+"s?:|$)"),o=r.match(a);if(o&&o.length&&o[1]){var s=o[1].trim().replace(/;\s*$/,"");i[t]=n.sanitizeValue(s)}}))}if(i.description&&"."===i.description.substring(0,1)){var h;try{h=document.querySelector(i.description).innerHTML}catch(e){if(!(e instanceof DOMException))throw e}h&&(i.description=h)}if(!i.description){var f=e.querySelector(".glightbox-desc");f&&(i.description=f.innerHTML)}return this.setSize(i,t,e),this.slideConfig=i,i}},{key:"setSize",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,i="video"==e.type?this.checkSize(t.videosWidth):this.checkSize(t.width),r=this.checkSize(t.height);return e.width=A(e,"width")&&""!==e.width?this.checkSize(e.width):i,e.height=A(e,"height")&&""!==e.height?this.checkSize(e.height):r,n&&"image"==e.type&&(e._hasCustomWidth=!!n.dataset.width,e._hasCustomHeight=!!n.dataset.height),e}},{key:"checkSize",value:function(e){return T(e)?"".concat(e,"px"):e}},{key:"sanitizeValue",value:function(e){return"true"!==e&&"false"!==e?e:"true"===e}}]),e}(),G=function(){function e(n,i,r){t(this,e),this.element=n,this.instance=i,this.index=r}return i(e,[{key:"setContent",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(d(t,"loaded"))return!1;var i=this.instance.settings,r=this.slideConfig,a=k();x(i.beforeSlideLoad)&&i.beforeSlideLoad({index:this.index,slide:t,player:!1});var o=r.type,s=r.descPosition,l=t.querySelector(".gslide-media"),u=t.querySelector(".gslide-title"),p=t.querySelector(".gslide-desc"),h=t.querySelector(".gdesc-inner"),f=n,g="gSlideTitle_"+this.index,m="gSlideDesc_"+this.index;if(x(i.afterSlideLoad)&&(f=function(){x(n)&&n(),i.afterSlideLoad({index:e.index,slide:t,player:e.instance.getSlidePlayerInstance(e.index)})}),""==r.title&&""==r.description?h&&h.parentNode.parentNode.removeChild(h.parentNode):(u&&""!==r.title?(u.id=g,u.innerHTML=r.title):u.parentNode.removeChild(u),p&&""!==r.description?(p.id=m,a&&i.moreLength>0?(r.smallDescription=this.slideShortDesc(r.description,i.moreLength,i.moreText),p.innerHTML=r.smallDescription,this.descriptionEvents(p,r)):p.innerHTML=r.description):p.parentNode.removeChild(p),c(l.parentNode,"desc-".concat(s)),c(h.parentNode,"description-".concat(s))),c(l,"gslide-".concat(o)),c(t,"loaded"),"video"!==o){if("external"!==o)return"inline"===o?(Y.apply(this.instance,[t,r,this.index,f]),void(r.draggable&&new H({dragEl:t.querySelector(".gslide-inline"),toleranceX:i.dragToleranceX,toleranceY:i.dragToleranceY,slide:t,instance:this.instance}))):void("image"!==o?x(f)&&f():V(t,r,this.index,(function(){var n=t.querySelector("img");r.draggable&&new H({dragEl:n,toleranceX:i.dragToleranceX,toleranceY:i.dragToleranceY,slide:t,instance:e.instance}),r.zoomable&&n.naturalWidth>n.offsetWidth&&(c(n,"zoomable"),new F(n,t,(function(){e.instance.resize()}))),x(f)&&f()})));X.apply(this,[t,r,this.index,f])}else q.apply(this.instance,[t,r,this.index,f])}},{key:"slideShortDesc",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:50,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=document.createElement("div");i.innerHTML=e;var r=n;if((e=i.innerText.trim()).length<=t)return e;var a=e.substr(0,t-1);return r?(i=null,a+'... <a href="#" class="desc-more">'+n+"</a>"):a}},{key:"descriptionEvents",value:function(e,t){var n=this,i=e.querySelector(".desc-more");if(!i)return!1;l("click",{onElement:i,withCallback:function(e,i){e.preventDefault();var r=document.body,a=p(i,".gslide-desc");if(!a)return!1;a.innerHTML=t.description,c(r,"gdesc-open");var o=l("click",{onElement:[r,p(a,".gslide-description")],withCallback:function(e,i){"a"!==e.target.nodeName.toLowerCase()&&(u(r,"gdesc-open"),c(r,"gdesc-closed"),a.innerHTML=t.smallDescription,n.descriptionEvents(a,t),setTimeout((function(){u(r,"gdesc-closed")}),400),o.destroy())}})}})}},{key:"create",value:function(){return v(this.instance.settings.slideHTML)}},{key:"getConfig",value:function(){C(this.element)||this.element.hasOwnProperty("draggable")||(this.element.draggable=this.instance.settings.draggable);var e=new K(this.instance.settings.slideExtraAttributes);return this.slideConfig=e.parseConfig(this.element,this.instance.settings),this.slideConfig}}]),e}(),J=k(),Q=null!==k()||void 0!==document.createTouch||"ontouchstart"in window||"onmsgesturechange"in window||navigator.msMaxTouchPoints,Z=document.getElementsByTagName("html")[0],ee={selector:".glightbox",elements:null,skin:"clean",theme:"clean",closeButton:!0,startAt:null,autoplayVideos:!0,autofocusVideos:!0,descPosition:"bottom",width:"900px",height:"506px",videosWidth:"960px",beforeSlideChange:null,afterSlideChange:null,beforeSlideLoad:null,afterSlideLoad:null,slideInserted:null,slideRemoved:null,slideExtraAttributes:null,onOpen:null,onClose:null,loop:!1,zoomable:!0,draggable:!0,dragAutoSnap:!1,dragToleranceX:40,dragToleranceY:65,preload:!0,oneSlidePerOpen:!1,touchNavigation:!0,touchFollowAxis:!0,keyboardNavigation:!0,closeOnOutsideClick:!0,plugins:!1,plyr:{css:"https://cdn.plyr.io/3.6.12/plyr.css",js:"https://cdn.plyr.io/3.6.12/plyr.js",config:{ratio:"16:9",fullscreen:{enabled:!0,iosNative:!0},youtube:{noCookie:!0,rel:0,showinfo:0,iv_load_policy:3},vimeo:{byline:!1,portrait:!1,title:!1,transparent:!1}}},openEffect:"zoom",closeEffect:"zoom",slideEffect:"slide",moreText:"See more",moreLength:60,cssEfects:{fade:{in:"fadeIn",out:"fadeOut"},zoom:{in:"zoomIn",out:"zoomOut"},slide:{in:"slideInRight",out:"slideOutLeft"},slideBack:{in:"slideInLeft",out:"slideOutRight"},none:{in:"none",out:"none"}},svg:{close:'<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 512 512" xml:space="preserve"><g><g><path d="M505.943,6.058c-8.077-8.077-21.172-8.077-29.249,0L6.058,476.693c-8.077,8.077-8.077,21.172,0,29.249C10.096,509.982,15.39,512,20.683,512c5.293,0,10.586-2.019,14.625-6.059L505.943,35.306C514.019,27.23,514.019,14.135,505.943,6.058z"/></g></g><g><g><path d="M505.942,476.694L35.306,6.059c-8.076-8.077-21.172-8.077-29.248,0c-8.077,8.076-8.077,21.171,0,29.248l470.636,470.636c4.038,4.039,9.332,6.058,14.625,6.058c5.293,0,10.587-2.019,14.624-6.057C514.018,497.866,514.018,484.771,505.942,476.694z"/></g></g></svg>',next:'<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 477.175 477.175" xml:space="preserve"> <g><path d="M360.731,229.075l-225.1-225.1c-5.3-5.3-13.8-5.3-19.1,0s-5.3,13.8,0,19.1l215.5,215.5l-215.5,215.5c-5.3,5.3-5.3,13.8,0,19.1c2.6,2.6,6.1,4,9.5,4c3.4,0,6.9-1.3,9.5-4l225.1-225.1C365.931,242.875,365.931,234.275,360.731,229.075z"/></g></svg>',prev:'<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 477.175 477.175" xml:space="preserve"><g><path d="M145.188,238.575l215.5-215.5c5.3-5.3,5.3-13.8,0-19.1s-13.8-5.3-19.1,0l-225.1,225.1c-5.3,5.3-5.3,13.8,0,19.1l225.1,225c2.6,2.6,6.1,4,9.5,4s6.9-1.3,9.5-4c5.3-5.3,5.3-13.8,0-19.1L145.188,238.575z"/></g></svg>'},slideHTML:'<div class="gslide">\n    <div class="gslide-inner-content">\n        <div class="ginner-container">\n            <div class="gslide-media">\n            </div>\n            <div class="gslide-description">\n                <div class="gdesc-inner">\n                    <h4 class="gslide-title"></h4>\n                    <div class="gslide-desc"></div>\n                </div>\n            </div>\n        </div>\n    </div>\n</div>',lightboxHTML:'<div id="glightbox-body" class="glightbox-container" tabindex="-1" role="dialog" aria-hidden="false">\n    <div class="gloader visible"></div>\n    <div class="goverlay"></div>\n    <div class="gcontainer">\n    <div id="glightbox-slider" class="gslider"></div>\n    <button class="gclose gbtn" aria-label="Close" data-taborder="3">{closeSVG}</button>\n    <button class="gprev gbtn" aria-label="Previous" data-taborder="2">{prevSVG}</button>\n    <button class="gnext gbtn" aria-label="Next" data-taborder="1">{nextSVG}</button>\n</div>\n</div>'},te=function(){function e(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};t(this,e),this.customOptions=n,this.settings=a(ee,n),this.effectsClasses=this.getAnimationClasses(),this.videoPlayers={},this.apiEvents=[],this.fullElementsList=!1}return i(e,[{key:"init",value:function(){var e=this,t=this.getSelector();t&&(this.baseEvents=l("click",{onElement:t,withCallback:function(t,n){t.preventDefault(),e.open(n)}})),this.elements=this.getElements()}},{key:"open",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(0===this.elements.length)return!1;this.activeSlide=null,this.prevActiveSlideIndex=null,this.prevActiveSlide=null;var n=T(t)?t:this.settings.startAt;if(C(e)){var i=e.getAttribute("data-gallery");i&&(this.fullElementsList=this.elements,this.elements=this.getGalleryElements(this.elements,i)),j(n)&&(n=this.getElementIndex(e))<0&&(n=0)}T(n)||(n=0),this.build(),h(this.overlay,"none"===this.settings.openEffect?"none":this.settings.cssEfects.fade.in);var r=document.body,a=window.innerWidth-document.documentElement.clientWidth;if(a>0){var o=document.createElement("style");o.type="text/css",o.className="gcss-styles",o.innerText=".gscrollbar-fixer {margin-right: ".concat(a,"px}"),document.head.appendChild(o),c(r,"gscrollbar-fixer")}c(r,"glightbox-open"),c(Z,"glightbox-open"),J&&(c(document.body,"glightbox-mobile"),this.settings.slideEffect="slide"),this.showSlide(n,!0),1===this.elements.length?(c(this.prevButton,"glightbox-button-hidden"),c(this.nextButton,"glightbox-button-hidden")):(u(this.prevButton,"glightbox-button-hidden"),u(this.nextButton,"glightbox-button-hidden")),this.lightboxOpen=!0,this.trigger("open"),x(this.settings.onOpen)&&this.settings.onOpen(),Q&&this.settings.touchNavigation&&U(this),this.settings.keyboardNavigation&&I(this)}},{key:"openAt",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;this.open(null,e)}},{key:"showSlide",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];g(this.loader),this.index=parseInt(t);var i=this.slidesContainer.querySelector(".current");i&&u(i,"current"),this.slideAnimateOut();var r=this.slidesContainer.querySelectorAll(".gslide")[t];if(d(r,"loaded"))this.slideAnimateIn(r,n),m(this.loader);else{g(this.loader);var a=this.elements[t],o={index:this.index,slide:r,slideNode:r,slideConfig:a.slideConfig,slideIndex:this.index,trigger:a.node,player:null};this.trigger("slide_before_load",o),a.instance.setContent(r,(function(){m(e.loader),e.resize(),e.slideAnimateIn(r,n),e.trigger("slide_after_load",o)}))}this.slideDescription=r.querySelector(".gslide-description"),this.slideDescriptionContained=this.slideDescription&&d(this.slideDescription.parentNode,"gslide-media"),this.settings.preload&&(this.preloadSlide(t+1),this.preloadSlide(t-1)),this.updateNavigationClasses(),this.activeSlide=r}},{key:"preloadSlide",value:function(e){var t=this;if(e<0||e>this.elements.length-1)return!1;if(j(this.elements[e]))return!1;var n=this.slidesContainer.querySelectorAll(".gslide")[e];if(d(n,"loaded"))return!1;var i=this.elements[e],r=i.type,a={index:e,slide:n,slideNode:n,slideConfig:i.slideConfig,slideIndex:e,trigger:i.node,player:null};this.trigger("slide_before_load",a),"video"===r||"external"===r?setTimeout((function(){i.instance.setContent(n,(function(){t.trigger("slide_after_load",a)}))}),200):i.instance.setContent(n,(function(){t.trigger("slide_after_load",a)}))}},{key:"prevSlide",value:function(){this.goToSlide(this.index-1)}},{key:"nextSlide",value:function(){this.goToSlide(this.index+1)}},{key:"goToSlide",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.prevActiveSlide=this.activeSlide,this.prevActiveSlideIndex=this.index,!this.loop()&&(e<0||e>this.elements.length-1))return!1;e<0?e=this.elements.length-1:e>=this.elements.length&&(e=0),this.showSlide(e)}},{key:"insertSlide",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1;t<0&&(t=this.elements.length);var n=new G(e,this,t),i=n.getConfig(),r=a({},i),o=n.create(),s=this.elements.length-1;r.index=t,r.node=!1,r.instance=n,r.slideConfig=i,this.elements.splice(t,0,r);var l=null,c=null;if(this.slidesContainer){if(t>s)this.slidesContainer.appendChild(o);else{var u=this.slidesContainer.querySelectorAll(".gslide")[t];this.slidesContainer.insertBefore(o,u)}(this.settings.preload&&0==this.index&&0==t||this.index-1==t||this.index+1==t)&&this.preloadSlide(t),0===this.index&&0===t&&(this.index=1),this.updateNavigationClasses(),l=this.slidesContainer.querySelectorAll(".gslide")[t],c=this.getSlidePlayerInstance(t),r.slideNode=l}this.trigger("slide_inserted",{index:t,slide:l,slideNode:l,slideConfig:i,slideIndex:t,trigger:null,player:c}),x(this.settings.slideInserted)&&this.settings.slideInserted({index:t,slide:l,player:c})}},{key:"removeSlide",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:-1;if(e<0||e>this.elements.length-1)return!1;var t=this.slidesContainer&&this.slidesContainer.querySelectorAll(".gslide")[e];t&&(this.getActiveSlideIndex()==e&&(e==this.elements.length-1?this.prevSlide():this.nextSlide()),t.parentNode.removeChild(t)),this.elements.splice(e,1),this.trigger("slide_removed",e),x(this.settings.slideRemoved)&&this.settings.slideRemoved(e)}},{key:"slideAnimateIn",value:function(e,t){var n=this,i=e.querySelector(".gslide-media"),r=e.querySelector(".gslide-description"),a={index:this.prevActiveSlideIndex,slide:this.prevActiveSlide,slideNode:this.prevActiveSlide,slideIndex:this.prevActiveSlide,slideConfig:j(this.prevActiveSlideIndex)?null:this.elements[this.prevActiveSlideIndex].slideConfig,trigger:j(this.prevActiveSlideIndex)?null:this.elements[this.prevActiveSlideIndex].node,player:this.getSlidePlayerInstance(this.prevActiveSlideIndex)},o={index:this.index,slide:this.activeSlide,slideNode:this.activeSlide,slideConfig:this.elements[this.index].slideConfig,slideIndex:this.index,trigger:this.elements[this.index].node,player:this.getSlidePlayerInstance(this.index)};if(i.offsetWidth>0&&r&&(m(r),r.style.display=""),u(e,this.effectsClasses),t)h(e,this.settings.cssEfects[this.settings.openEffect].in,(function(){n.settings.autoplayVideos&&n.slidePlayerPlay(e),n.trigger("slide_changed",{prev:a,current:o}),x(n.settings.afterSlideChange)&&n.settings.afterSlideChange.apply(n,[a,o])}));else{var s=this.settings.slideEffect,l="none"!==s?this.settings.cssEfects[s].in:s;this.prevActiveSlideIndex>this.index&&"slide"==this.settings.slideEffect&&(l=this.settings.cssEfects.slideBack.in),h(e,l,(function(){n.settings.autoplayVideos&&n.slidePlayerPlay(e),n.trigger("slide_changed",{prev:a,current:o}),x(n.settings.afterSlideChange)&&n.settings.afterSlideChange.apply(n,[a,o])}))}setTimeout((function(){n.resize(e)}),100),c(e,"current")}},{key:"slideAnimateOut",value:function(){if(!this.prevActiveSlide)return!1;var e=this.prevActiveSlide;u(e,this.effectsClasses),c(e,"prev");var t=this.settings.slideEffect,n="none"!==t?this.settings.cssEfects[t].out:t;this.slidePlayerPause(e),this.trigger("slide_before_change",{prev:{index:this.prevActiveSlideIndex,slide:this.prevActiveSlide,slideNode:this.prevActiveSlide,slideIndex:this.prevActiveSlideIndex,slideConfig:j(this.prevActiveSlideIndex)?null:this.elements[this.prevActiveSlideIndex].slideConfig,trigger:j(this.prevActiveSlideIndex)?null:this.elements[this.prevActiveSlideIndex].node,player:this.getSlidePlayerInstance(this.prevActiveSlideIndex)},current:{index:this.index,slide:this.activeSlide,slideNode:this.activeSlide,slideIndex:this.index,slideConfig:this.elements[this.index].slideConfig,trigger:this.elements[this.index].node,player:this.getSlidePlayerInstance(this.index)}}),x(this.settings.beforeSlideChange)&&this.settings.beforeSlideChange.apply(this,[{index:this.prevActiveSlideIndex,slide:this.prevActiveSlide,player:this.getSlidePlayerInstance(this.prevActiveSlideIndex)},{index:this.index,slide:this.activeSlide,player:this.getSlidePlayerInstance(this.index)}]),this.prevActiveSlideIndex>this.index&&"slide"==this.settings.slideEffect&&(n=this.settings.cssEfects.slideBack.out),h(e,n,(function(){var t=e.querySelector(".ginner-container"),n=e.querySelector(".gslide-media"),i=e.querySelector(".gslide-description");t.style.transform="",n.style.transform="",u(n,"greset"),n.style.opacity="",i&&(i.style.opacity=""),u(e,"prev")}))}},{key:"getAllPlayers",value:function(){return this.videoPlayers}},{key:"getSlidePlayerInstance",value:function(e){var t="gvideo"+e,n=this.getAllPlayers();return!(!A(n,t)||!n[t])&&n[t]}},{key:"stopSlideVideo",value:function(e){if(C(e)){var t=e.querySelector(".gvideo-wrapper");t&&(e=t.getAttribute("data-index"))}console.log("stopSlideVideo is deprecated, use slidePlayerPause");var n=this.getSlidePlayerInstance(e);n&&n.playing&&n.pause()}},{key:"slidePlayerPause",value:function(e){if(C(e)){var t=e.querySelector(".gvideo-wrapper");t&&(e=t.getAttribute("data-index"))}var n=this.getSlidePlayerInstance(e);n&&n.playing&&n.pause()}},{key:"playSlideVideo",value:function(e){if(C(e)){var t=e.querySelector(".gvideo-wrapper");t&&(e=t.getAttribute("data-index"))}console.log("playSlideVideo is deprecated, use slidePlayerPlay");var n=this.getSlidePlayerInstance(e);n&&!n.playing&&n.play()}},{key:"slidePlayerPlay",value:function(e){var t;if(!J||null!==(t=this.settings.plyr.config)&&void 0!==t&&t.muted){if(C(e)){var n=e.querySelector(".gvideo-wrapper");n&&(e=n.getAttribute("data-index"))}var i=this.getSlidePlayerInstance(e);i&&!i.playing&&(i.play(),this.settings.autofocusVideos&&i.elements.container.focus())}}},{key:"setElements",value:function(e){var t=this;this.settings.elements=!1;var n=[];e&&e.length&&o(e,(function(e,i){var r=new G(e,t,i),o=r.getConfig(),s=a({},o);s.slideConfig=o,s.instance=r,s.index=i,n.push(s)})),this.elements=n,this.lightboxOpen&&(this.slidesContainer.innerHTML="",this.elements.length&&(o(this.elements,(function(){var e=v(t.settings.slideHTML);t.slidesContainer.appendChild(e)})),this.showSlide(0,!0)))}},{key:"getElementIndex",value:function(e){var t=!1;return o(this.elements,(function(n,i){if(A(n,"node")&&n.node==e)return t=i,!0})),t}},{key:"getElements",value:function(){var e=this,t=[];this.elements=this.elements?this.elements:[],!j(this.settings.elements)&&O(this.settings.elements)&&this.settings.elements.length&&o(this.settings.elements,(function(n,i){var r=new G(n,e,i),o=r.getConfig(),s=a({},o);s.node=!1,s.index=i,s.instance=r,s.slideConfig=o,t.push(s)}));var n=!1;return this.getSelector()&&(n=document.querySelectorAll(this.getSelector())),n?(o(n,(function(n,i){var r=new G(n,e,i),o=r.getConfig(),s=a({},o);s.node=n,s.index=i,s.instance=r,s.slideConfig=o,s.gallery=n.getAttribute("data-gallery"),t.push(s)})),t):t}},{key:"getGalleryElements",value:function(e,t){return e.filter((function(e){return e.gallery==t}))}},{key:"getSelector",value:function(){return!this.settings.elements&&(this.settings.selector&&"data-"==this.settings.selector.substring(0,5)?"*[".concat(this.settings.selector,"]"):this.settings.selector)}},{key:"getActiveSlide",value:function(){return this.slidesContainer.querySelectorAll(".gslide")[this.index]}},{key:"getActiveSlideIndex",value:function(){return this.index}},{key:"getAnimationClasses",value:function(){var e=[];for(var t in this.settings.cssEfects)if(this.settings.cssEfects.hasOwnProperty(t)){var n=this.settings.cssEfects[t];e.push("g".concat(n.in)),e.push("g".concat(n.out))}return e.join(" ")}},{key:"build",value:function(){var e=this;if(this.built)return!1;var t=document.body.childNodes,n=[];o(t,(function(e){e.parentNode==document.body&&"#"!==e.nodeName.charAt(0)&&e.hasAttribute&&!e.hasAttribute("aria-hidden")&&(n.push(e),e.setAttribute("aria-hidden","true"))}));var i=A(this.settings.svg,"next")?this.settings.svg.next:"",r=A(this.settings.svg,"prev")?this.settings.svg.prev:"",a=A(this.settings.svg,"close")?this.settings.svg.close:"",s=this.settings.lightboxHTML;s=v(s=(s=(s=s.replace(/{nextSVG}/g,i)).replace(/{prevSVG}/g,r)).replace(/{closeSVG}/g,a)),document.body.appendChild(s);var u=document.getElementById("glightbox-body");this.modal=u;var h=u.querySelector(".gclose");this.prevButton=u.querySelector(".gprev"),this.nextButton=u.querySelector(".gnext"),this.overlay=u.querySelector(".goverlay"),this.loader=u.querySelector(".gloader"),this.slidesContainer=document.getElementById("glightbox-slider"),this.bodyHiddenChildElms=n,this.events={},c(this.modal,"glightbox-"+this.settings.skin),this.settings.closeButton&&h&&(this.events.close=l("click",{onElement:h,withCallback:function(t,n){t.preventDefault(),e.close()}})),h&&!this.settings.closeButton&&h.parentNode.removeChild(h),this.nextButton&&(this.events.next=l("click",{onElement:this.nextButton,withCallback:function(t,n){t.preventDefault(),e.nextSlide()}})),this.prevButton&&(this.events.prev=l("click",{onElement:this.prevButton,withCallback:function(t,n){t.preventDefault(),e.prevSlide()}})),this.settings.closeOnOutsideClick&&(this.events.outClose=l("click",{onElement:u,withCallback:function(t,n){e.preventOutsideClick||d(document.body,"glightbox-mobile")||p(t.target,".ginner-container")||p(t.target,".gbtn")||d(t.target,"gnext")||d(t.target,"gprev")||e.close()}})),o(this.elements,(function(t,n){e.slidesContainer.appendChild(t.instance.create()),t.slideNode=e.slidesContainer.querySelectorAll(".gslide")[n]})),Q&&c(document.body,"glightbox-touch"),this.events.resize=l("resize",{onElement:window,withCallback:function(){e.resize()}}),this.built=!0}},{key:"resize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;if((e=e||this.activeSlide)&&!d(e,"zoomed")){var t=y(),n=e.querySelector(".gvideo-wrapper"),i=e.querySelector(".gslide-image"),r=this.slideDescription,a=t.width,o=t.height;if(a<=768?c(document.body,"glightbox-mobile"):u(document.body,"glightbox-mobile"),n||i){var s=!1;if(r&&(d(r,"description-bottom")||d(r,"description-top"))&&!d(r,"gabsolute")&&(s=!0),i)if(a<=768)i.querySelector("img");else if(s){var l=r.offsetHeight,p=i.querySelector("img");p.setAttribute("style","max-height: calc(100vh - ".concat(l,"px)")),r.setAttribute("style","max-width: ".concat(p.offsetWidth,"px;"))}if(n){var h=A(this.settings.plyr.config,"ratio")?this.settings.plyr.config.ratio:"";if(!h){var f=n.clientWidth,g=n.clientHeight,m=f/g;h="".concat(f/m,":").concat(g/m)}var v=h.split(":"),_=this.settings.videosWidth,b=this.settings.videosWidth,w=(b=T(_)||-1!==_.indexOf("px")?parseInt(_):-1!==_.indexOf("vw")?a*parseInt(_)/100:-1!==_.indexOf("vh")?o*parseInt(_)/100:-1!==_.indexOf("%")?a*parseInt(_)/100:parseInt(n.clientWidth))/(parseInt(v[0])/parseInt(v[1]));if(w=Math.floor(w),s&&(o-=r.offsetHeight),b>a||w>o||o<w&&a>b){var k=n.offsetWidth,x=n.offsetHeight,S=o/x,C={width:k*S,height:x*S};n.parentNode.setAttribute("style","max-width: ".concat(C.width,"px")),s&&r.setAttribute("style","max-width: ".concat(C.width,"px;"))}else n.parentNode.style.maxWidth="".concat(_),s&&r.setAttribute("style","max-width: ".concat(_,";"))}}}}},{key:"reload",value:function(){this.init()}},{key:"updateNavigationClasses",value:function(){var e=this.loop();u(this.nextButton,"disabled"),u(this.prevButton,"disabled"),0==this.index&&this.elements.length-1==0?(c(this.prevButton,"disabled"),c(this.nextButton,"disabled")):0!==this.index||e?this.index!==this.elements.length-1||e||c(this.nextButton,"disabled"):c(this.prevButton,"disabled")}},{key:"loop",value:function(){var e=A(this.settings,"loopAtEnd")?this.settings.loopAtEnd:null;return e=A(this.settings,"loop")?this.settings.loop:e}},{key:"close",value:function(){var e=this;if(!this.lightboxOpen){if(this.events){for(var t in this.events)this.events.hasOwnProperty(t)&&this.events[t].destroy();this.events=null}return!1}if(this.closing)return!1;this.closing=!0,this.slidePlayerPause(this.activeSlide),this.fullElementsList&&(this.elements=this.fullElementsList),this.bodyHiddenChildElms.length&&o(this.bodyHiddenChildElms,(function(e){e.removeAttribute("aria-hidden")})),c(this.modal,"glightbox-closing"),h(this.overlay,"none"==this.settings.openEffect?"none":this.settings.cssEfects.fade.out),h(this.activeSlide,this.settings.cssEfects[this.settings.closeEffect].out,(function(){if(e.activeSlide=null,e.prevActiveSlideIndex=null,e.prevActiveSlide=null,e.built=!1,e.events){for(var t in e.events)e.events.hasOwnProperty(t)&&e.events[t].destroy();e.events=null}var n=document.body;u(Z,"glightbox-open"),u(n,"glightbox-open touching gdesc-open glightbox-touch glightbox-mobile gscrollbar-fixer"),e.modal.parentNode.removeChild(e.modal),e.trigger("close"),x(e.settings.onClose)&&e.settings.onClose();var i=document.querySelector(".gcss-styles");i&&i.parentNode.removeChild(i),e.lightboxOpen=!1,e.closing=null}))}},{key:"destroy",value:function(){this.close(),this.clearAllEvents(),this.baseEvents&&this.baseEvents.destroy()}},{key:"on",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(!e||!x(t))throw new TypeError("Event name and callback must be defined");this.apiEvents.push({evt:e,once:n,callback:t})}},{key:"once",value:function(e,t){this.on(e,t,!0)}},{key:"trigger",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,i=[];o(this.apiEvents,(function(t,r){var a=t.evt,o=t.once,s=t.callback;a==e&&(s(n),o&&i.push(r))})),i.length&&o(i,(function(e){return t.apiEvents.splice(e,1)}))}},{key:"clearAllEvents",value:function(){this.apiEvents.splice(0,this.apiEvents.length)}},{key:"version",value:function(){return"3.1.0"}}]),e}();return function(){var e=new te(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{});return e.init(),e}}();var fo={};
/*! mobile-drag-drop 3.0.0-rc.0 | Copyright (c) 2022 Tim Ruffles | MIT License */!function(e){var t="dnd-poly-",n=["none","copy","copyLink","copyMove","link","linkMove","move","all"],i=["none","copy","move","link"];function r(){var e=!1;try{var t=Object.defineProperty({},"passive",{get:function(){e=!0}});window.addEventListener("test",null,t)}catch(e){}return e}var a=r();function o(e){return e&&e.tagName}function s(e,t,n){void 0===n&&(n=!0),document.addEventListener(e,t,!!a&&{passive:n})}function l(e,t){document.removeEventListener(e,t)}function c(e,t,n,i){void 0===i&&(i=!1);var r=a?{passive:!0,capture:i}:i;return e.addEventListener(t,n,r),{off:function(){e.removeEventListener(t,n,r)}}}function u(e){return 0===e.length?0:e.reduce((function(e,t){return t+e}),0)/e.length}function d(e,t){for(var n=0;n<e.changedTouches.length;n++)if(e.changedTouches[n].identifier===t)return!0;return!1}function p(e,t,n){for(var i=[],r=[],a=0;a<t.touches.length;a++){var o=t.touches[a];i.push(o[e+"X"]),r.push(o[e+"Y"])}n.x=u(i),n.y=u(r)}var h=["","-webkit-"];function f(e,t,n,i,r){var a=t.x;t=t.y,i&&(a+=i.x,t+=i.y),(r=void 0===r||r)&&(a-=parseInt(e.offsetWidth,10)/2,t-=parseInt(e.offsetHeight,10)/2);for(var o="translate3d("+a+"px,"+t+"px, 0)",s=0;s<h.length;s++){var l=h[s]+"transform";e.style[l]=o+" "+n[s]}}var g=(Object.defineProperty(m.prototype,"dropEffect",{get:function(){return this.t},set:function(e){0!==this.i.mode&&-1<n.indexOf(e)&&(this.t=e)},enumerable:!1,configurable:!0}),Object.defineProperty(m.prototype,"types",{get:function(){if(0!==this.i.mode)return Object.freeze(this.i.types)},enumerable:!1,configurable:!0}),Object.defineProperty(m.prototype,"effectAllowed",{get:function(){return this.i.effectAllowed},set:function(e){2===this.i.mode&&-1<n.indexOf(e)&&(this.i.effectAllowed=e)},enumerable:!1,configurable:!0}),m.prototype.setData=function(e,t){if(2===this.i.mode){if(-1<e.indexOf(" "))throw new Error("illegal arg: type contains space");this.i.data[e]=t,-1===this.i.types.indexOf(e)&&this.i.types.push(e)}},m.prototype.getData=function(e){if(1===this.i.mode||2===this.i.mode)return this.i.data[e]||""},m.prototype.clearData=function(e){2===this.i.mode&&(e&&this.i.data[e]?(delete this.i.data[e],-1<(e=this.i.types.indexOf(e))&&this.i.types.splice(e,1)):(this.i.data={},this.i.types=[]))},m.prototype.setDragImage=function(e,t,n){2===this.i.mode&&this.h(e,t,n)},m);function m(e,t){this.i=e,this.h=t,this.t=i[0]}function v(e,t){return e?e===n[0]?i[0]:0===e.indexOf(n[1])||e===n[7]?i[1]:0===e.indexOf(n[4])?i[3]:e===n[6]?i[2]:i[1]:3===t.nodeType&&"A"===t.tagName?i[3]:i[1]}function y(e,t,n,i,r,a,o){return void 0===o&&(o=null),r=function(t,i,r,a,s,l,c){void 0===o&&(c=null);var u=n.changedTouches[0];return(a=new Event(e,{bubbles:!0,cancelable:a})).dataTransfer=l,a.relatedTarget=c,a.screenX=u.screenX,a.screenY=u.screenY,a.clientX=u.clientX,a.clientY=u.clientY,a.pageX=u.pageX,a.pageY=u.pageY,t=t.getBoundingClientRect(),a.offsetX=a.clientX-t.left,a.offsetY=a.clientY-t.top,a}(t,0,0,a=void 0===a||a,document.defaultView,r,o),r=!t.dispatchEvent(r),i.mode=0,r}function _(e,t){if(!e||e===n[7])return t;if(t===i[1]){if(0===e.indexOf(i[1]))return i[1]}else if(t===i[3]){if(0===e.indexOf(i[3])||-1<e.indexOf("Link"))return i[3]}else if(t===i[2]&&(0===e.indexOf(i[2])||-1<e.indexOf("Move")))return i[2];return i[0]}var b=(w.prototype.o=function(){var e=this;this.u=1,this.l=i[0],this.v={data:{},effectAllowed:void 0,mode:3,types:[]},this.p={x:null,y:null},this.g={x:null,y:null};var t=this.m;if(this.I=new g(this.v,(function(n,i,r){t=n,"number"!=typeof i&&"number"!=typeof r||(e.j={x:i||0,y:r||0})})),this.v.mode=2,this.I.dropEffect=i[0],y("dragstart",this.m,this.k,this.v,this.I))return this.u=3,this.C(),!1;p("page",this.k,this.g);var n,r,a=this.S.dragImageSetup(t);return this.A=(n=a,h.map((function(e){return(e=n.style[e+"transform"])&&"none"!==e?e.replace(/translate\(\D*\d+[^,]*,\D*\d+[^,]*\)\s*/g,""):""}))),a.style.position="absolute",a.style.left="0px",a.style.top="0px",a.style.zIndex="999999",a.classList.add("dnd-poly-drag-image"),a.classList.add("dnd-poly-icon"),this.O=a,this.j||(this.S.dragImageOffset?this.j={x:this.S.dragImageOffset.x,y:this.S.dragImageOffset.y}:this.S.dragImageCenterOnTouch?(r=getComputedStyle(t),this.j={x:0-parseInt(r.marginLeft,10),y:0-parseInt(r.marginTop,10)}):(a=t.getBoundingClientRect(),r=getComputedStyle(t),this.j={x:a.left-this.M.clientX-parseInt(r.marginLeft,10)+a.width/2,y:a.top-this.M.clientY-parseInt(r.marginTop,10)+a.height/2})),f(this.O,this.g,this.A,this.j,this.S.dragImageCenterOnTouch),document.body.appendChild(this.O),this.D=window.setInterval((function(){e.F||(e.F=!0,e.N(),e.F=!1)}),this.S.iterationInterval),!0},w.prototype.C=function(){this.D&&(clearInterval(this.D),this.D=null),l("touchmove",this.P),l("touchend",this.T),l("touchcancel",this.T),this.O&&(this.O.parentNode.removeChild(this.O),this.O=null),this.L(this.S,this.k,this.u)},w.prototype._=function(e){var t=this;if(!1!==d(e,this.M.identifier)){if(this.k=e,0===this.u){var n=void 0;if(this.S.dragStartConditionOverride)try{n=this.S.dragStartConditionOverride(e)}catch(e){n=!1}else n=1===e.touches.length;return n?void(!0===this.o()&&(this.H.preventDefault(),e.preventDefault())):void this.C()}if(e.preventDefault(),p("client",e,this.p),p("page",e,this.g),this.S.dragImageTranslateOverride)try{var i=!1;if(this.S.dragImageTranslateOverride(e,{x:this.p.x,y:this.p.y},this.V,(function(e,n){t.O&&(i=!0,t.p.x+=e,t.p.y+=n,t.g.x+=e,t.g.y+=n,f(t.O,t.g,t.A,t.j,t.S.dragImageCenterOnTouch))})),i)return}catch(e){}f(this.O,this.g,this.A,this.j,this.S.dragImageCenterOnTouch)}},w.prototype.X=function(e){if(!1!==d(e,this.M.identifier)){if(this.S.dragImageTranslateOverride)try{this.S.dragImageTranslateOverride(void 0,void 0,void 0,(function(){}))}catch(e){}0!==this.u?(e.preventDefault(),this.u="touchcancel"===e.type?3:2):this.C()}},w.prototype.N=function(){var e=this,n=this.l;this.v.mode=3,this.I.dropEffect=i[0];var r,a,s,l,c,u=y("drag",this.m,this.k,this.v,this.I);if(u&&(this.l=i[0]),u||2===this.u||3===this.u)return this.Y(this.u)?(l=this.m,r=this.O,a=this.A,p=function(){e.q()},void("hidden"!==(c=getComputedStyle(l)).visibility&&"none"!==c.display?(r.classList.add("dnd-poly-snapback"),s=getComputedStyle(r),u=parseFloat(s.transitionDuration),isNaN(u)||0===u?p():((l={x:(d=l.getBoundingClientRect()).left,y:d.top}).x+=document.body.scrollLeft||document.documentElement.scrollLeft,l.y+=document.body.scrollTop||document.documentElement.scrollTop,l.x-=parseInt(c.marginLeft,10),l.y-=parseInt(c.marginTop,10),d=parseFloat(s.transitionDelay),d=Math.round(1e3*(u+d)),f(r,l,a,void 0,!1),setTimeout(p,d))):p())):void this.q();var d=this.S.elementFromPoint(this.p.x,this.p.y),p=this.B;d!==this.V&&d!==this.B&&(this.V=d,null!==this.B&&(this.v.mode=3,this.I.dropEffect=i[0],y("dragexit",this.B,this.k,this.v,this.I,!1)),null===this.V?this.B=this.V:(this.v.mode=3,this.I.dropEffect=v(this.v.effectAllowed,this.m),y("dragenter",this.V,this.k,this.v,this.I)?(this.B=this.V,this.l=_(this.I.effectAllowed,this.I.dropEffect)):this.V!==document.body&&(this.B=document.body))),p!==this.B&&o(p)&&(this.v.mode=3,this.I.dropEffect=i[0],y("dragleave",p,this.k,this.v,this.I,!1,this.B)),o(this.B)&&(this.v.mode=3,this.I.dropEffect=v(this.v.effectAllowed,this.m),!1===y("dragover",this.B,this.k,this.v,this.I)?this.l=i[0]:this.l=_(this.I.effectAllowed,this.I.dropEffect)),n!==this.l&&this.O.classList.remove(t+n),n=t+this.l,this.O.classList.add(n)},w.prototype.Y=function(e){return(e=this.l===i[0]||null===this.B||3===e)?o(this.B)&&(this.v.mode=3,this.I.dropEffect=i[0],y("dragleave",this.B,this.k,this.v,this.I,!1)):o(this.B)&&(this.v.mode=1,this.I.dropEffect=this.l,!0===y("drop",this.B,this.k,this.v,this.I)?this.l=this.I.dropEffect:this.l=i[0]),e},w.prototype.q=function(){this.v.mode=3,this.I.dropEffect=this.l,y("dragend",this.m,this.k,this.v,this.I,!1),this.u=2,this.C()},w);function w(e,t,n,i){this.H=e,this.S=t,this.m=n,this.L=i,this.u=0,this.V=null,this.B=null,this.k=e,this.M=e.changedTouches[0],this.P=this._.bind(this),this.T=this.X.bind(this),s("touchmove",this.P,!1),s("touchend",this.T,!1),s("touchcancel",this.T,!1)}var k,x={iterationInterval:150,tryFindDraggableTarget:function(e){for(var t=0,n=e.composedPath();t<n.length;t++){var i=n[t];do{if(!1!==i.draggable){if(!0===i.draggable)return i;if(i.getAttribute&&"true"===i.getAttribute("draggable"))return i}}while((i=i.parentNode)&&i!==document.body)}},dragImageSetup:function(e){var t=e.cloneNode(!0);return function e(t,n){if(1===t.nodeType){for(var i,r,a=getComputedStyle(t),o=0;o<a.length;o++){var s=a[o];n.style.setProperty(s,a.getPropertyValue(s),a.getPropertyPriority(s))}n.style.pointerEvents="none",n.removeAttribute("id"),n.removeAttribute("class"),n.removeAttribute("draggable"),"CANVAS"===n.nodeName&&(i=n,r=(r=t).getContext("2d").getImageData(0,0,r.width,r.height),i.getContext("2d").putImageData(r,0,0))}if(t.hasChildNodes())for(o=0;o<t.childNodes.length;o++)e(t.childNodes[o],n.childNodes[o]);!function e(t){if(t instanceof HTMLElement&&(t.style.pointerEvents="none"),t.children&&t.children.length)for(var n=0;n<t.children.length;n++)e(t.children[n]);if(t.shadowRoot&&t.shadowRoot.children.length)for(n=0;n<t.shadowRoot.children.length;n++)e(t.shadowRoot.children[n])}(n)}(e,t),t},elementFromPoint:function(e,t){var n=document.elementFromPoint(e,t);if(n){for(;n.shadowRoot;){var i=n.shadowRoot.elementFromPoint(e,t);if(null===i||i===n)break;n=i}return n}}};function S(e){if(!k){var t=x.tryFindDraggableTarget(e);if(t)try{k=new b(e,x,t,O)}catch(t){throw O(x,e,3),t}}}function C(e){function t(e){r.off(),a.off(),o.off(),s.off(),n&&n.dispatchEvent(new CustomEvent("dnd-poly-dragstart-cancel",{bubbles:!0,cancelable:!0})),clearTimeout(i)}var n=e.target;n&&n.dispatchEvent(new CustomEvent("dnd-poly-dragstart-pending",{bubbles:!0,cancelable:!0}));var i=window.setTimeout((function(){r.off(),a.off(),o.off(),s.off(),S(e)}),x.holdToDrag),r=c(n,"touchend",t),a=c(n,"touchcancel",t),o=c(n,"touchmove",t),s=c(window,"scroll",t,!0)}function O(e,t,n){if(0===n&&e.defaultActionOverride)try{e.defaultActionOverride(t),t.defaultPrevented}catch(e){}k=null}e.polyfill=function(e){return e&&Object.keys(e).forEach((function(t){x[t]=e[t]})),!(!x.forceApply&&(t=!!window.chrome||/chrome/i.test(navigator.userAgent),(t={dragEvents:"ondragstart"in document.documentElement,draggable:"draggable"in document.documentElement,userAgentSupportingNativeDnD:!(/iPad|iPhone|iPod|Android/.test(navigator.userAgent)||t&&"ontouchstart"in document.documentElement)}).userAgentSupportingNativeDnD&&t.draggable&&t.dragEvents)||(x.holdToDrag?s("touchstart",C,!1):s("touchstart",S,!1),0));var t},e.supportsPassiveEventListener=r,Object.defineProperty(e,"G",{value:!0})}(fo);const go=function(e){const[n,i]=Ht(null);if(qt((()=>{i(t(ho)({autoplayVideos:!1,draggable:!0,loop:!1,touchNavigation:!0,zoomable:!0,elements:[]}))}),[]),!e.url||!e.data)return null;let r=(()=>{if(e?.data?.exception&&console.warn(e.data),e.data.providerName){if("peertube"==e.data.providerName.toLowerCase()&&e.data.code)return _("div",{class:"embed-container",dangerouslySetInnerHTML:{__html:e.data.code}});if("soundcloud"==e.data.providerName.toLowerCase()&&e.data.code)return _(po,{preview:qi.crop(e.preview.id,1024,270),url:`${e.data.code.match(/https:\/\/[^"\s]+/)[0]}&auto_play=true`,playBtnClass:"soundcloud"});if("instagram"==e.data.providerName.toLowerCase())return _(uo,{url:e.data.url,preview:qi.crop(e.preview.id,1024,1024),title:e.data.title,description:e.data.description});if("https://bandcamp.com"==e.data.providerUrl&&e.data.code){let t=e.data.code.match(/https:\/\/.*album=\d+/);if(t||(t=e.data.code.match(/https:\/\/.*track=\d+/)),t)return _(co,{preview:qi.crop(e.preview.id,1024,270),url:t[0]})}if("lichess.org"==e.data.providerName.toLowerCase()){let t=e?.data?.url&&"string"==typeof e?.data.url?e.data?.url:e.url;if(qi.isValidUrl(t)&&!t.match(/embed/)&&!t.match(/study/)&&!t.match(/blog/)){let n;t=new URL(t.replace("lichess.org/","lichess.org/embed/"));try{n=t.pathname.split("/").slice(-1)[0]}catch(e){n=""}if(t=new URL(t.href.replace(n,n.slice(0,8))),n)return _(po,{preview:qi.crop(e.preview.id,270,270),url:t,playBtnClass:"lichess"})}}if("youtube"==e.data.providerName.toLowerCase()){let t=e.url;if(e?.preview?.id&&t){let n,i;t=new URL(t),"www.youtube.com"!=t.host&&"m.youtube.com"!=t.host&&"youtube.com"!=t.host&&"music.youtube.com"!=t.host||(t.pathname.match(/shorts/)||t.pathname.match(/embed/)?(n=[`v=${t.pathname.split("/").slice(-1)[0]}`],i=[]):(n=t.search.substring(1).split("&").filter((e=>e.match(/^v=/))),i=t.search.substring(1).split("&").filter((e=>e.match(/^list=/))))),"youtu.be"==t.host&&(n=[`v=${t.pathname.slice(1)}`],i=[]);let r=Hi.getParam("t",t.search.substring(1));if(i.length&&n.length)return _(po,{preview:qi.crop(e.preview.id,1024,270),url:`https://youtube.com/embed/${n[0].split("=")[1]}?autoplay=1&controls=2&wmode=opaque&list=${i[0].split("=")[1]}${r?`&start=${r}`:""}`,playBtnClass:"youtube"});if(i.length)return _(po,{preview:qi.crop(e.preview.id,1024,270),url:`https://youtube.com/embed/videoseries?list=${i[0].split("=")[1]}&autoplay=1&controls=2&wmode=opaque${r?`&start=${r}`:""}`,playBtnClass:"youtube"});if(n.length)return _(po,{preview:qi.crop(e.preview.id,1024,270),url:`https://youtube.com/embed/${n[0].split("=")[1]}?autoplay=1&controls=2&wmode=opaque${r?`&start=${r}`:""}`,playBtnClass:"youtube"})}}if("invidious"==e.data.providerName.toLowerCase()){let t=e?.data?.url&&"string"==typeof e?.data.url?e.data?.url:e.url;if(e?.preview?.id&&t)return _(po,{preview:qi.crop(e.preview.id,1024,270),url:`${t.replace("watch?v=","embed/")}`,playBtnClass:"youtube"})}}return"image/gif"==e.data["content-type"]?_("div",{class:"container d-flex justify-content-center flex-wrap align-items-center"},_("img",{href:qi.toApp(e.url),class:"img-fluid","data-origin":e.url,"data-src":e.url,src:e.url})):/image/.test(e.data["content-type"])?_("div",{class:"container d-flex justify-content-center flex-wrap align-items-center"},_("a",{href:qi.toApp(e.url),class:"glightbox","data-type":"image","data-srcset":`${qi.thumbnail(e.preview.id,720)} 720w, ${qi.thumbnail(e.preview.id,1366)} 1366w, ${qi.thumbnail(e.preview.id,2048)} 2048w`,"data-sizes":"(max-width: 992px) 720px, (max-width: 1400px) 1366px, 2048px",onClick:e=>(e=>{if(e.preventDefault(),e.stopPropagation(),null!=n&&Array.from(document.getElementsByClassName("glightbox")).length>0){const t=Array.from(document.getElementsByClassName("glightbox")).map((e=>{const t={href:e.href};return e?.dataset?.width&&(t.width=e?.dataset?.width),e?.dataset?.height&&(t.height=e?.dataset?.height),e?.dataset?.type&&(t.type=e?.dataset?.type),e?.dataset?.srcset&&(t.srcset=e?.dataset?.srcset),e?.dataset?.sizes&&(t.sizes=e?.dataset?.sizes),t}));n.setElements(t),n.open(null,t.findIndex((t=>t.href===e.target.closest(".glightbox").href)))}})(e)},_("img",{href:qi.toApp(e.url),class:"img-fluid cursor-pointer","data-origin":e.url,"data-src":qi.thumbnail(e.preview.id,1366),src:qi.thumbnail(e.preview.id,2048)}))):/video/.test(e.data["content-type"])||"application/ogg"==e.data["content-type"]?_("div",{class:"container d-flex justify-content-center flex-wrap align-items-center"},_("video",{class:"img-fluid",controls:!0,src:e.url})):/audio/.test(e.data["content-type"])?_("div",{class:"container d-flex justify-content-center flex-wrap align-items-center"},_("audio",{class:"w-100",controls:!0},_("source",{src:e.url}))):e.data.title&&(e.preview||e.data.description)?_("a",{class:"preview-card seamless-link d-inline-block",target:"_blank",rel:"noreferrer",href:qi.toApp(e.url)},_("div",{class:"card",style:"max-width: 480px"},e.preview&&_("img",{class:"card-img-top",src:qi.crop(e.preview.id,320,180)}),_("div",{class:"card-body p-1"},_("h5",null,e.data.title),e.data.description&&_("p",null,_("small",null,e.data.description.slice(0,500)))))):null})();return r?_("p",{class:"text-center card-text"},r):null},mo=function(e){const t=t=>{t.stopPropagation(),t.preventDefault(),"function"==typeof e.toggleFile&&e.toggleFile(t.target.closest(".file-embed").id)};return e.files&&0!==e.files.length?e.files&&e.files.length>3?_("div",{class:"file-grid"},e.files.map((n=>_(yo,{key:n.id,invertFiles:e.invertFiles,toggleFile:t,file:n,inWriter:e.inWriter})))):_("div",{class:"d-flex justify-content-center flex-wrap"},e.files.map((n=>_(vo,{key:n.id,toggleFile:t,invertFiles:e.invertFiles,file:n,inWriter:e.inWriter})))):null},vo=function(e){const[n,i]=Ht(null),{t:r}=lr(),a=e.file.contentUrl?`/files/${e.file.contentUrl}`:null;let o=a;qt((()=>{i(t(ho)({autoplayVideos:!1,draggable:!0,loop:!1,touchNavigation:!0,zoomable:!0,elements:[]}))}),[]);const s=t=>{if(!e.inWriter&&(t.preventDefault(),t.stopPropagation(),null!=n&&Array.from(document.getElementsByClassName("glightbox")).length>0)){const e=Array.from(document.getElementsByClassName("glightbox")).map((e=>{const t={href:e.href};return e?.dataset?.width&&(t.width=e?.dataset?.width),e?.dataset?.height&&(t.height=e?.dataset?.height),e?.dataset?.type&&(t.type=e?.dataset?.type),e?.dataset?.srcset&&(t.srcset=e?.dataset?.srcset),e?.dataset?.sizes&&(t.sizes=e?.dataset?.sizes),t}));n.setElements(e),n.open(null,e.findIndex((e=>e.href===t.target.closest(".glightbox").href)))}};if(e.file.contentUrl){if(/video/.test(e.file.type))return"ready"==e.file.status?_("video",{draggable:"false",poster:qi.thumbnail(e.file.id,1280,720),class:"file-embed img-fluid contained-height video",controls:"true",src:o,id:e.file.id}):_("a",{class:"file-embed image video-uploaded",id:e.file.id},_("img",{class:"img-fluid video-raw",src:qi.crop(e.file.id,320,180)}),_("div",{class:"video-not-ready"},r("video_not_ready")));if(/pdf/.test(e.file.type))return _("a",{"data-origin":qi.toApp(a),draggable:"false",href:e.inWriter?void 0:qi.toApp(o),className:"glightbox file-embed pdf-outline image"+(e.file.removed?" removed":""),id:e.file.id,"data-width":"calc(90vw - 10px)","data-height":"100vh",onClick:e=>s(e)},_("img",{class:"img-fluid",src:qi.thumbnail(e.file.id,420,994)}),_("div",{class:"remove-button",style:e.file.removed?"color:red":"",onClick:t=>e.toggleFile(t)},_(Ja,{family:"solid",icon:"times"})));if(/image/.test(e.file.type))return"image/gif"==e.file.type?_("a",{"data-origin":qi.toApp(a),draggable:"false",href:e.inWriter?void 0:qi.toApp(a),className:"glightbox file-embed image"+(e.file.removed?" removed":""),id:e.file.id,"data-type":"image",onClick:e=>s(e)},_("img",{class:"img-fluid",src:qi.toApp(a)}),_("div",{class:"remove-button",style:e.file.removed?"color:red":"",onClick:t=>e.toggleFile(t)},_(Ja,{family:"solid",icon:"times"}))):_("a",{"data-origin":qi.toApp(a),draggable:"false","data-type":"image","data-srcset":`${qi.thumbnail(e.file.id,720)} 720w, ${qi.thumbnail(e.file.id,1366)} 1366w, ${qi.thumbnail(e.file.id,2048)} 2048w`,"data-sizes":"(max-width: 992px) 720px, (max-width: 1400px) 1366px, 2048px",href:e.inWriter?void 0:qi.toApp(a),className:"glightbox file-embed image"+(e.file.removed?" removed":""),id:e.file.id,onClick:e=>s(e)},_("img",{class:"img-fluid",src:qi.thumbnail(e.file.id,720)}),_("div",{class:"remove-button",style:e.file.removed?"color:red":"",onClick:t=>e.toggleFile(t)},_(Ja,{family:"solid",icon:"times"})))}return"loading"==e.file.status?_("div",{class:"file-embed file-placeholder",id:e.file.id}):_("div",{class:"file-embed file-placeholder",id:e.file.id},e.file.error?_("div",{class:"orange-error"},"×"):_("div",{class:"spinner orange-spinner"},_("div",null),_("div",null),_("div",null),_("div",null),_("div",null)),_("div",{class:"progress-bar"},_("div",{style:{width:`${e.file.progress}%`}})))},yo=function(e){const[n,i]=Ht(null),r=e.file.contentUrl?`/files/${e.file.contentUrl}`:null;let a=r;const o=Yt(null);(0,fo.polyfill)({tryFindDraggableTarget:t=>{if(!e.inWriter)return;const n=t.composedPath();for(const e of n){let t=e;do{if(!1!==t.draggable){if(!0===t.draggable)return t;if(t.getAttribute&&"true"===t.getAttribute("draggable"))return t}}while((t=t.parentNode)&&t!==document.body)}}}),qt((()=>{i(t(ho)({autoplayVideos:!1,draggable:!0,loop:!1,touchNavigation:!0,zoomable:!0,elements:[]}))}),[]);const s=t=>{if(!e.inWriter&&(t.preventDefault(),t.stopPropagation(),null!=n&&Array.from(document.getElementsByClassName("glightbox")).length>0)){const e=Array.from(document.getElementsByClassName("glightbox")).map((e=>{const t={href:e.href};return e?.dataset?.width&&(t.width=e?.dataset?.width),e?.dataset?.height&&(t.height=e?.dataset?.height),e?.dataset?.type&&(t.type=e?.dataset?.type),e?.dataset?.srcset&&(t.srcset=e?.dataset?.srcset),e?.dataset?.sizes&&(t.sizes=e?.dataset?.sizes),t}));n.setElements(e),n.open(null,e.findIndex((e=>e.href===t.target.closest(".glightbox").href)))}},l=t=>{t.target.style.opacity="0.4",t.dataTransfer.effectAllowed="move",t.dataTransfer.setData("id",e.file.id),document.querySelectorAll(".remove-button").forEach((e=>e.style.display="none"))},c=e=>{e.target.style.opacity="1",document.querySelectorAll(".remove-button").forEach((e=>e.style.display="block")),document.querySelectorAll(".drag-over").forEach((e=>e.classList.remove("drag-over")))},u=e=>(e.preventDefault(),o.current.classList.add("drag-over"),!1),d=e=>(e.preventDefault(),o.current.classList.remove("drag-over"),!1),p=e=>(e.preventDefault(),!1),h=t=>(t.preventDefault(),e.invertFiles(t.dataTransfer.getData("id"),e.file.id),!1);switch(qt((()=>{if(e.inWriter&&"ready"==e.file.status)return o.current.addEventListener("dragstart",l),o.current.addEventListener("dragend",c),o.current.addEventListener("dragover",p),o.current.addEventListener("dragenter",u),o.current.addEventListener("dragleave",d),o.current.addEventListener("drop",h),()=>{o.current.removeEventListener("dragstart",l),o.current.removeEventListener("dragend",c),o.current.removeEventListener("dragover",p),o.current.removeEventListener("dragenter",u),o.current.removeEventListener("dragleave",d),o.current.removeEventListener("drop",h)}}),[]),e.file.status){case"raw":return _("a",{class:"file-embed rounded",id:e.file.id},_("div",{class:"miniature"},_(Ja,{family:"regular",icon:"check-circle"})));case"loading":return _("a",{class:"file-embed rounded",id:e.file.id},_("div",{class:"miniature"}));case"uploading":case"initial":return _("a",{class:"file-embed rounded",id:e.file.id},_("div",{class:"miniature video-raw",style:`background-image:url("${qi.crop(e.file.id,160,160)}")`}),_("div",{class:"spinner orange-spinner"},_("div",null),_("div",null),_("div",null),_("div",null),_("div",null)),e.file&&e.file.progress>0&&_("div",{class:"progress-bar"},_("div",{style:{width:`${e.file.progress}%`}})));default:if(/pdf/.test(e.file.type)||/video/.test(e.file.type))return _("a",{ref:o,draggable:!!e.inWriter,"data-origin":qi.toApp(r),href:e.inWriter?void 0:qi.toApp(a),className:`${e.inWriter?"":"glightbox "}file-embed rounded ${e.file.removed?" removed":""}`,id:e.file.id,"data-width":"calc(90vw - 10px)","data-height":"100vh",onClick:e=>s(e)},_("div",{className:"miniature"+(e.file.removed?" removed":""),style:`background-image:url("${qi.crop(e.file.id,160,160)}")`}),_("div",{class:"remove-button",style:e.file.removed?"color:red":"",onClick:t=>e.toggleFile(t)},_(Ja,{family:"solid",icon:"times"})));if("image/gif"==e.file.type)return _("a",{ref:o,draggable:!!e.inWriter,"data-origin":qi.toApp(r),href:e.inWriter?void 0:qi.toApp(r),class:(e.inWriter?"":"glightbox ")+"file-embed rounded",id:e.file.id,"data-type":"image",onClick:e=>s(e)},_("div",{className:"miniature"+(e.file.removed?" removed":""),style:`background-image:url("${qi.crop(e.file.id,160,160)}")`}),_("div",{class:"remove-button",style:e.file.removed?"color:red":"",onClick:t=>e.toggleFile(t)},_(Ja,{family:"solid",icon:"times"})));if(/image/.test(e.file.type))return _("a",{ref:o,draggable:!!e.inWriter,"data-origin":qi.toApp(r),"data-type":"image","data-srcset":`${qi.thumbnail(e.file.id,720)} 720w, ${qi.thumbnail(e.file.id,1366)} 1366w, ${qi.thumbnail(e.file.id,2048)} 2048w`,"data-sizes":"(max-width: 992px) 720px, (max-width: 1400px) 1366px, 2048px",href:e.inWriter?void 0:qi.toApp(r),class:(e.inWriter?"":"glightbox ")+"file-embed rounded",id:e.file.id,onClick:e=>s(e)},_("div",{className:"miniature"+(e.file.removed?" removed":""),style:`background-image:url("${qi.crop(e.file.id,160,160)}")`}),_("div",{class:"remove-button",style:e.file.removed?"color:red":"",onClick:t=>e.toggleFile(t)},_(Ja,{family:"solid",icon:"times"})))}};function _o(){return _o=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},_o.apply(this,arguments)}const bo=function(){let e=da();return _("main",null,_(oo,null),_("div",{class:"content"},_("article",{class:"mb-3"},_("div",{class:"container pb-3"},_(wo,{focus:!0,group:e.id})))))},wo=function(e){const{t:t}=lr(),n=ua(),[i,r]=Ht(e?.files||[]),[a,o]=Ht(!1),[s,l]=Ht(!1),c=function(){const[e,t]=Ht(0);return()=>t((e=>e+1))}(),u=qi.genId(),d=Yt();d.current=i;const p=(e,t=[],n="",i="")=>{r(t),Array.from(e.current.getElementsByClassName("title-input")).map((e=>e.value=n)),Array.from(e.current.getElementsByClassName("text-input")).map((e=>e.value=i))},h=(e,t)=>{r(d.current.map((n=>n.id===e?Object.assign(n,t):n)))},f=e=>{const n=new FormData;let a=i.find((t=>t.id==e));if(!a||!a.inputFile)throw console.error(i,a,e),"error";n.append("file",a.inputFile),h(e,Object.assign(a,{status:"uploading"})),l(!0),zi.sendFile(n,(t=>{l(!1),h(e,Object.assign({status:"ready"},t))}),(t=>{h(e,{status:"uploading",progress:Math.floor(t.loaded/t.total*100)})}),(n=>{var a;l(!1),console.warn(n),Ri.add(t("error_upload"),"alert-danger"),a=e,r(i.filter((e=>e.id!=a)))}))},g=(e,t)=>{let n=Array.from(t).map((t=>({inputFile:t,type:e,id:qi.genId(),progress:0,status:"initial"})));r([...i,...n])};return qt((()=>{if(i.filter((e=>"uploading"===e.status)).length<2)for(let e=0;e<i.length;e++)if("initial"==i[e].status&&i[e].inputFile){f(i[e].id);break}}),[i]),_(ko,{id:u,sending:a,uploading:s,inputFile:(e,t=!1)=>{const n=document.createElement("input");document.body.appendChild(n),n.style.display="none",n.type="file",n.accept=e,t&&(n.multiple="multiple"),n.addEventListener("change",(t=>{g(e,t.target.files)})),n.click()},sendMessage:(r,a)=>{let s={files:i.filter((e=>!e?.removed)).filter((e=>["ready","raw"].includes(e?.status))).map((e=>e?.id)).filter((e=>!!e)),data:{title:a?.title,text:a?.text}};e.messageId?((n,i)=>{zi.put(`/api/messages/${e.messageId}`,n).then((e=>{p(i,[],"",""),o(!1),e?window.dispatchEvent(new CustomEvent("editMessage",{detail:e})):Ri.add(t("error_new_message"),"alert-danger")})),o(!0)})(s,r):((i,r)=>{i=Object.assign(i,{createdAt:Math.floor(Date.now()/1e3),author:Bi.id,group:qi.getId(e.group),children:[],lastActivityDate:Math.floor(Date.now()/1e3)}),e.parent&&(i.parent=qi.getId(e.parent)),i.files.length||i.data.text||i.data.title?(zi.post("/api/messages",i).then((i=>{if(!i)return o(!1),void Ri.add(t("error_new_message"),"alert-danger");e.isChild?(o(!1),window.dispatchEvent(new CustomEvent("newChild",{detail:i}))):n(`/messages/${i.id}`),p(r,[],"","")})),o(!0)):Ri.add(t("empty_message"),"alert-danger")})(s,r)},cancel:e.cancel,files:i,toggleFile:e=>{r(i.map((t=>(t.id==e&&(t.removed=!t.removed),t))))},invertFiles:(e,t)=>{const n=i.findIndex((t=>t.id===e)),a=i.findIndex((e=>e.id===t));[i[n],i[a]]=[i[a],i[n]],r(i),c()},addFiles:g,group:e.group,isChild:e.isChild,text:e.text,title:e.title})},ko=function(e){const[t,n]=Ht(null),[i,r]=Ht(""),[a,o]=Ht(e.text||""),[s,l]=Ht(e.title||""),{t:c}=lr(),u=Yt(null),d=t=>{e.sendMessage(t,{title:t?.current?.querySelector(".title-input")?.value,text:t?.current?.querySelector(".text-input")?.value}),n(null),r(null),o(""),l("")},p=e=>{e&&(e.style.height="1px",e.style.height=`${25+e.scrollHeight}px`,setTimeout((()=>{let t=e.value.match(/(https?:\/\/[^\s]+)/gi);t&&t[0]!=i&&zi.get(`/api/links/by_url?url=${encodeURIComponent(t[0])}`).then((i=>{i&&e.value.indexOf(t[0])>=0&&(r(t[0]),n(i))}))}),0))},h=(e,t=!1)=>{e.ctrlKey&&qi.is_it_enter(e)?d(u):[" ","Enter","v"].includes(e.key)&&t&&p(e.currentTarget)};return qt((()=>{p(document?.getElementById(e.id)?.querySelector(".text-input"))}),[]),e.sending?_("div",{class:"message-placeholder"},_("div",{class:"spinner orange-spinner"},_("div",null),_("div",null),_("div",null),_("div",null),_("div",null))):_("div",{id:e.id,class:"writer",ref:u},!e.isChild&&_("input",{type:"text",class:"title-input",onKeyPress:e=>h(e),placeholder:c("title_placeholder"),value:s,onChange:e=>l(e.target.value)}),_("textarea",{onKeyPress:e=>h(e,!0),onPaste:t=>{return n=t,void e.addFiles("image/jpeg",n.clipboardData.files);var n},class:"text-input",rows:"5",autocomplete:"off",autofocus:e.focus,placeholder:c("text_placeholder"),maxlength:"50000",value:a,onChange:e=>o(e.target.value)}),!!t&&_(go,_o({inWriter:!0},t)),!!e.files.length&&_(mo,{files:e.files,toggleFile:e.toggleFile,invertFiles:e.invertFiles,inWriter:!0}),_("div",{class:"options"},Mi?.info?.upload?.image&&_("button",{class:"option",onClick:()=>e.inputFile("image/*",!0),title:c("upload_image")},_(Ja,{family:"regular",icon:"images"})),Mi?.info?.upload?.video&&_("button",{class:"option",onClick:()=>e.inputFile("video/*"),title:c("upload_video")},_(Ja,{family:"solid",icon:"film"})),Mi?.info?.upload?.pdf&&_("button",{class:"option",onClick:()=>e.inputFile("application/pdf"),title:c("upload_pdf")},_(Ja,{family:"regular",icon:"file-pdf"})),_("div",{class:"actions"},!!e.cancel&&_("button",{class:"cancel",onClick:t=>e.cancel(t)},c("cancel")),_("button",{disabled:!e.group||e.uploading,type:"submit",class:"submit",onClick:()=>d(u)},c("submit")))))};const xo=function(){const{bookmarks:e}=eo("bookmarks");return e?!Array.isArray(e)||e.length<1?void 0:_("main",null,_(oo,null),_("div",{class:"content"},_("article",{id:"group",class:"justify-content-center d-flex"},_("div",{class:"message-container container-fluid d-flex justify-content-center flex-wrap"},e.map(((e,t)=>_(zo,{tabindex:t+1,key:e.message.id,id:e.message.id}))))))):null},So=lo,Co=function(){let e=da();return _("main",null,_(oo,null),_("div",{class:"content"},_("div",null,_("div",null,_("article",{id:"group",class:"justify-content-center d-flex"},_("div",{class:"message-container container-fluid d-flex justify-content-center flex-wrap"},_(Ro,{key:e.id,id:e.id})))),_(Ma,{class:"write-button material-shadow seamless-link",to:`/groups/${e.id}/write`},_(Ja,{family:"solid",icon:"pencil-alt"})))))},Oo=function(e){const{t:t}=lr();return _(k,null,(e=>{if(!e)return null;const n=Math.abs(Math.round((Date.now()/1e3-e)/60));return n<1?t("just_now"):n<60?t("ago",{duration:`${n}mn`}):n<1440?t("ago",{duration:`${Math.floor(n/60)}h`}):qi.humanFullDate(e).split(" ")[0]})(e.timestamp))},Eo=function(e){ua();const{t:t}=lr(),[n,i]=Ht(null),[r,a]=Ht(null),[o,s]=Ht(null),[l,c]=Ht(null),[u,d]=Ht(null),p=e=>{e.currentTarget.src=qi.defaultAvatar};return qt((()=>{zi.get(`/api/notifications/${e.id}`,!1,100).then((e=>{i(((e,t)=>{switch(e?.type){case"user_joined_group":case"user_left_group":case"group_name_change":return`/groups/${e.fromGroup.id}`;case"new_message":return`/messages/${e.target}`;case"new_comment":return`/messages/${t}/${e.target}`;case"global_notification":return e.target;default:return""}})(e,e.fromMessage?.id)),a((e=>{switch(e?.type){case"new_message":return t("has_posted_in");case"new_comment":return t("has_commented_on");case"user_joined_group":return t("has_joined");case"user_left_group":return t("has_left");case"group_name_change":return t("changed_group_name");default:return""}})(e)),s(e.title),e?.fromUser?.id&&zi.get(`/api/users/${e.fromUser.id}`).then((e=>{c(e)})),d(e)}))}),[]),u?_(Ma,{key:e.id,class:"notification seamless-link unselectable "+(u.read?"":"unread"),to:n,title:o},_("div",{class:"miniature unselectable"},(e=>{let t=qi.defaultAvatar;return e?.miniature&&"global_notification"!=e.type&&(t=qi.crop(e?.miniature?.id,80,80)),_("img",{style:qi.backgroundHash(e?.fromUser?.id),src:t,onError:e=>p(e)})})(u)),_("div",{class:"infos"},_("div",{class:"description"},"global_notification"!=u.type&&_(k,null,_("strong",null,l?.name||"--"),_("span",null,` ${r} `)),(e=>{switch(e?.type){case"new_message":return _(k,null,_("strong",null,e?.fromGroup.name),o&&_(k,null,_("br",null),_("small",null,_("em",null,qi.limitStrSize(o,50)))));case"new_comment":return _("span",null,`${t("the_message_from")} `,_("strong",null,e?.parentAuthorName),o&&_(k,null,_("br",null),_("small",null,_("em",null,qi.limitStrSize(o,50)))));case"user_joined_group":case"user_left_group":return _("strong",null,e?.fromGroup.name);case"group_name_change":return _("span",null,_("strong",null,e.data.previousGroupName),` ${t("to")} `,_("strong",null,e.data.newGroupName));case"global_notification":return e.data.text;default:return""}})(u)),_("div",{class:"date"},qi.humanTime(u.createdAt))),_("div",{class:"options dropdown",onClick:e=>{e.stopPropagation(),e.preventDefault(),e?.target?.closest(".dropdown")?.classList.toggle("active")}},_("div",{class:"none-if-follows-empty"},_(Ja,{family:"solid",icon:"ellipsis-h"})),_("div",{class:"dropdown-menu dropdown-options"},_("a",{class:"seamless-link capitalize",onClick:()=>Ui.removeMatchingNotifications(u.id)},t("delete"))))):null},Po=function(){const e=da(),[t,n]=Ht(null);if(qt((()=>{zi.get(`/api/groups/${e.id}/random`).then((e=>{n(e)}))}),[]),t)return _(xa,{to:`/messages/${t.id}`,replace:!0})},jo=function(){const{t:e}=lr(),t=ua();return _("form",{class:"navbar-block search-block",onSubmit:e=>(e.preventDefault(),void Hi.getEntity().then((e=>{let n=null;switch(e.entityType){case"group":n=e.id;break;case"message":n=e.group.id}let i=document.getElementById("search").value.normalize("NFD").replace(/[\u0300-\u036f]/g,"").split(" ");t(`/groups/${n}/search?q=${i.join("+")}`),window.dispatchEvent(new CustomEvent("groupSearch"))})))},_("div",{class:"input-group"},_("input",{class:"form-control",type:"text",id:"search",placeholder:e("search_in_group"),value:Hi.getParam("q").replace(/\+/g," ")}),_("div",{class:"input-group-append"},_("button",{class:"btn btn-secondary",type:"submit"},_(Ja,{family:"solid",icon:"search"})))))},Ao=function(){const{t:e}=lr(),{me:t}=eo("me"),n=ca(),i=new URLSearchParams(n.search),[r,a]=Ht(!1),[o,s]=Ht(i.get("title")||""),[l,c]=Ht(i.get("text")||""),[u,d]=Ht(i.get("url")||""),p=i.get("parent")||"",[h,f]=Ht([]),[g,m]=Ht("");if(qt((()=>{setTimeout((()=>{Bi.fetch().then((e=>{e.data.default_group?m(e.data.default_group):1==e.groups.length&&m(e.groups[0].id),i.get("message")?zi.get(`/api/messages/${i.get("message")}`).then((e=>{e?.files?.length?Promise.all(e.files.map((e=>zi.get(`/api/files/${e.id}`).then((e=>e))))).then((t=>{f(t),s(e?.data?.title||""),c(e?.data?.text||""),d(""),a(!0)})):(s(e?.data?.title||""),c(e?.data?.text||""),d(""),a(!0))})):a(!0)}))}),100)}),[]),r)return _("main",null,_(oo,null),_("div",{class:"content"},_("article",{class:"mt-2"},_("div",{class:"container"},!p&&t?.groups?.length>1&&_("div",{class:"mb-1"},_("label",{class:"px-1",for:"group_share_choice"},e("group_share_choice")),_("select",{value:g,class:"form-select",name:"group_share_choice",onChange:e=>m(e.target.value),required:!0},t?.groups.map((e=>_("option",{key:e.id,value:e.id},e.name))))),!!p&&_("div",{class:"form-group"},_("label",{for:"apiKey"},e("parent_message"),":"," "),_("input",{type:"text",name:"parent_message",value:p,class:"form-control font-size-80",readonly:"readonly"})),_(wo,{focus:!0,group:g,title:o,parent:p,text:l||u?`${l}\n${u}`:"",files:h})))))};function Lo(e){const{t:t}=lr(),{bookmarks:n}=eo("bookmarks");return _("div",{class:"message-footer"},_("div",{class:"infos"},!e?.isPublic&&e?.author&&e?.author?.id===Bi.id&&_(k,null,_("a",{class:"action seamless-link font-size-90 capitalize d-none d-sm-block",onClick:t=>e.editMessage(t)},t("edit")),_("div",{class:"dot d-none d-sm-block"},"•")),!e?.isPublic&&e?.isChild&&e?.message&&_(k,null,_(Ma,{class:"action seamless-link font-size-90 capitalize",to:`/messages/${e?.message.id}${e?.message?.children.length?"":"?focus=reply"}`},e?.message?.children.length?e.message.children.some((e=>Ui.isNew(e.id)))?_("b",null,t("replies",{count:e.message.children.length})):t("replies",{count:e.message.children.length}):t("reply")),_("div",{class:"dot"},"•")),_("div",{class:"date font-size-90",title:qi.humanFullDate(e?.message.createdAt)},_(Oo,{timestamp:e?.message.createdAt})),_(k,null,_("div",{class:"dot"},"•"),_("div",{class:"font-size-90"},e?.author&&e?.author?.name?e.author.name:"--"))),_("div",null,!e?.isPublic&&_("div",{class:"options dropdown",onClick:e=>e?.target?.closest(".dropdown")?.classList.toggle("active")},_("div",{class:"none-if-follows-empty"},_(Ja,{family:"solid",icon:"ellipsis-h"})),_("div",{class:"dropdown-menu dropdown-options"},e?.author&&e?.author?.id===Bi.id&&_("a",{class:"seamless-link capitalize",onClick:t=>e.deleteMessage(t)},t("delete")),_("a",{class:"seamless-link capitalize",onClick:t=>e.openPublicLink(t)},t("public_link")),Bi.groups?.length>1&&_("a",{class:"seamless-link capitalize",onClick:t=>e.shareMessage(t)},t("share_message")),!e?.message?.isInFront&&e?.author&&e?.author.id==Bi.id&&_("a",{class:"seamless-link capitalize",onClick:t=>e.publishInGroup(t)},t("publish_in_group")),!n.some((t=>t.message.id===e?.message.id))&&_("a",{class:"seamless-link capitalize",onClick:()=>{Ri.add(t("bookmark_added")),G.dispatch("bookmark/add",e.message.id)}},t("add_bookmark")),n.some((t=>t.message.id===e?.message.id))&&_("a",{class:"seamless-link capitalize",onClick:()=>{Ri.add(t("bookmark_removed")),G.dispatch("bookmark/remove",n.find((t=>t.message.id===e.message.id)))}},t("remove_bookmark")),e?.author?.id==Bi.id&&_("a",{class:"seamless-link capitalize",onClick:t=>e.editMessage(t)},t("edit"))))))}function To(e){const[t,n]=Ht(null);return qt((()=>{if(!t&&e.message&&e.message.data){let t=qi.getUrl(e.message.data.text);t&&zi.get(`/api/links/by_url?url=${encodeURIComponent(t[0])}`).then((e=>n(e)))}})),_("div",{class:"message-body"},e.message.data&&e.message.data.title&&_("div",{class:"title"},_("span",null,e.message.data.title)),e.message.data&&e.message.data.text&&e.message.data.text.trim()&&_("p",{class:"card-text",dangerouslySetInnerHTML:(()=>{if(!e.message.data)return"";let t=e.message.data.text.replace(/</g,"&lt;").replace(/>/g,"&gt;").trim(),n=0,i=null;for(;i=qi.getUrl(t.slice(n));){let e=i[0];e.length>=50&&(e=`${e.slice(0,25)}...${e.slice(-24)}`);let r=`<a href="${i[0]}" target="_blank">${e}</a>`;t=t.slice(0,i.index+n)+r+t.slice(i.index+n+i[0].length),n+=i.index+r.length}return t=t.replace(/\n/g,"<br/>"),{__html:t}})()}),t&&(!e.message.data||!e.message.data.no_embed)&&_(go,{key:t.url,url:t.url,preview:t.preview,data:t.data}),e.files&&_(mo,{files:e.files}))}function No(e){const t=[e.message.id,...e.message.lineage].reverse(),[n,i]=Ht([]),[r,a]=Ht(null),o=(e,t)=>{if(e){if(e.data&&e.data.title)return e.data.title;if(t&&t.data)return t.data.title;if(e.data&&e.data.text){let t=qi.getUrl(e.data.text);return t&&t.length>0&&(t=t[0]),t||e.data.text}}return`${e?.author?.name}, ${qi.humanTime(e.createdAt)}`};if(qt((()=>{(e=>{let t=[];Promise.all(e.map((e=>zi.get(`/api/messages/${e}`)))).then((n=>{Promise.all(n.map((e=>{let t=qi.getUrl(e?.data?.text);return t?zi.get(`/api/links/by_url?url=${encodeURIComponent(t[0])}`):Promise.resolve(null)}))).then((r=>{for(let i=0;i<e.length;i++)t[i]=o(n[i],r[i]);i(t)}))}))})(t),zi.get(`/api/groups/${e.message.group.id}`).then((e=>{a(e)}))}),[]),t.length>0){const e=[t[0],...t.slice(-1*Math.min(3,t.length)).slice(1)],i=[n[0],...n.slice(-1*Math.min(3,n.length)).slice(1)];return _("div",{class:"message-breadcrumbs"},_("nav",{style:"--bs-breadcrumb-divider: '>';"},_("ol",{class:"breadcrumb"},r&&_("li",{class:"breadcrumb-item"},_(Ma,{key:r.id,to:`/groups/${r.id}`,class:"no-decoration"},qi.limitLength(r.name||r.id.slice(0,8),30))),e.map(((e,n)=>_(k,{key:e},_(k,null,1==n&&t.length>3&&_("li",{class:"breadcrumb-item"},"...")),_("li",{class:"breadcrumb-item"},_(Ma,{key:e,to:`/messages/${e}`,class:"no-decoration"},qi.limitLength(i[n]||e.slice(0,8),30)))))))))}}function Io(e){const t=ua(),{t:n}=lr(),{me:i}=eo("me"),[r,a]=Ht(null),[o,s]=Ht(null),[l,c]=Ht(null),[u,d]=Ht(!1),[p,h]=Ht(!1),[f,g]=Ht(null),m=Yt(f),v=e=>{m.current=e,g(e)},[,y]=Vt((e=>e+1),0);qt((()=>{window.addEventListener("newChild",x),window.addEventListener("editMessage",S),w(),Ui.markAsRead(e.id),e.isChild||setTimeout((()=>window.scrollTo(0,0))),setTimeout((()=>{if(e.id==Hi.action){const t=document.getElementById(e.id);t&&(t.scrollIntoView({block:"start",behavior:"smooth"}),setTimeout((()=>t.classList.remove("highlight")),1e3))}}),1e3)}),[]);const b=e=>{v(e),e?.author?.id&&zi.get(`/api/users/${e.author.id}`).then((e=>{a(e)})),e?.parent?.id&&zi.get(`/api/messages/${e.parent.id}`).then((e=>{s(e)})),setTimeout((()=>{e?.files?.length&&Promise.all(e.files.map((e=>zi.get(`/api/files/${e.id}`).then((e=>e))))).then((e=>c(e)))}),100)},w=()=>{e?.message?(e?.files?.length&&c(e?.message?.files.map((e=>({id:e.id,status:"loading"})))),b(e.message)):e?.token?zi.get(`/api/public/${e.token}`).then((e=>{e?.files?.length&&c(e?.files.map((e=>({id:e.id,status:"loading"})))),b(e)})):zi.get(`/api/messages/${e.id}`).then((e=>{e?.files?.length&&c(e?.files.map((e=>({id:e.id,status:"loading"})))),b(e)}))},x=t=>{if(!m.current?.id)return;const n=t.detail;if(n?.parent&&qi.getId(n?.parent)==e.id){n.author=i;let e=m?.current?.children?[...m.current.children,n]:[n],t=Object.assign(m.current,{children:e});v(t),y()}},S=t=>{t.detail.id==e.id&&(h(!1),b(t.detail),e.key=+Date.now())},C=e=>{e.preventDefault(),h(!1)},O=(t,n)=>_(wo,{cancel:p?C:null,files:p?l:[],focus:n||!!p,group:f.group,messageId:p?e.id:null,parent:p?o?.id:e.id,text:p?f.data.text:"",title:p?f.data.title:"",isChild:t});return u||!f?_("div",{id:e.id,className:"message"}):_(k,null,!e?.isChild&&!e?.isPublic&&_(No,{key:f?.id,message:f}),_("div",{id:e.id,className:(()=>{let t="message";return e.isChild&&(t+=" child"),e.id==Hi.action&&(t+=" highlight"),t})()},p&&O(e?.isChild),!p&&_(k,null,e.isChild&&!e.isPublic&&p&&_("div",{class:"message-head d-none d-md-block"},_("img",{class:"rounded-circle w-3 material-shadow avatar",style:qi.backgroundHash(i.id),src:i.avatar?qi.crop(i.avatar?.id,100,100):qi.defaultAvatar})),_(Ga,{author:r,message:f,isPublic:e?.isPublic,isChild:e?.isChild}),_("div",{class:"main"},_(To,{message:f,files:l||[],isPublic:e?.isPublic,isChild:e?.isChild}),_(Lo,{author:r,message:f,editMessage:e=>{e.preventDefault(),h(!0)},deleteMessage:i=>{i.preventDefault(),confirm(n("ask_delete_message"))&&zi.delete(`/api/messages/${e.id}`).then((()=>{e.isChild?d(!0):t(`/groups/${f.group.id}`)}))},shareMessage:n=>{n.preventDefault(),t(`/share?message=${e.id}`)},publishInGroup:()=>{zi.put(`/api/messages/${e.id}`,{lastActivityDate:Math.floor(Date.now()/1e3),isInFront:!0}).then((e=>{e?t(`/groups/${f.group.id}`):alert.add(n("error"),"alert-danger")}))},openPublicLink:async t=>{t.preventDefault();let n=window.open("about:blank","_blank");const i=await zi.get(`/api/messages/${e.id}/get-public-link`);n.location=`${document.baseURI}public/${i.token}`},isPublic:e?.isPublic,isChild:e?.isChild})))),e?.postMessageComponent,!e?.isChild&&!e?.isPublic&&_(Ka,{childMessages:f?.children,key:e.id,id:e.id}),!p&&!e?.isPublic&&!e?.isChild&&_("div",{class:"message child mt-2"},i?.id&&_("div",{class:"message-head d-none d-md-block"},_("img",{class:"rounded-circle w-3 material-shadow avatar",style:qi.backgroundHash(i.id),src:i?.avatar?qi.crop(i.avatar.id,100,100):qi.defaultAvatar})),O(!0,e.focus)))}const Do=Io,Ro=class extends x{constructor(e){super(e);let t=1+Math.floor(window.screen.width*window.screen.height/68800);this.state={loaded:t,messages:[],scrollTop:0,totalMessages:0,pageYOffset:0,page:0},this.scroll_cooldown=Date.now(),this.onScroll=this.onScroll.bind(this),this.loadMessages=this.loadMessages.bind(this),this.onNewParent=this.onNewParent.bind(this),window.addEventListener("newParent",this.onNewParent)}onNewParent(){this.loadMessages(0)}componentDidMount(){this.loadMessages(0),window.addEventListener("scroll",this.onScroll)}componentWillUnmount(){window.removeEventListener("scroll",this.onScroll)}loadMessages(e){zi.get(`/api/groups/${this.props.id}`).then((e=>{this.setState({group:e})})),zi.get(`/api/groups/${this.props.id}/page/${e}`).then((t=>{if(t&&Array.isArray(t.messages)){let n=Math.max(this.state.loaded,30*e),i=this.state.messages;t.messages.map((e=>!i.find((t=>t.id==e.id))&&i.push(e))),this.setState({messages:i,totalMessages:t.totalItems,page:e,loaded:n}),30*(e+1)<n&&setTimeout((()=>this.loadMessages(e+1)))}}))}onScroll(){"none"!=window.getComputedStyle(document.getElementById("group").parentNode).display&&this.scroll_cooldown+100<Date.now()&&(this.scroll_cooldown=Date.now(),this.setState({pageYOffset:window.pageYOffset}),Array.isArray(this.state.messages)&&document.body.scrollHeight-window.screen.height-500<window.pageYOffset&&this.state.loaded<this.state.totalMessages&&(this.setState((e=>({loaded:e.loaded+10}))),this.state.loaded+30>this.state.messages.length&&(this.loadMessages(this.state.page+1),this.setState((e=>({page:e.page+1}))))))}render(){if(this.props.id)return _(k,null,Array.isArray(this.state.messages)&&this.state.messages.slice(0,this.state.loaded).map(((e,t)=>_(zo,{tabindex:t+1,key:e.id,id:e.id}))))}},Mo=function(e){let t=da();return _("main",null,_(oo,null),_("div",{class:"content"},_("article",{class:"mb-3 justify-content-center d-flex"},_("div",{class:"container pb-3"},_(Io,{focus:!!Hi.getParam("focus",Hi.search),isPublic:!1,isChild:!1,message:e?.message,id:t.id,key:t.id})))))},zo=function(e){const[t,n]=Ht(null),[i,r]=Ht(null),[a,o]=Ht(null),[s,l]=Ht(null),[c,u]=Ht(null),[d,p]=Ht(0),[h,f]=Ht(!1);return qt((()=>{zi.get(`/api/messages/${e.id}/preview`).then((e=>{e?.author?.id&&zi.get(`/api/users/${e.author.id}`).then((e=>{n(e)})),r(e?.preview),o(e?.id),p(e?.children),f(!0),u(e?.lastActivityDate),l(e?.data)}))}),[]),e?.id&&s?_(Ma,{to:`/messages/${a}`,class:"d-inline-block seamless-link message-preview unselectable",title:s?.title},_("div",{tabindex:e?.tabindex,class:"card material-shadow-with-hover"},_("img",{title:(g=t)?g.name:"--",className:"avatar material-shadow"+(g?"":" removed-user"),style:qi.backgroundHash(g?g.id:""),src:g?.avatar?qi.crop(g.avatar.id,100,100):qi.defaultAvatar,onError:e=>e.currentTarget.src=qi.defaultAvatar}),_("div",{class:"card-miniature-loading"},h&&_(k,null,i?_("div",{class:"card-miniature"},_("img",{width:"320",height:"180",src:qi.crop(qi.getId(i),320,180)})):_("div",{class:"text-preview"},s?.text))),_("div",{class:"card-body border-top d-flex justify-content-between"},_("span",{class:"left-buffer"}),_("span",{class:"title",title:s?.title||qi.humanFullDate(c)},s?.title||_(Oo,{timestamp:c})),_("span",{class:"children"},d>0&&_("span",null,`${d} `,_(Ja,{family:Ui.isNew(a)?"solid":"regular",icon:"comment"})))))):null;var g},$o=function(e){const[t,n]=Ht(e?.message?.author||null);return qt((()=>{e?.message?.author&&zi.get(`/api/users/${e.message.author}`).then((e=>e&&n(e)))}),[]),_(Ma,{class:"d-inline-block seamless-link message-preview unselectable",to:e.message.parent&&0==e.message.children?`/messages/${e.message.parent}/${e.message.id}`:`/messages/${e.message.id}`,title:e?.title},_("div",{tabindex:e.tabindex,class:"card material-shadow-with-hover"},_("div",{class:"card-body border-top"},(()=>{if(e?.preview)return _("div",{class:"card-miniature",style:`background-image: url('${qi.crop(e?.preview,100,100)}')`});let n=qi.defaultAvatar;return t?.avatar?.id&&(n=qi.crop(t.avatar.id,100,100)),_("div",{class:"card-miniature",style:`background-image: url('${n}')`})})(),_("div",{class:"infos"},_("div",{class:"title",dangerouslySetInnerHTML:(()=>{if(!t?.name)return{__html:"--"};let n=t.name,i=n.split(" ");for(let t=0;t<i.length;t++)if(!i[t].match(qi.urlRegExp)){let n=e.search.split(" ");for(let e=0;e<n.length;e++)i[t]=i[t].replace(new RegExp(qi.escapeRegex(n[e]),"gi"),"<b>$&</b>")}return n=i.join(" "),{__html:n}})()}),_("div",{class:"dot"},"•"),_("div",{class:"title",title:e?.title||qi.humanFullDate(e.message.lastActivityDate),dangerouslySetInnerHTML:(()=>{if(!e?.message?.data?.title)return{__html:qi.humanTime(e?.message?.lastActivityDate)};let t=e?.message?.data?.title.replace(/</g,"&lt;").replace(/>/g,"&gt;").trim(),n=t.split(" "),i=e?.search.split(" ")||[];for(let e=0;e<n.length;e++)if(!n[e].match(qi.urlRegExp))for(let t=0;t<i.length;t++)n[e]=n[e].replace(new RegExp(qi.escapeRegex(i[t]),"gi"),"<b>$&</b>");return t=n.join(" "),{__html:t}})()})),_("div",{class:"text"},e?.message?.data?.text.trim()&&_("p",{class:"card-text",dangerouslySetInnerHTML:(()=>{if(!e?.message?.data?.text)return"";let t=e?.message?.data?.text.replace(/</g,"&lt;").replace(/>/g,"&gt;").trim(),n=t.split("\n");for(let t=0;t<n.length;t++){let i=n[t].split(" ");for(let t=0;t<i.length;t++)if(!i[t].match(qi.urlRegExp)){let n=e.search.split(" ");for(let e=0;e<n.length;e++)n[e]&&(i[t]=i[t].replace(new RegExp(qi.escapeRegex(n[e]),"gi"),"<b>$&</b>"));let r=e?.hashtags.split(" ")||[];for(let e=0;e<r.length;e++)r[e]&&(i[t]=i[t].replace(new RegExp(`#${r[e]}`,"gi"),"<b>$&</b>"))}n[t]=i.join(" ")}t=n.join("\n");let i=0,r=null;for(;r=qi.getUrl(t.slice(i));){let n=r[0];n.length>=50&&(n=`${n.slice(0,25)}...${n.slice(-24)}`);let a=e?.search.split(" ")||[];for(let e=0;e<a.length;e++)n=n.replace(new RegExp(qi.escapeRegex(a[e]),"gi"),"<b>$&</b>");let o=`<a href="${r[0]}" target="_blank">${n}</a>`;t=t.slice(0,r.index+i)+o+t.slice(r.index+i+r[0].length),i+=r.index+o.length}return t=t.replace(/\n/g,"<br/>"),{__html:t}})()})),_("div",{class:"children"},!!e.message.children&&_("span",null,`${e.message.children} `,_(Ja,{family:Ui.isNew(e.message.id)?"solid":"regular",icon:"comment"}))))))};const Bo=function(){const[e,t]=Ht(!1),[n,i]=Ht(!1),r=ua(),{t:a}=lr();return qt((()=>{Vi.get("apiKey").then((e=>e&&r("/"))),Vi.reset()}),[]),_("div",{class:"login"},_("div",{class:"login-form"},_("img",{src:new URL(Ba)}),!n&&_("form",null,_("div",{class:"form-group mb-3"},_("input",{type:"email",class:"form-control",required:!0,id:"login",placeholder:a("login_placeholder")})),_("div",{class:"form-group"},_("input",{type:"password",class:"form-control",required:!0,id:"password",placeholder:a("password_placeholder")})),_("div",{class:"forgot-password"},_("span",{onClick:()=>i(!0)},a("forgot_password"))),_("button",{type:"submit",class:"btn btn-light",onClick:e=>(e=>{e.preventDefault(),t(!0);let n=document.getElementById("login").value||"";n.toLowerCase();const i=document.getElementById("password").value;zi.post("/api/login",{login:n,password:i}).then((e=>{t(!1),e&&e.api_key?Vi.set("apiKey",e.api_key).then((()=>{Bi.update().then((e=>{let t="/create-group";e.data?.default_group?t=`/groups/${e?.data.default_group}`:e?.groups[0]&&(t=`/groups/${e?.groups[0].id}`),r(t)}))})):e&&e.message?Ri.add(a(e.message),"alert-danger"):Ri.add(a("error"),"alert-danger")}))})(e),disabled:e},a("connect"))),!!n&&_("form",null,_("div",{class:"form-group mb-3"},_("input",{type:"email",class:"form-control",required:!0,id:"login",placeholder:a("login_placeholder")})),_("button",{type:"submit",class:"btn btn-light",onClick:e=>(e=>{e.preventDefault();let n=document.getElementById("login").value||"";n.toLowerCase(),t(!0),zi.post("/api/password-reset-mail",{mail:n}).then((e=>{t(!1),e&&!e.message?Ri.add(a("password_reset_mail_sent")):Ri.add(a(e.message),"alert-danger")}))})(e),disabled:e},a("submit")))))},Uo=function(){const{t:e}=lr(),t=ua();return _("div",{class:"login"},_("div",{class:"login-form"},_("h2",{class:"title"},e("reset_password_title")),_("form",null,_("div",{class:"form-group"},_("input",{type:"password",class:"form-control",required:!0,id:"password",placeholder:e("new_password_placeholder")})),_("div",{class:"form-group"},_("input",{type:"password",class:"form-control",required:!0,id:"password_confirmation",placeholder:e("confirm_password_placeholder")})),_("button",{type:"submit",class:"btn btn-light",onClick:n=>(n=>{n.preventDefault(),Vi.set("apiKey","");const i=document.getElementById("password").value||"",r=document.getElementById("password_confirmation").value||"",a=Hi.getParam("mail"),o=Hi.getParam("key");if(a&&i){if(i!=r)return void Ri.add(e("passwords_dont_match"));zi.post("/api/new-password",{mail:a,key:o,password:i}).then((n=>{n.api_key?(Vi.set("apiKey",n.api_key),setTimeout((()=>t("/")),100)):Ri.add(e(n.message))})).catch((e=>console.warn(e)))}})(n)},e("submit")))))},Fo=function(){const e=ua(),{t:t}=lr();return _("div",{class:"signup"},_("div",{class:"signup-form"},_("img",{src:new URL(Ba)}),_("div",{class:"welcome lead"},t("invitation_welcome")),_("form",null,_("div",{class:"form-group"},_("input",{type:"email",class:"form-control",required:!0,id:"login",placeholder:t("login_placeholder")})),_("div",{class:"form-group"},_("input",{type:"password",class:"form-control",required:!0,id:"password",placeholder:t("password_placeholder")})),_("button",{type:"submit",class:"btn btn-light",onClick:n=>(n=>{n.preventDefault();let i=document.getElementById("login").value||"";i.toLowerCase();const r=document.getElementById("password").value;Vi.set("apiKey",""),zi.post("/api/signup",{login:i,password:r,invite_key:Hi.getParam("inviteKey")}).then((n=>{n&&!n.message?(Vi.set("apiKey",n.api_key),setTimeout((()=>e("/")),100)):Ri.add(t(n.message))}))})(n)},t("signup")))))},Ho=Ya,Vo=function(){let e=da();return _("article",{class:"justify-content-center d-flex mt-2"},_("div",{class:"container"},_("main",null,_("div",{class:"content"},_("article",{class:"mb-3 justify-content-center d-flex"},_("div",{class:"container pb-3"},_(Do,{focus:!1,isPublic:!0,isChild:!1,token:e.token})))))))};function qo(){const e=da(),{t:t}=lr(),{me:n,dispatch:i}=eo("me"),r=ua(),[a,o]=Ht(""),[s,l]=Ht([]),[c,u]=Ht({}),[d,p]=Ht("");qt((()=>{zi.get(`/api/groups/${e.id}`).then((e=>{u(e),o(e.secretKey),Promise.all(e.users.map((e=>zi.get(`/api/users/${e.id}`).then((e=>e))))).then((e=>l(e)))})),p(t(Hi.getParam("alert")))}),[]);const h=()=>{zi.post(`/api/groups/${c.id}/leave`,{}).then((e=>{e&&e.entityType?(i("me/fetch"),Ri.add(t("group_left")),r("/")):Ri.add(t("error"),"alert-danger")}))};return _("div",null,_("div",{class:"group-settings mb-3"},_("div",{class:"card"},_("div",{class:"card-body"},_("div",{class:"container-fluid p-1"},_("div",{class:"row"},_("div",{class:"col-12 col-md-10"},_("form",{id:"settings_form",class:"mb-1 border-bottom pb-1"},_("div",{class:"form-group"},_("label",{for:"name"},t("name"),": "),_("input",{type:"text",name:"name",minlength:"1",maxlength:"128",placeholder:t("name_input"),value:c.name,class:"form-control",required:!0})),_("button",{onClick:e=>{e.preventDefault();const n=document.querySelector("#settings_form input[name='name']").value;n&&(c.name=n),u(Object.assign({},c)),zi.put(`/api/groups/${c.id}`,c).then((e=>{u(e),p(t("group_updated")),r(`${location.pathname}?alert=group_updated`)}))},class:"btn btn-outline-secondary"},t("save_changes"))),_("form",{class:"mb-1 border-bottom pb-1"},_("div",{class:"form-group"},_("label",{for:"inviteKey"},t("invitation_link"),":"," "),_("input",{type:"text",name:"inviteKey",value:`${window.location.protocol}//${window.location.host}/invitation/${a}`,class:"form-control font-size-80",readonly:"readonly"})),_("button",{class:"btn btn-outline-secondary",onClick:e=>{e.preventDefault(),zi.post(`/api/groups/${c.id}/reset-invite-key`,{}).then((e=>{Ri.add(t("group_updated")),o(e.inviteKey)}))}},t("reset_invitation_link"))),_("form",null,_("button",{onClick:e=>(e=>{if(e.preventDefault(),n.data?.default_group==c.id){let e={};e.data={default_group:n.groups[0].id},zi.put(`/api/users/${n.id}`,e).then((()=>{i("me/fetch"),h()}))}else h()})(e),class:"btn btn-outline-danger"},t("quit_group"))))))))),_("div",{class:"user-list mb-3"},_("h3",null,t("users")),s.map((e=>e&&_("div",{class:"user-card"},_("img",{class:"avatar material-shadow-with-hover",style:qi.backgroundHash(e.id),src:e.avatar?qi.crop(e.avatar.id,200,200):qi.defaultAvatar,onError:e=>e.currentTarget.src=qi.defaultAvatar}),_("span",null,e.name))))),d&&_("div",{class:"global-alert alert alert-success"},d))}function Wo(){const{t:e}=lr(),{me:t}=eo("me"),n=ua(),i=ca(),[r,a]=Ht(null),[o,s]=Ht("");qt((()=>{Vi.get("apiKey").then((e=>a(e))),s(e(Hi.getParam("alert")))}),[]);if(t&&t?.data)return _("div",{class:"user-settings"},_("div",{class:"card"},_("div",{class:"identite card-body"},_("div",{class:"container-fluid p-1"},_("div",{class:"row"},_("div",{class:"col-12 col-md-2"},_("img",{class:"img-fluid rounded-circle material-shadow avatar",src:t.avatar?qi.crop(t.avatar.id,100,100):qi.defaultAvatar,style:qi.backgroundHash(t.id||""),onError:e=>e.currentTarget.src=qi.defaultAvatar,onClick:r=>(()=>{const r=document.createElement("input");r.type="file",r.accept="image/*",r.addEventListener("change",(r=>{const a=new FormData;a.append("file",r.target.files[0]),zi.sendFile(a,(r=>{zi.put(`/api/users/${t.id}`,{avatar:r.id}).then((()=>{s(e("settings_updated")),n(`${i.pathname}?alert=settings_updated`)}))}))})),r.click()})()})),_("div",{class:"col-12 col-md-10"},_("form",{id:"settings_form",class:"mb-3"},_("div",{class:"form-group"},_("label",{for:"name"},e("name"),": "),_("input",{type:"text",name:"name",minlength:"1",maxlength:"128",placeholder:e("name_input"),value:t.name,class:"form-control"})),_("div",{class:"form-group"},_("label",{for:"email"},e("email"),": "),_("input",{type:"email",name:"email",placeholder:e("email_input"),value:t.login,class:"form-control"})),_("div",{class:"form-group"},_("label",{for:"password"},e("password"),": "),_("input",{type:"password",name:"password",autocomplete:"off",minlength:"8",maxlength:"128",placeholder:e("password_input"),class:"form-control"})),_("div",{class:"form-group"},_("label",{for:"notification_emails"},e("notification_emails"),":"),_("select",{name:"notification_emails",class:"form-control",value:t?.data.notification_emails},_("option",{value:"none"},e("none")),_("option",{value:"hourly"},e("hourly")),_("option",{value:"daily"},e("daily")),_("option",{value:"weekly"},e("weekly")),_("option",{value:"monthly"},e("monthly")))),_("div",{class:"form-group"},_("label",{for:"default_group"},e("default_group"),":"),_("select",{name:"default_group",class:"form-control",value:t?.data.default_group},t.groups?.map((e=>_("option",{key:e.id,value:e.id},e.name))))),_("div",{class:"form-group"},_("label",{class:"capitalize",for:"lang"},e("lang"),":"),_("select",{name:"lang",class:"form-control",value:$i.getCurrentLang()},Object.keys($i.possibleLang).map((e=>_("option",{key:e,value:e},$i.possibleLang[e]))))),_("button",{onClick:r=>(r=>{r.preventDefault();const a=document.querySelector("#settings_form input[name='name']").value,o=document.querySelector("#settings_form input[name='email']").value,l=document.querySelector("#settings_form input[name='password']").value,c=document.querySelector("#settings_form select[name='notification_emails']").value,u=document.querySelector("#settings_form select[name='default_group']").value,d=document.querySelector("#settings_form select[name='lang']").value;let p={};a&&(p.name=a),o&&(p.login=o),l&&(p.password=l),p.data={notification_emails:c,default_group:u,lang:d},zi.put(`/api/users/${t.id}`,p).then((t=>{t.error?Ri.add(t.error,"alert-danger"):(s(e("settings_updated")),n(`${i.pathname}?alert=settings_updated`))}))})(r),class:"btn btn-primary"},e("save_changes"))),_("form",{id:"api_key_form"},_("div",{class:"form-group"},_("label",{for:"apiKey"},e("api_key"),":"," "),_("input",{type:"text",name:"apiKey",value:r,class:"form-control font-size-80",readonly:"readonly"})),_("button",{class:"btn btn-outline-secondary",onClick:e=>{e.preventDefault(),zi.post(`/api/users/${t.id}/reset-api-key`,{}).then((()=>Hi.logout()))}},e("reset_api_key"))),_("form",{id:"destroy_form"},_("label",{class:"d-block",for:"destroy_account"},e("destroy_account_explain")),_("button",{onClick:i=>(i.preventDefault(),void(confirm(e("are_you_sure"))&&zi.delete(`/api/users/${t.id}`).then((()=>{n("/logout")})))),name:"destroy_account",class:"btn btn-danger"},e("destroy_account")))))))),o&&_("div",{class:"global-alert alert alert-success"},o))}const Yo=function(){const e=da(),{t:t}=lr(),{me:n}=eo("me");return _("main",null,_(oo,null),_("div",{class:"content"},_("article",{class:"mt-2 justify-content-center d-flex"},_("div",{class:"container pb-3"},_("div",{class:"settings"},_("ul",{class:"nav nav-tabs"},_("li",{class:"nav-item"},_(Ma,{class:"nav-link"+("users"==e.type?" active":""),to:`/users/${n.id}/settings`},t("account"))),n.groups?.length>0&&_("li",{class:"nav-item dropdown group-list",tabindex:"-1",onClick:e=>e.currentTarget.classList.toggle("active")},_("div",{class:"nav-link"+("groups"==e.type?" active":"")},t("groups")),_("div",{class:"dropdown-menu"},n.groups?.map((e=>_(Ma,{key:`/groups/${e.id}/settings`,class:"seamless-link",to:`/groups/${e.id}/settings`},e.name)))))),"users"===e.type&&_(Wo,{id:e.id,key:e.id}),"groups"===e.type&&_(qo,{id:e.id,key:e.id}))))))};var Xo=function(){const e=ua(),t=ca(),n=e=>{e.target.closest(".dropdown")?document.querySelectorAll(".dropdown").forEach((t=>{t!=e.target.closest(".dropdown")&&t.classList.remove("active")})):document.querySelectorAll(".dropdown").forEach((e=>e.classList.remove("active")))};return qt((()=>(Mi.update(),Ui.update(),Fi.update(),window.addEventListener("click",(e=>n(e))),()=>{window.removeEventListener("click",(e=>n(e)))}))),Bi.fetch().then((n=>{if("/"==t.pathname){let t="/login";n&&(t="/create-group",n.data?.default_group?t=`/groups/${n?.data.default_group}`:n?.groups[0]&&(t=`/groups/${n?.groups[0].id}`)),e(t)}t.pathname.match(/^\/invitation/)&&(n?zi.post(`/api/groups/invitation/${Hi.id}`,{}).then((()=>{e("/")})):e(`/signup?inviteKey=${Hi.id}`)),Hi.isOutside()||n||e("/login")})),_(Oa,null,_(Sa,{path:"/password-reset",element:_(Uo,null)}),_(Sa,{path:"/public/:token",element:_(Vo,null)}),_(Sa,{path:"/share",element:_(Ao,null)}),_(Sa,{path:"/signup",element:_(Fo,null)}),_(Sa,{path:"/stop-notification-emails",element:_(Ho,null)}),_(Sa,{path:"/login",element:_(Bo,null)}),_(Sa,{path:"/logout",element:_(xa,{replace:!0,to:"/login"})}),_(Sa,{path:"/:type/:id/settings",element:_(Yo,null)}),_(Sa,{path:"/bookmarks",element:_(xo,null)}),_(Sa,{path:"/create-group",element:_(So,null)}),_(Sa,{path:"/groups/:id",element:_(Co,null)}),_(Sa,{path:"/groups/:id/random",element:_(Po,null)}),_(Sa,{path:"/groups/:id/search",element:_(ro,null)}),_(Sa,{path:"/groups/:id/write",element:_(bo,null)}),_(Sa,{path:"/messages/:id",element:_(Mo,null)}),_(Sa,{path:"/messages/:id/:child_id",element:_(Mo,null)}))};function Ko(){return _(Qa.Provider,{value:G},_(Xo,null))}F(_((function(){return _(Ia,null,_(Ko,null))}),null),document.body);
//# sourceMappingURL=index.51bbc062.js.map

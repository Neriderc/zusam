{"mappings":"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","sources":["node_modules/@parcel/runtime-js/lib/helpers/bundle-manifest.js","node_modules/@parcel/runtime-js/lib/runtime-2c9eca16c8fbf2d2.js","node_modules/preact/src/util.js","node_modules/preact/src/options.js","node_modules/preact/src/create-element.js","node_modules/preact/src/component.js","node_modules/preact/src/create-context.js","node_modules/preact/src/constants.js","node_modules/preact/src/diff/children.js","node_modules/preact/src/diff/props.js","node_modules/preact/src/diff/index.js","node_modules/preact/src/render.js","node_modules/preact/src/clone-element.js","node_modules/preact/src/diff/catch-error.js","src/core/alert.js","src/core/storage.js","src/store/index.js","node_modules/storeon/index.js","src/store/api.js","src/store/me.js","src/store/router.js","src/store/notifications.js","src/store/bookmarks.js","node_modules/@babel/runtime/helpers/esm/typeof.js","node_modules/@babel/runtime/helpers/esm/classCallCheck.js","node_modules/@babel/runtime/helpers/esm/toPrimitive.js","node_modules/@babel/runtime/helpers/esm/toPropertyKey.js","node_modules/@babel/runtime/helpers/esm/createClass.js","node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js","node_modules/@babel/runtime/helpers/esm/setPrototypeOf.js","node_modules/@babel/runtime/helpers/esm/inherits.js","node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js","node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js","node_modules/@babel/runtime/helpers/esm/defineProperty.js","node_modules/@babel/runtime/helpers/esm/arrayWithHoles.js","node_modules/@babel/runtime/helpers/esm/iterableToArray.js","node_modules/@babel/runtime/helpers/esm/arrayLikeToArray.js","node_modules/@babel/runtime/helpers/esm/unsupportedIterableToArray.js","node_modules/@babel/runtime/helpers/esm/nonIterableRest.js","node_modules/@babel/runtime/helpers/esm/toArray.js","node_modules/i18next/dist/esm/i18next.js","src/core/me.js","node_modules/@babel/runtime/helpers/classCallCheck.js","node_modules/@babel/runtime/helpers/typeof.js","node_modules/@babel/runtime/helpers/toPropertyKey.js","node_modules/@babel/runtime/helpers/toPrimitive.js","node_modules/@babel/runtime/helpers/createClass.js","node_modules/@babel/runtime/helpers/defineProperty.js","node_modules/preact/hooks/src/index.js","node_modules/preact/compat/src/util.js","node_modules/preact/compat/src/PureComponent.js","node_modules/preact/compat/src/memo.js","node_modules/preact/compat/src/forwardRef.js","node_modules/preact/compat/src/Children.js","node_modules/preact/compat/src/suspense.js","node_modules/preact/compat/src/suspense-list.js","node_modules/preact/compat/src/portals.js","node_modules/preact/compat/src/render.js","node_modules/preact/compat/src/index.js","node_modules/react-i18next/dist/es/unescape.js","node_modules/react-i18next/dist/es/context.js","src/lang/en.json","src/lang/es.json","src/lang/fr.json","src/lang/nl.json","src/lang/sk.json","src/core/lang.js","src/core/util.js","src/core/http.js","src/core/notifications.js","src/core/bookmarks_utils.js","src/core/router.js","src/core/index.js","src/core/api.js","node_modules/@babel/runtime/helpers/arrayWithHoles.js","node_modules/@babel/runtime/helpers/iterableToArrayLimit.js","node_modules/@babel/runtime/helpers/arrayLikeToArray.js","node_modules/@babel/runtime/helpers/unsupportedIterableToArray.js","node_modules/react-i18next/dist/es/utils.js","node_modules/@babel/runtime/helpers/nonIterableRest.js","node_modules/@babel/runtime/helpers/slicedToArray.js","node_modules/react-i18next/dist/es/useTranslation.js","node_modules/@remix-run/router/history.ts","node_modules/@remix-run/router/utils.ts","node_modules/@remix-run/router/router.ts","node_modules/react-router/lib/use-sync-external-store-shim/useSyncExternalStoreShimClient.ts","node_modules/react-router/lib/use-sync-external-store-shim/index.ts","node_modules/react-router/lib/use-sync-external-store-shim/useSyncExternalStoreShimServer.ts","node_modules/react-router/lib/context.ts","node_modules/react-router/lib/hooks.tsx","node_modules/react-router/lib/components.tsx","node_modules/react-router-dom/index.tsx","node_modules/react-router-dom/dom.ts","node_modules/@parcel/runtime-js/lib/runtime-0c96886bbd7192d4.js","node_modules/@babel/runtime/helpers/objectWithoutPropertiesLoose.js","node_modules/@babel/runtime/helpers/objectWithoutProperties.js","node_modules/react-i18next/dist/es/withTranslation.js","src/outside/stop-notification-emails.component.js","src/message/message-child.component.js","src/message/message-children.component.js","src/message/message-head.component.js","src/misc/index.js","src/misc/fa-icon.component.js","node_modules/storeon/preact/index.js","src/navbar/index.js","src/navbar/group-search.component.js","src/navbar/group-search-wrapper.component.js","src/navbar/groups-dropdown-navbar.component.js","src/navbar/navbar.component.js","src/navbar/notifications-dropdown-navbar.component.js","src/pages/create-group.component.js","src/embed/bandcamp-embed.component.js","src/embed/generic-embed.component.js","node_modules/glightbox/dist/js/glightbox.min.js","node_modules/mobile-drag-drop/internal/constants.ts","node_modules/mobile-drag-drop/internal/feature-detection.ts","node_modules/mobile-drag-drop/internal/dom-utils.ts","node_modules/mobile-drag-drop/internal/drag-data-store.ts","node_modules/mobile-drag-drop/internal/drag-utils.ts","node_modules/mobile-drag-drop/internal/drag-operation-controller.ts","node_modules/mobile-drag-drop/index.ts","src/embed/index.js","src/embed/embed-block.component.js","src/embed/file-grid.component.js","src/embed/big-file.component.js","src/embed/mini-file.component.js","src/writer/index.js","src/writer/group-writer.component.js","src/writer/writer.component.js","src/writer/writing-widget.component.js","src/pages/index.js","src/pages/bookmark-board.component.js","src/pages/group-board.component.js","src/pages/human-time.component.js","src/pages/notification.component.js","src/pages/random-message.component.js","src/pages/search.component.js","src/pages/share.component.js","src/message/message-footer.component.js","src/message/message-body.component.js","src/message/message-breadcrumbs.component.js","src/message/message.component.js","src/message/index.js","src/message/message-list.component.js","src/message/message-parent.component.js","src/message/message-preview.component.js","src/message/message-search-result.component.js","src/outside/index.js","src/outside/login.component.js","src/outside/password-reset.component.js","src/outside/signup.component.js","src/outside/public.component.js","src/settings/group-settings.component.js","src/settings/user-settings.component.js","src/settings/index.js","src/settings/settings.component.js","src/app.js","src/index.js"],"sourcesContent":["\"use strict\";\n\nvar mapping = {};\n\nfunction register(pairs) {\n  var keys = Object.keys(pairs);\n\n  for (var i = 0; i < keys.length; i++) {\n    mapping[keys[i]] = pairs[keys[i]];\n  }\n}\n\nfunction resolve(id) {\n  var resolved = mapping[id];\n\n  if (resolved == null) {\n    throw new Error('Could not resolve bundle with id ' + id);\n  }\n\n  return resolved;\n}\n\nmodule.exports.register = register;\nmodule.exports.resolve = resolve;","require('./helpers/bundle-manifest').register(JSON.parse(\"{\\\"bXkwM\\\":\\\"index.722a49cb.js\\\",\\\"IA7EQ\\\":\\\"zusam_logo.1eebfd28.svg\\\"}\"));","import { EMPTY_ARR } from './constants';\n\n/**\n * Assign properties from `props` to `obj`\n * @template O, P The obj and props types\n * @param {O} obj The object to copy properties to\n * @param {P} props The object to copy properties from\n * @returns {O & P}\n */\nexport function assign(obj, props) {\n\t// @ts-ignore We change the type of `obj` to be `O & P`\n\tfor (let i in props) obj[i] = props[i];\n\treturn /** @type {O & P} */ (obj);\n}\n\n/**\n * Remove a child node from its parent if attached. This is a workaround for\n * IE11 which doesn't support `Element.prototype.remove()`. Using this function\n * is smaller than including a dedicated polyfill.\n * @param {Node} node The node to remove\n */\nexport function removeNode(node) {\n\tlet parentNode = node.parentNode;\n\tif (parentNode) parentNode.removeChild(node);\n}\n\nexport const slice = EMPTY_ARR.slice;\n","import { _catchError } from './diff/catch-error';\n\n/**\n * The `option` object can potentially contain callback functions\n * that are called during various stages of our renderer. This is the\n * foundation on which all our addons like `preact/debug`, `preact/compat`,\n * and `preact/hooks` are based on. See the `Options` type in `internal.d.ts`\n * for a full list of available option hooks (most editors/IDEs allow you to\n * ctrl+click or cmd+click on mac the type definition below).\n * @type {import('./internal').Options}\n */\nconst options = {\n\t_catchError\n};\n\nexport default options;\n","import { slice } from './util';\nimport options from './options';\n\nlet vnodeId = 0;\n\n/**\n * Create an virtual node (used for JSX)\n * @param {import('./internal').VNode[\"type\"]} type The node name or Component\n * constructor for this virtual node\n * @param {object | null | undefined} [props] The properties of the virtual node\n * @param {Array<import('.').ComponentChildren>} [children] The children of the virtual node\n * @returns {import('./internal').VNode}\n */\nexport function createElement(type, props, children) {\n\tlet normalizedProps = {},\n\t\tkey,\n\t\tref,\n\t\ti;\n\tfor (i in props) {\n\t\tif (i == 'key') key = props[i];\n\t\telse if (i == 'ref') ref = props[i];\n\t\telse normalizedProps[i] = props[i];\n\t}\n\n\tif (arguments.length > 2) {\n\t\tnormalizedProps.children =\n\t\t\targuments.length > 3 ? slice.call(arguments, 2) : children;\n\t}\n\n\t// If a Component VNode, check for and apply defaultProps\n\t// Note: type may be undefined in development, must never error here.\n\tif (typeof type == 'function' && type.defaultProps != null) {\n\t\tfor (i in type.defaultProps) {\n\t\t\tif (normalizedProps[i] === undefined) {\n\t\t\t\tnormalizedProps[i] = type.defaultProps[i];\n\t\t\t}\n\t\t}\n\t}\n\n\treturn createVNode(type, normalizedProps, key, ref, null);\n}\n\n/**\n * Create a VNode (used internally by Preact)\n * @param {import('./internal').VNode[\"type\"]} type The node name or Component\n * Constructor for this virtual node\n * @param {object | string | number | null} props The properties of this virtual node.\n * If this virtual node represents a text node, this is the text of the node (string or number).\n * @param {string | number | null} key The key for this virtual node, used when\n * diffing it against its children\n * @param {import('./internal').VNode[\"ref\"]} ref The ref property that will\n * receive a reference to its created child\n * @returns {import('./internal').VNode}\n */\nexport function createVNode(type, props, key, ref, original) {\n\t// V8 seems to be better at detecting type shapes if the object is allocated from the same call site\n\t// Do not inline into createElement and coerceToVNode!\n\tconst vnode = {\n\t\ttype,\n\t\tprops,\n\t\tkey,\n\t\tref,\n\t\t_children: null,\n\t\t_parent: null,\n\t\t_depth: 0,\n\t\t_dom: null,\n\t\t// _nextDom must be initialized to undefined b/c it will eventually\n\t\t// be set to dom.nextSibling which can return `null` and it is important\n\t\t// to be able to distinguish between an uninitialized _nextDom and\n\t\t// a _nextDom that has been set to `null`\n\t\t_nextDom: undefined,\n\t\t_component: null,\n\t\t_hydrating: null,\n\t\tconstructor: undefined,\n\t\t_original: original == null ? ++vnodeId : original\n\t};\n\n\t// Only invoke the vnode hook if this was *not* a direct copy:\n\tif (original == null && options.vnode != null) options.vnode(vnode);\n\n\treturn vnode;\n}\n\nexport function createRef() {\n\treturn { current: null };\n}\n\nexport function Fragment(props) {\n\treturn props.children;\n}\n\n/**\n * Check if a the argument is a valid Preact VNode.\n * @param {*} vnode\n * @returns {vnode is import('./internal').VNode}\n */\nexport const isValidElement = vnode =>\n\tvnode != null && vnode.constructor === undefined;\n","import { assign } from './util';\nimport { diff, commitRoot } from './diff/index';\nimport options from './options';\nimport { Fragment } from './create-element';\n\n/**\n * Base Component class. Provides `setState()` and `forceUpdate()`, which\n * trigger rendering\n * @param {object} props The initial component props\n * @param {object} context The initial context from parent components'\n * getChildContext\n */\nexport function Component(props, context) {\n\tthis.props = props;\n\tthis.context = context;\n}\n\n/**\n * Update component state and schedule a re-render.\n * @this {import('./internal').Component}\n * @param {object | ((s: object, p: object) => object)} update A hash of state\n * properties to update with new values or a function that given the current\n * state and props returns a new partial state\n * @param {() => void} [callback] A function to be called once component state is\n * updated\n */\nComponent.prototype.setState = function (update, callback) {\n\t// only clone state when copying to nextState the first time.\n\tlet s;\n\tif (this._nextState != null && this._nextState !== this.state) {\n\t\ts = this._nextState;\n\t} else {\n\t\ts = this._nextState = assign({}, this.state);\n\t}\n\n\tif (typeof update == 'function') {\n\t\t// Some libraries like `immer` mark the current state as readonly,\n\t\t// preventing us from mutating it, so we need to clone it. See #2716\n\t\tupdate = update(assign({}, s), this.props);\n\t}\n\n\tif (update) {\n\t\tassign(s, update);\n\t}\n\n\t// Skip update if updater function returned null\n\tif (update == null) return;\n\n\tif (this._vnode) {\n\t\tif (callback) {\n\t\t\tthis._stateCallbacks.push(callback);\n\t\t}\n\t\tenqueueRender(this);\n\t}\n};\n\n/**\n * Immediately perform a synchronous re-render of the component\n * @this {import('./internal').Component}\n * @param {() => void} [callback] A function to be called after component is\n * re-rendered\n */\nComponent.prototype.forceUpdate = function (callback) {\n\tif (this._vnode) {\n\t\t// Set render mode so that we can differentiate where the render request\n\t\t// is coming from. We need this because forceUpdate should never call\n\t\t// shouldComponentUpdate\n\t\tthis._force = true;\n\t\tif (callback) this._renderCallbacks.push(callback);\n\t\tenqueueRender(this);\n\t}\n};\n\n/**\n * Accepts `props` and `state`, and returns a new Virtual DOM tree to build.\n * Virtual DOM is generally constructed via [JSX](http://jasonformat.com/wtf-is-jsx).\n * @param {object} props Props (eg: JSX attributes) received from parent\n * element/component\n * @param {object} state The component's current state\n * @param {object} context Context object, as returned by the nearest\n * ancestor's `getChildContext()`\n * @returns {import('./index').ComponentChildren | void}\n */\nComponent.prototype.render = Fragment;\n\n/**\n * @param {import('./internal').VNode} vnode\n * @param {number | null} [childIndex]\n */\nexport function getDomSibling(vnode, childIndex) {\n\tif (childIndex == null) {\n\t\t// Use childIndex==null as a signal to resume the search from the vnode's sibling\n\t\treturn vnode._parent\n\t\t\t? getDomSibling(vnode._parent, vnode._parent._children.indexOf(vnode) + 1)\n\t\t\t: null;\n\t}\n\n\tlet sibling;\n\tfor (; childIndex < vnode._children.length; childIndex++) {\n\t\tsibling = vnode._children[childIndex];\n\n\t\tif (sibling != null && sibling._dom != null) {\n\t\t\t// Since updateParentDomPointers keeps _dom pointer correct,\n\t\t\t// we can rely on _dom to tell us if this subtree contains a\n\t\t\t// rendered DOM node, and what the first rendered DOM node is\n\t\t\treturn sibling._dom;\n\t\t}\n\t}\n\n\t// If we get here, we have not found a DOM node in this vnode's children.\n\t// We must resume from this vnode's sibling (in it's parent _children array)\n\t// Only climb up and search the parent if we aren't searching through a DOM\n\t// VNode (meaning we reached the DOM parent of the original vnode that began\n\t// the search)\n\treturn typeof vnode.type == 'function' ? getDomSibling(vnode) : null;\n}\n\n/**\n * Trigger in-place re-rendering of a component.\n * @param {import('./internal').Component} component The component to rerender\n */\nfunction renderComponent(component) {\n\tlet vnode = component._vnode,\n\t\toldDom = vnode._dom,\n\t\tparentDom = component._parentDom;\n\n\tif (parentDom) {\n\t\tlet commitQueue = [];\n\t\tconst oldVNode = assign({}, vnode);\n\t\toldVNode._original = vnode._original + 1;\n\n\t\tdiff(\n\t\t\tparentDom,\n\t\t\tvnode,\n\t\t\toldVNode,\n\t\t\tcomponent._globalContext,\n\t\t\tparentDom.ownerSVGElement !== undefined,\n\t\t\tvnode._hydrating != null ? [oldDom] : null,\n\t\t\tcommitQueue,\n\t\t\toldDom == null ? getDomSibling(vnode) : oldDom,\n\t\t\tvnode._hydrating\n\t\t);\n\t\tcommitRoot(commitQueue, vnode);\n\n\t\tif (vnode._dom != oldDom) {\n\t\t\tupdateParentDomPointers(vnode);\n\t\t}\n\t}\n}\n\n/**\n * @param {import('./internal').VNode} vnode\n */\nfunction updateParentDomPointers(vnode) {\n\tif ((vnode = vnode._parent) != null && vnode._component != null) {\n\t\tvnode._dom = vnode._component.base = null;\n\t\tfor (let i = 0; i < vnode._children.length; i++) {\n\t\t\tlet child = vnode._children[i];\n\t\t\tif (child != null && child._dom != null) {\n\t\t\t\tvnode._dom = vnode._component.base = child._dom;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\n\t\treturn updateParentDomPointers(vnode);\n\t}\n}\n\n/**\n * The render queue\n * @type {Array<import('./internal').Component>}\n */\nlet rerenderQueue = [];\n\n/*\n * The value of `Component.debounce` must asynchronously invoke the passed in callback. It is\n * important that contributors to Preact can consistently reason about what calls to `setState`, etc.\n * do, and when their effects will be applied. See the links below for some further reading on designing\n * asynchronous APIs.\n * * [Designing APIs for Asynchrony](https://blog.izs.me/2013/08/designing-apis-for-asynchrony)\n * * [Callbacks synchronous and asynchronous](https://blog.ometer.com/2011/07/24/callbacks-synchronous-and-asynchronous/)\n */\n\nlet prevDebounce;\n\nconst defer =\n\ttypeof Promise == 'function'\n\t\t? Promise.prototype.then.bind(Promise.resolve())\n\t\t: setTimeout;\n\n/**\n * Enqueue a rerender of a component\n * @param {import('./internal').Component} c The component to rerender\n */\nexport function enqueueRender(c) {\n\tif (\n\t\t(!c._dirty &&\n\t\t\t(c._dirty = true) &&\n\t\t\trerenderQueue.push(c) &&\n\t\t\t!process._rerenderCount++) ||\n\t\tprevDebounce !== options.debounceRendering\n\t) {\n\t\tprevDebounce = options.debounceRendering;\n\t\t(prevDebounce || defer)(process);\n\t}\n}\n\n/**\n * @param {import('./internal').Component} a\n * @param {import('./internal').Component} b\n */\nconst depthSort = (a, b) => a._vnode._depth - b._vnode._depth;\n\n/** Flush the render queue by rerendering all queued components */\nfunction process() {\n\tlet c;\n\trerenderQueue.sort(depthSort);\n\t// Don't update `renderCount` yet. Keep its value non-zero to prevent unnecessary\n\t// process() calls from getting scheduled while `queue` is still being consumed.\n\twhile ((c = rerenderQueue.shift())) {\n\t\tif (c._dirty) {\n\t\t\tlet renderQueueLength = rerenderQueue.length;\n\t\t\trenderComponent(c);\n\t\t\tif (rerenderQueue.length > renderQueueLength) {\n\t\t\t\t// When i.e. rerendering a provider additional new items can be injected, we want to\n\t\t\t\t// keep the order from top to bottom with those new items so we can handle them in a\n\t\t\t\t// single pass\n\t\t\t\trerenderQueue.sort(depthSort);\n\t\t\t}\n\t\t}\n\t}\n\tprocess._rerenderCount = 0;\n}\n\nprocess._rerenderCount = 0;\n","import { enqueueRender } from './component';\n\nexport let i = 0;\n\nexport function createContext(defaultValue, contextId) {\n\tcontextId = '__cC' + i++;\n\n\tconst context = {\n\t\t_id: contextId,\n\t\t_defaultValue: defaultValue,\n\t\t/** @type {import('./internal').FunctionComponent} */\n\t\tConsumer(props, contextValue) {\n\t\t\t// return props.children(\n\t\t\t// \tcontext[contextId] ? context[contextId].props.value : defaultValue\n\t\t\t// );\n\t\t\treturn props.children(contextValue);\n\t\t},\n\t\t/** @type {import('./internal').FunctionComponent} */\n\t\tProvider(props) {\n\t\t\tif (!this.getChildContext) {\n\t\t\t\t/** @type {import('./internal').Component[]} */\n\t\t\t\tlet subs = [];\n\t\t\t\tlet ctx = {};\n\t\t\t\tctx[contextId] = this;\n\n\t\t\t\tthis.getChildContext = () => ctx;\n\n\t\t\t\tthis.shouldComponentUpdate = function (_props) {\n\t\t\t\t\tif (this.props.value !== _props.value) {\n\t\t\t\t\t\t// I think the forced value propagation here was only needed when `options.debounceRendering` was being bypassed:\n\t\t\t\t\t\t// https://github.com/preactjs/preact/commit/4d339fb803bea09e9f198abf38ca1bf8ea4b7771#diff-54682ce380935a717e41b8bfc54737f6R358\n\t\t\t\t\t\t// In those cases though, even with the value corrected, we're double-rendering all nodes.\n\t\t\t\t\t\t// It might be better to just tell folks not to use force-sync mode.\n\t\t\t\t\t\t// Currently, using `useContext()` in a class component will overwrite its `this.context` value.\n\t\t\t\t\t\t// subs.some(c => {\n\t\t\t\t\t\t// \tc.context = _props.value;\n\t\t\t\t\t\t// \tenqueueRender(c);\n\t\t\t\t\t\t// });\n\n\t\t\t\t\t\t// subs.some(c => {\n\t\t\t\t\t\t// \tc.context[contextId] = _props.value;\n\t\t\t\t\t\t// \tenqueueRender(c);\n\t\t\t\t\t\t// });\n\t\t\t\t\t\tsubs.some(c => {\n\t\t\t\t\t\t\tc._force = true;\n\t\t\t\t\t\t\tenqueueRender(c);\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t};\n\n\t\t\t\tthis.sub = c => {\n\t\t\t\t\tsubs.push(c);\n\t\t\t\t\tlet old = c.componentWillUnmount;\n\t\t\t\t\tc.componentWillUnmount = () => {\n\t\t\t\t\t\tsubs.splice(subs.indexOf(c), 1);\n\t\t\t\t\t\tif (old) old.call(c);\n\t\t\t\t\t};\n\t\t\t\t};\n\t\t\t}\n\n\t\t\treturn props.children;\n\t\t}\n\t};\n\n\t// Devtools needs access to the context object when it\n\t// encounters a Provider. This is necessary to support\n\t// setting `displayName` on the context object instead\n\t// of on the component itself. See:\n\t// https://reactjs.org/docs/context.html#contextdisplayname\n\n\treturn (context.Provider._contextRef = context.Consumer.contextType =\n\t\tcontext);\n}\n","export const EMPTY_OBJ = {};\nexport const EMPTY_ARR = [];\nexport const IS_NON_DIMENSIONAL =\n\t/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i;\n","import { diff, unmount, applyRef } from './index';\nimport { createVNode, Fragment } from '../create-element';\nimport { EMPTY_OBJ, EMPTY_ARR } from '../constants';\nimport { getDomSibling } from '../component';\n\n/**\n * Diff the children of a virtual node\n * @param {import('../internal').PreactElement} parentDom The DOM element whose\n * children are being diffed\n * @param {import('../internal').ComponentChildren[]} renderResult\n * @param {import('../internal').VNode} newParentVNode The new virtual\n * node whose children should be diff'ed against oldParentVNode\n * @param {import('../internal').VNode} oldParentVNode The old virtual\n * node whose children should be diff'ed against newParentVNode\n * @param {object} globalContext The current context object - modified by getChildContext\n * @param {boolean} isSvg Whether or not this DOM node is an SVG node\n * @param {Array<import('../internal').PreactElement>} excessDomChildren\n * @param {Array<import('../internal').Component>} commitQueue List of components\n * which have callbacks to invoke in commitRoot\n * @param {import('../internal').PreactElement} oldDom The current attached DOM\n * element any new dom elements should be placed around. Likely `null` on first\n * render (except when hydrating). Can be a sibling DOM element when diffing\n * Fragments that have siblings. In most cases, it starts out as `oldChildren[0]._dom`.\n * @param {boolean} isHydrating Whether or not we are in hydration\n */\nexport function diffChildren(\n\tparentDom,\n\trenderResult,\n\tnewParentVNode,\n\toldParentVNode,\n\tglobalContext,\n\tisSvg,\n\texcessDomChildren,\n\tcommitQueue,\n\toldDom,\n\tisHydrating\n) {\n\tlet i, j, oldVNode, childVNode, newDom, firstChildDom, refs;\n\n\t// This is a compression of oldParentVNode!=null && oldParentVNode != EMPTY_OBJ && oldParentVNode._children || EMPTY_ARR\n\t// as EMPTY_OBJ._children should be `undefined`.\n\tlet oldChildren = (oldParentVNode && oldParentVNode._children) || EMPTY_ARR;\n\n\tlet oldChildrenLength = oldChildren.length;\n\n\tnewParentVNode._children = [];\n\tfor (i = 0; i < renderResult.length; i++) {\n\t\tchildVNode = renderResult[i];\n\n\t\tif (\n\t\t\tchildVNode == null ||\n\t\t\ttypeof childVNode == 'boolean' ||\n\t\t\ttypeof childVNode == 'function'\n\t\t) {\n\t\t\tchildVNode = newParentVNode._children[i] = null;\n\t\t}\n\t\t// If this newVNode is being reused (e.g. <div>{reuse}{reuse}</div>) in the same diff,\n\t\t// or we are rendering a component (e.g. setState) copy the oldVNodes so it can have\n\t\t// it's own DOM & etc. pointers\n\t\telse if (\n\t\t\ttypeof childVNode == 'string' ||\n\t\t\ttypeof childVNode == 'number' ||\n\t\t\t// eslint-disable-next-line valid-typeof\n\t\t\ttypeof childVNode == 'bigint'\n\t\t) {\n\t\t\tchildVNode = newParentVNode._children[i] = createVNode(\n\t\t\t\tnull,\n\t\t\t\tchildVNode,\n\t\t\t\tnull,\n\t\t\t\tnull,\n\t\t\t\tchildVNode\n\t\t\t);\n\t\t} else if (Array.isArray(childVNode)) {\n\t\t\tchildVNode = newParentVNode._children[i] = createVNode(\n\t\t\t\tFragment,\n\t\t\t\t{ children: childVNode },\n\t\t\t\tnull,\n\t\t\t\tnull,\n\t\t\t\tnull\n\t\t\t);\n\t\t} else if (childVNode._depth > 0) {\n\t\t\t// VNode is already in use, clone it. This can happen in the following\n\t\t\t// scenario:\n\t\t\t//   const reuse = <div />\n\t\t\t//   <div>{reuse}<span />{reuse}</div>\n\t\t\tchildVNode = newParentVNode._children[i] = createVNode(\n\t\t\t\tchildVNode.type,\n\t\t\t\tchildVNode.props,\n\t\t\t\tchildVNode.key,\n\t\t\t\tchildVNode.ref ? childVNode.ref : null,\n\t\t\t\tchildVNode._original\n\t\t\t);\n\t\t} else {\n\t\t\tchildVNode = newParentVNode._children[i] = childVNode;\n\t\t}\n\n\t\t// Terser removes the `continue` here and wraps the loop body\n\t\t// in a `if (childVNode) { ... } condition\n\t\tif (childVNode == null) {\n\t\t\tcontinue;\n\t\t}\n\n\t\tchildVNode._parent = newParentVNode;\n\t\tchildVNode._depth = newParentVNode._depth + 1;\n\n\t\t// Check if we find a corresponding element in oldChildren.\n\t\t// If found, delete the array item by setting to `undefined`.\n\t\t// We use `undefined`, as `null` is reserved for empty placeholders\n\t\t// (holes).\n\t\toldVNode = oldChildren[i];\n\n\t\tif (\n\t\t\toldVNode === null ||\n\t\t\t(oldVNode &&\n\t\t\t\tchildVNode.key == oldVNode.key &&\n\t\t\t\tchildVNode.type === oldVNode.type)\n\t\t) {\n\t\t\toldChildren[i] = undefined;\n\t\t} else {\n\t\t\t// Either oldVNode === undefined or oldChildrenLength > 0,\n\t\t\t// so after this loop oldVNode == null or oldVNode is a valid value.\n\t\t\tfor (j = 0; j < oldChildrenLength; j++) {\n\t\t\t\toldVNode = oldChildren[j];\n\t\t\t\t// If childVNode is unkeyed, we only match similarly unkeyed nodes, otherwise we match by key.\n\t\t\t\t// We always match by type (in either case).\n\t\t\t\tif (\n\t\t\t\t\toldVNode &&\n\t\t\t\t\tchildVNode.key == oldVNode.key &&\n\t\t\t\t\tchildVNode.type === oldVNode.type\n\t\t\t\t) {\n\t\t\t\t\toldChildren[j] = undefined;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\toldVNode = null;\n\t\t\t}\n\t\t}\n\n\t\toldVNode = oldVNode || EMPTY_OBJ;\n\n\t\t// Morph the old element into the new one, but don't append it to the dom yet\n\t\tdiff(\n\t\t\tparentDom,\n\t\t\tchildVNode,\n\t\t\toldVNode,\n\t\t\tglobalContext,\n\t\t\tisSvg,\n\t\t\texcessDomChildren,\n\t\t\tcommitQueue,\n\t\t\toldDom,\n\t\t\tisHydrating\n\t\t);\n\n\t\tnewDom = childVNode._dom;\n\n\t\tif ((j = childVNode.ref) && oldVNode.ref != j) {\n\t\t\tif (!refs) refs = [];\n\t\t\tif (oldVNode.ref) refs.push(oldVNode.ref, null, childVNode);\n\t\t\trefs.push(j, childVNode._component || newDom, childVNode);\n\t\t}\n\n\t\tif (newDom != null) {\n\t\t\tif (firstChildDom == null) {\n\t\t\t\tfirstChildDom = newDom;\n\t\t\t}\n\n\t\t\tif (\n\t\t\t\ttypeof childVNode.type == 'function' &&\n\t\t\t\tchildVNode._children === oldVNode._children\n\t\t\t) {\n\t\t\t\tchildVNode._nextDom = oldDom = reorderChildren(\n\t\t\t\t\tchildVNode,\n\t\t\t\t\toldDom,\n\t\t\t\t\tparentDom\n\t\t\t\t);\n\t\t\t} else {\n\t\t\t\toldDom = placeChild(\n\t\t\t\t\tparentDom,\n\t\t\t\t\tchildVNode,\n\t\t\t\t\toldVNode,\n\t\t\t\t\toldChildren,\n\t\t\t\t\tnewDom,\n\t\t\t\t\toldDom\n\t\t\t\t);\n\t\t\t}\n\n\t\t\tif (typeof newParentVNode.type == 'function') {\n\t\t\t\t// Because the newParentVNode is Fragment-like, we need to set it's\n\t\t\t\t// _nextDom property to the nextSibling of its last child DOM node.\n\t\t\t\t//\n\t\t\t\t// `oldDom` contains the correct value here because if the last child\n\t\t\t\t// is a Fragment-like, then oldDom has already been set to that child's _nextDom.\n\t\t\t\t// If the last child is a DOM VNode, then oldDom will be set to that DOM\n\t\t\t\t// node's nextSibling.\n\t\t\t\tnewParentVNode._nextDom = oldDom;\n\t\t\t}\n\t\t} else if (\n\t\t\toldDom &&\n\t\t\toldVNode._dom == oldDom &&\n\t\t\toldDom.parentNode != parentDom\n\t\t) {\n\t\t\t// The above condition is to handle null placeholders. See test in placeholder.test.js:\n\t\t\t// `efficiently replace null placeholders in parent rerenders`\n\t\t\toldDom = getDomSibling(oldVNode);\n\t\t}\n\t}\n\n\tnewParentVNode._dom = firstChildDom;\n\n\t// Remove remaining oldChildren if there are any.\n\tfor (i = oldChildrenLength; i--; ) {\n\t\tif (oldChildren[i] != null) {\n\t\t\tif (\n\t\t\t\ttypeof newParentVNode.type == 'function' &&\n\t\t\t\toldChildren[i]._dom != null &&\n\t\t\t\toldChildren[i]._dom == newParentVNode._nextDom\n\t\t\t) {\n\t\t\t\t// If the newParentVNode.__nextDom points to a dom node that is about to\n\t\t\t\t// be unmounted, then get the next sibling of that vnode and set\n\t\t\t\t// _nextDom to it\n\t\t\t\tnewParentVNode._nextDom = getLastDom(oldParentVNode).nextSibling;\n\t\t\t}\n\n\t\t\tunmount(oldChildren[i], oldChildren[i]);\n\t\t}\n\t}\n\n\t// Set refs only after unmount\n\tif (refs) {\n\t\tfor (i = 0; i < refs.length; i++) {\n\t\t\tapplyRef(refs[i], refs[++i], refs[++i]);\n\t\t}\n\t}\n}\n\nfunction reorderChildren(childVNode, oldDom, parentDom) {\n\t// Note: VNodes in nested suspended trees may be missing _children.\n\tlet c = childVNode._children;\n\tlet tmp = 0;\n\tfor (; c && tmp < c.length; tmp++) {\n\t\tlet vnode = c[tmp];\n\t\tif (vnode) {\n\t\t\t// We typically enter this code path on sCU bailout, where we copy\n\t\t\t// oldVNode._children to newVNode._children. If that is the case, we need\n\t\t\t// to update the old children's _parent pointer to point to the newVNode\n\t\t\t// (childVNode here).\n\t\t\tvnode._parent = childVNode;\n\n\t\t\tif (typeof vnode.type == 'function') {\n\t\t\t\toldDom = reorderChildren(vnode, oldDom, parentDom);\n\t\t\t} else {\n\t\t\t\toldDom = placeChild(parentDom, vnode, vnode, c, vnode._dom, oldDom);\n\t\t\t}\n\t\t}\n\t}\n\n\treturn oldDom;\n}\n\n/**\n * Flatten and loop through the children of a virtual node\n * @param {import('../index').ComponentChildren} children The unflattened\n * children of a virtual node\n * @returns {import('../internal').VNode[]}\n */\nexport function toChildArray(children, out) {\n\tout = out || [];\n\tif (children == null || typeof children == 'boolean') {\n\t} else if (Array.isArray(children)) {\n\t\tchildren.some(child => {\n\t\t\ttoChildArray(child, out);\n\t\t});\n\t} else {\n\t\tout.push(children);\n\t}\n\treturn out;\n}\n\nfunction placeChild(\n\tparentDom,\n\tchildVNode,\n\toldVNode,\n\toldChildren,\n\tnewDom,\n\toldDom\n) {\n\tlet nextDom;\n\tif (childVNode._nextDom !== undefined) {\n\t\t// Only Fragments or components that return Fragment like VNodes will\n\t\t// have a non-undefined _nextDom. Continue the diff from the sibling\n\t\t// of last DOM child of this child VNode\n\t\tnextDom = childVNode._nextDom;\n\n\t\t// Eagerly cleanup _nextDom. We don't need to persist the value because\n\t\t// it is only used by `diffChildren` to determine where to resume the diff after\n\t\t// diffing Components and Fragments. Once we store it the nextDOM local var, we\n\t\t// can clean up the property\n\t\tchildVNode._nextDom = undefined;\n\t} else if (\n\t\toldVNode == null ||\n\t\tnewDom != oldDom ||\n\t\tnewDom.parentNode == null\n\t) {\n\t\touter: if (oldDom == null || oldDom.parentNode !== parentDom) {\n\t\t\tparentDom.appendChild(newDom);\n\t\t\tnextDom = null;\n\t\t} else {\n\t\t\t// `j<oldChildrenLength; j+=2` is an alternative to `j++<oldChildrenLength/2`\n\t\t\tfor (\n\t\t\t\tlet sibDom = oldDom, j = 0;\n\t\t\t\t(sibDom = sibDom.nextSibling) && j < oldChildren.length;\n\t\t\t\tj += 1\n\t\t\t) {\n\t\t\t\tif (sibDom == newDom) {\n\t\t\t\t\tbreak outer;\n\t\t\t\t}\n\t\t\t}\n\t\t\tparentDom.insertBefore(newDom, oldDom);\n\t\t\tnextDom = oldDom;\n\t\t}\n\t}\n\n\t// If we have pre-calculated the nextDOM node, use it. Else calculate it now\n\t// Strictly check for `undefined` here cuz `null` is a valid value of `nextDom`.\n\t// See more detail in create-element.js:createVNode\n\tif (nextDom !== undefined) {\n\t\toldDom = nextDom;\n\t} else {\n\t\toldDom = newDom.nextSibling;\n\t}\n\n\treturn oldDom;\n}\n\n/**\n * @param {import('../internal').VNode} vnode\n */\nfunction getLastDom(vnode) {\n\tif (vnode.type == null || typeof vnode.type === 'string') {\n\t\treturn vnode._dom;\n\t}\n\n\tif (vnode._children) {\n\t\tfor (let i = vnode._children.length - 1; i >= 0; i--) {\n\t\t\tlet child = vnode._children[i];\n\t\t\tif (child) {\n\t\t\t\tlet lastDom = getLastDom(child);\n\t\t\t\tif (lastDom) {\n\t\t\t\t\treturn lastDom;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\treturn null;\n}\n","import { IS_NON_DIMENSIONAL } from '../constants';\nimport options from '../options';\n\n/**\n * Diff the old and new properties of a VNode and apply changes to the DOM node\n * @param {import('../internal').PreactElement} dom The DOM node to apply\n * changes to\n * @param {object} newProps The new props\n * @param {object} oldProps The old props\n * @param {boolean} isSvg Whether or not this node is an SVG node\n * @param {boolean} hydrate Whether or not we are in hydration mode\n */\nexport function diffProps(dom, newProps, oldProps, isSvg, hydrate) {\n\tlet i;\n\n\tfor (i in oldProps) {\n\t\tif (i !== 'children' && i !== 'key' && !(i in newProps)) {\n\t\t\tsetProperty(dom, i, null, oldProps[i], isSvg);\n\t\t}\n\t}\n\n\tfor (i in newProps) {\n\t\tif (\n\t\t\t(!hydrate || typeof newProps[i] == 'function') &&\n\t\t\ti !== 'children' &&\n\t\t\ti !== 'key' &&\n\t\t\ti !== 'value' &&\n\t\t\ti !== 'checked' &&\n\t\t\toldProps[i] !== newProps[i]\n\t\t) {\n\t\t\tsetProperty(dom, i, newProps[i], oldProps[i], isSvg);\n\t\t}\n\t}\n}\n\nfunction setStyle(style, key, value) {\n\tif (key[0] === '-') {\n\t\tstyle.setProperty(key, value == null ? '' : value);\n\t} else if (value == null) {\n\t\tstyle[key] = '';\n\t} else if (typeof value != 'number' || IS_NON_DIMENSIONAL.test(key)) {\n\t\tstyle[key] = value;\n\t} else {\n\t\tstyle[key] = value + 'px';\n\t}\n}\n\n/**\n * Set a property value on a DOM node\n * @param {import('../internal').PreactElement} dom The DOM node to modify\n * @param {string} name The name of the property to set\n * @param {*} value The value to set the property to\n * @param {*} oldValue The old value the property had\n * @param {boolean} isSvg Whether or not this DOM node is an SVG node or not\n */\nexport function setProperty(dom, name, value, oldValue, isSvg) {\n\tlet useCapture;\n\n\to: if (name === 'style') {\n\t\tif (typeof value == 'string') {\n\t\t\tdom.style.cssText = value;\n\t\t} else {\n\t\t\tif (typeof oldValue == 'string') {\n\t\t\t\tdom.style.cssText = oldValue = '';\n\t\t\t}\n\n\t\t\tif (oldValue) {\n\t\t\t\tfor (name in oldValue) {\n\t\t\t\t\tif (!(value && name in value)) {\n\t\t\t\t\t\tsetStyle(dom.style, name, '');\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (value) {\n\t\t\t\tfor (name in value) {\n\t\t\t\t\tif (!oldValue || value[name] !== oldValue[name]) {\n\t\t\t\t\t\tsetStyle(dom.style, name, value[name]);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\t// Benchmark for comparison: https://esbench.com/bench/574c954bdb965b9a00965ac6\n\telse if (name[0] === 'o' && name[1] === 'n') {\n\t\tuseCapture = name !== (name = name.replace(/Capture$/, ''));\n\n\t\t// Infer correct casing for DOM built-in events:\n\t\tif (name.toLowerCase() in dom) name = name.toLowerCase().slice(2);\n\t\telse name = name.slice(2);\n\n\t\tif (!dom._listeners) dom._listeners = {};\n\t\tdom._listeners[name + useCapture] = value;\n\n\t\tif (value) {\n\t\t\tif (!oldValue) {\n\t\t\t\tconst handler = useCapture ? eventProxyCapture : eventProxy;\n\t\t\t\tdom.addEventListener(name, handler, useCapture);\n\t\t\t}\n\t\t} else {\n\t\t\tconst handler = useCapture ? eventProxyCapture : eventProxy;\n\t\t\tdom.removeEventListener(name, handler, useCapture);\n\t\t}\n\t} else if (name !== 'dangerouslySetInnerHTML') {\n\t\tif (isSvg) {\n\t\t\t// Normalize incorrect prop usage for SVG:\n\t\t\t// - xlink:href / xlinkHref --> href (xlink:href was removed from SVG and isn't needed)\n\t\t\t// - className --> class\n\t\t\tname = name.replace(/xlink(H|:h)/, 'h').replace(/sName$/, 's');\n\t\t} else if (\n\t\t\tname !== 'width' &&\n\t\t\tname !== 'height' &&\n\t\t\tname !== 'href' &&\n\t\t\tname !== 'list' &&\n\t\t\tname !== 'form' &&\n\t\t\t// Default value in browsers is `-1` and an empty string is\n\t\t\t// cast to `0` instead\n\t\t\tname !== 'tabIndex' &&\n\t\t\tname !== 'download' &&\n\t\t\tname in dom\n\t\t) {\n\t\t\ttry {\n\t\t\t\tdom[name] = value == null ? '' : value;\n\t\t\t\t// labelled break is 1b smaller here than a return statement (sorry)\n\t\t\t\tbreak o;\n\t\t\t} catch (e) {}\n\t\t}\n\n\t\t// aria- and data- attributes have no boolean representation.\n\t\t// A `false` value is different from the attribute not being\n\t\t// present, so we can't remove it. For non-boolean aria\n\t\t// attributes we could treat false as a removal, but the\n\t\t// amount of exceptions would cost too many bytes. On top of\n\t\t// that other frameworks generally stringify `false`.\n\n\t\tif (typeof value === 'function') {\n\t\t\t// never serialize functions as attribute values\n\t\t} else if (value != null && (value !== false || name[4] === '-')) {\n\t\t\tdom.setAttribute(name, value);\n\t\t} else {\n\t\t\tdom.removeAttribute(name);\n\t\t}\n\t}\n}\n\n/**\n * Proxy an event to hooked event handlers\n * @param {Event} e The event object from the browser\n * @private\n */\nfunction eventProxy(e) {\n\treturn this._listeners[e.type + false](options.event ? options.event(e) : e);\n}\n\nfunction eventProxyCapture(e) {\n\treturn this._listeners[e.type + true](options.event ? options.event(e) : e);\n}\n","import { EMPTY_OBJ } from '../constants';\nimport { Component, getDomSibling } from '../component';\nimport { Fragment } from '../create-element';\nimport { diffChildren } from './children';\nimport { diffProps, setProperty } from './props';\nimport { assign, removeNode, slice } from '../util';\nimport options from '../options';\n\n/**\n * Diff two virtual nodes and apply proper changes to the DOM\n * @param {import('../internal').PreactElement} parentDom The parent of the DOM element\n * @param {import('../internal').VNode} newVNode The new virtual node\n * @param {import('../internal').VNode} oldVNode The old virtual node\n * @param {object} globalContext The current context object. Modified by getChildContext\n * @param {boolean} isSvg Whether or not this element is an SVG node\n * @param {Array<import('../internal').PreactElement>} excessDomChildren\n * @param {Array<import('../internal').Component>} commitQueue List of components\n * which have callbacks to invoke in commitRoot\n * @param {import('../internal').PreactElement} oldDom The current attached DOM\n * element any new dom elements should be placed around. Likely `null` on first\n * render (except when hydrating). Can be a sibling DOM element when diffing\n * Fragments that have siblings. In most cases, it starts out as `oldChildren[0]._dom`.\n * @param {boolean} [isHydrating] Whether or not we are in hydration\n */\nexport function diff(\n\tparentDom,\n\tnewVNode,\n\toldVNode,\n\tglobalContext,\n\tisSvg,\n\texcessDomChildren,\n\tcommitQueue,\n\toldDom,\n\tisHydrating\n) {\n\tlet tmp,\n\t\tnewType = newVNode.type;\n\n\t// When passing through createElement it assigns the object\n\t// constructor as undefined. This to prevent JSON-injection.\n\tif (newVNode.constructor !== undefined) return null;\n\n\t// If the previous diff bailed out, resume creating/hydrating.\n\tif (oldVNode._hydrating != null) {\n\t\tisHydrating = oldVNode._hydrating;\n\t\toldDom = newVNode._dom = oldVNode._dom;\n\t\t// if we resume, we want the tree to be \"unlocked\"\n\t\tnewVNode._hydrating = null;\n\t\texcessDomChildren = [oldDom];\n\t}\n\n\tif ((tmp = options._diff)) tmp(newVNode);\n\n\ttry {\n\t\touter: if (typeof newType == 'function') {\n\t\t\tlet c, isNew, oldProps, oldState, snapshot, clearProcessingException;\n\t\t\tlet newProps = newVNode.props;\n\n\t\t\t// Necessary for createContext api. Setting this property will pass\n\t\t\t// the context value as `this.context` just for this component.\n\t\t\ttmp = newType.contextType;\n\t\t\tlet provider = tmp && globalContext[tmp._id];\n\t\t\tlet componentContext = tmp\n\t\t\t\t? provider\n\t\t\t\t\t? provider.props.value\n\t\t\t\t\t: tmp._defaultValue\n\t\t\t\t: globalContext;\n\n\t\t\t// Get component and set it to `c`\n\t\t\tif (oldVNode._component) {\n\t\t\t\tc = newVNode._component = oldVNode._component;\n\t\t\t\tclearProcessingException = c._processingException = c._pendingError;\n\t\t\t} else {\n\t\t\t\t// Instantiate the new component\n\t\t\t\tif ('prototype' in newType && newType.prototype.render) {\n\t\t\t\t\t// @ts-ignore The check above verifies that newType is suppose to be constructed\n\t\t\t\t\tnewVNode._component = c = new newType(newProps, componentContext); // eslint-disable-line new-cap\n\t\t\t\t} else {\n\t\t\t\t\t// @ts-ignore Trust me, Component implements the interface we want\n\t\t\t\t\tnewVNode._component = c = new Component(newProps, componentContext);\n\t\t\t\t\tc.constructor = newType;\n\t\t\t\t\tc.render = doRender;\n\t\t\t\t}\n\t\t\t\tif (provider) provider.sub(c);\n\n\t\t\t\tc.props = newProps;\n\t\t\t\tif (!c.state) c.state = {};\n\t\t\t\tc.context = componentContext;\n\t\t\t\tc._globalContext = globalContext;\n\t\t\t\tisNew = c._dirty = true;\n\t\t\t\tc._renderCallbacks = [];\n\t\t\t\tc._stateCallbacks = [];\n\t\t\t}\n\n\t\t\t// Invoke getDerivedStateFromProps\n\t\t\tif (c._nextState == null) {\n\t\t\t\tc._nextState = c.state;\n\t\t\t}\n\n\t\t\tif (newType.getDerivedStateFromProps != null) {\n\t\t\t\tif (c._nextState == c.state) {\n\t\t\t\t\tc._nextState = assign({}, c._nextState);\n\t\t\t\t}\n\n\t\t\t\tassign(\n\t\t\t\t\tc._nextState,\n\t\t\t\t\tnewType.getDerivedStateFromProps(newProps, c._nextState)\n\t\t\t\t);\n\t\t\t}\n\n\t\t\toldProps = c.props;\n\t\t\toldState = c.state;\n\t\t\tc._vnode = newVNode;\n\n\t\t\t// Invoke pre-render lifecycle methods\n\t\t\tif (isNew) {\n\t\t\t\tif (\n\t\t\t\t\tnewType.getDerivedStateFromProps == null &&\n\t\t\t\t\tc.componentWillMount != null\n\t\t\t\t) {\n\t\t\t\t\tc.componentWillMount();\n\t\t\t\t}\n\n\t\t\t\tif (c.componentDidMount != null) {\n\t\t\t\t\tc._renderCallbacks.push(c.componentDidMount);\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tif (\n\t\t\t\t\tnewType.getDerivedStateFromProps == null &&\n\t\t\t\t\tnewProps !== oldProps &&\n\t\t\t\t\tc.componentWillReceiveProps != null\n\t\t\t\t) {\n\t\t\t\t\tc.componentWillReceiveProps(newProps, componentContext);\n\t\t\t\t}\n\n\t\t\t\tif (\n\t\t\t\t\t(!c._force &&\n\t\t\t\t\t\tc.shouldComponentUpdate != null &&\n\t\t\t\t\t\tc.shouldComponentUpdate(\n\t\t\t\t\t\t\tnewProps,\n\t\t\t\t\t\t\tc._nextState,\n\t\t\t\t\t\t\tcomponentContext\n\t\t\t\t\t\t) === false) ||\n\t\t\t\t\tnewVNode._original === oldVNode._original\n\t\t\t\t) {\n\t\t\t\t\t// More info about this here: https://gist.github.com/JoviDeCroock/bec5f2ce93544d2e6070ef8e0036e4e8\n\t\t\t\t\tif (newVNode._original !== oldVNode._original) {\n\t\t\t\t\t\t// When we are dealing with a bail because of sCU we have to update\n\t\t\t\t\t\t// the props, state and dirty-state.\n\t\t\t\t\t\t// when we are dealing with strict-equality we don't as the child could still\n\t\t\t\t\t\t// be dirtied see #3883\n\t\t\t\t\t\tc.props = newProps;\n\t\t\t\t\t\tc.state = c._nextState;\n\t\t\t\t\t\tc._dirty = false;\n\t\t\t\t\t}\n\n\t\t\t\t\t// In cases of bailing due to strict-equality we have to reset force as well\n\t\t\t\t\tc._force = false;\n\t\t\t\t\tnewVNode._dom = oldVNode._dom;\n\t\t\t\t\tnewVNode._children = oldVNode._children;\n\t\t\t\t\tnewVNode._children.forEach(vnode => {\n\t\t\t\t\t\tif (vnode) vnode._parent = newVNode;\n\t\t\t\t\t});\n\n\t\t\t\t\tfor (let i = 0; i < c._stateCallbacks.length; i++) {\n\t\t\t\t\t\tc._renderCallbacks.push(c._stateCallbacks[i]);\n\t\t\t\t\t}\n\t\t\t\t\tc._stateCallbacks = [];\n\n\t\t\t\t\tif (c._renderCallbacks.length) {\n\t\t\t\t\t\tcommitQueue.push(c);\n\t\t\t\t\t}\n\n\t\t\t\t\tbreak outer;\n\t\t\t\t}\n\n\t\t\t\tif (c.componentWillUpdate != null) {\n\t\t\t\t\tc.componentWillUpdate(newProps, c._nextState, componentContext);\n\t\t\t\t}\n\n\t\t\t\tif (c.componentDidUpdate != null) {\n\t\t\t\t\tc._renderCallbacks.push(() => {\n\t\t\t\t\t\tc.componentDidUpdate(oldProps, oldState, snapshot);\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tc.context = componentContext;\n\t\t\tc.props = newProps;\n\t\t\tc._parentDom = parentDom;\n\n\t\t\tlet renderHook = options._render,\n\t\t\t\tcount = 0;\n\t\t\tif ('prototype' in newType && newType.prototype.render) {\n\t\t\t\tc.state = c._nextState;\n\t\t\t\tc._dirty = false;\n\n\t\t\t\tif (renderHook) renderHook(newVNode);\n\n\t\t\t\ttmp = c.render(c.props, c.state, c.context);\n\n\t\t\t\tfor (let i = 0; i < c._stateCallbacks.length; i++) {\n\t\t\t\t\tc._renderCallbacks.push(c._stateCallbacks[i]);\n\t\t\t\t}\n\t\t\t\tc._stateCallbacks = [];\n\t\t\t} else {\n\t\t\t\tdo {\n\t\t\t\t\tc._dirty = false;\n\t\t\t\t\tif (renderHook) renderHook(newVNode);\n\n\t\t\t\t\ttmp = c.render(c.props, c.state, c.context);\n\n\t\t\t\t\t// Handle setState called in render, see #2553\n\t\t\t\t\tc.state = c._nextState;\n\t\t\t\t} while (c._dirty && ++count < 25);\n\t\t\t}\n\n\t\t\t// Handle setState called in render, see #2553\n\t\t\tc.state = c._nextState;\n\n\t\t\tif (c.getChildContext != null) {\n\t\t\t\tglobalContext = assign(assign({}, globalContext), c.getChildContext());\n\t\t\t}\n\n\t\t\tif (!isNew && c.getSnapshotBeforeUpdate != null) {\n\t\t\t\tsnapshot = c.getSnapshotBeforeUpdate(oldProps, oldState);\n\t\t\t}\n\n\t\t\tlet isTopLevelFragment =\n\t\t\t\ttmp != null && tmp.type === Fragment && tmp.key == null;\n\t\t\tlet renderResult = isTopLevelFragment ? tmp.props.children : tmp;\n\n\t\t\tdiffChildren(\n\t\t\t\tparentDom,\n\t\t\t\tArray.isArray(renderResult) ? renderResult : [renderResult],\n\t\t\t\tnewVNode,\n\t\t\t\toldVNode,\n\t\t\t\tglobalContext,\n\t\t\t\tisSvg,\n\t\t\t\texcessDomChildren,\n\t\t\t\tcommitQueue,\n\t\t\t\toldDom,\n\t\t\t\tisHydrating\n\t\t\t);\n\n\t\t\tc.base = newVNode._dom;\n\n\t\t\t// We successfully rendered this VNode, unset any stored hydration/bailout state:\n\t\t\tnewVNode._hydrating = null;\n\n\t\t\tif (c._renderCallbacks.length) {\n\t\t\t\tcommitQueue.push(c);\n\t\t\t}\n\n\t\t\tif (clearProcessingException) {\n\t\t\t\tc._pendingError = c._processingException = null;\n\t\t\t}\n\n\t\t\tc._force = false;\n\t\t} else if (\n\t\t\texcessDomChildren == null &&\n\t\t\tnewVNode._original === oldVNode._original\n\t\t) {\n\t\t\tnewVNode._children = oldVNode._children;\n\t\t\tnewVNode._dom = oldVNode._dom;\n\t\t} else {\n\t\t\tnewVNode._dom = diffElementNodes(\n\t\t\t\toldVNode._dom,\n\t\t\t\tnewVNode,\n\t\t\t\toldVNode,\n\t\t\t\tglobalContext,\n\t\t\t\tisSvg,\n\t\t\t\texcessDomChildren,\n\t\t\t\tcommitQueue,\n\t\t\t\tisHydrating\n\t\t\t);\n\t\t}\n\n\t\tif ((tmp = options.diffed)) tmp(newVNode);\n\t} catch (e) {\n\t\tnewVNode._original = null;\n\t\t// if hydrating or creating initial tree, bailout preserves DOM:\n\t\tif (isHydrating || excessDomChildren != null) {\n\t\t\tnewVNode._dom = oldDom;\n\t\t\tnewVNode._hydrating = !!isHydrating;\n\t\t\texcessDomChildren[excessDomChildren.indexOf(oldDom)] = null;\n\t\t\t// ^ could possibly be simplified to:\n\t\t\t// excessDomChildren.length = 0;\n\t\t}\n\t\toptions._catchError(e, newVNode, oldVNode);\n\t}\n}\n\n/**\n * @param {Array<import('../internal').Component>} commitQueue List of components\n * which have callbacks to invoke in commitRoot\n * @param {import('../internal').VNode} root\n */\nexport function commitRoot(commitQueue, root) {\n\tif (options._commit) options._commit(root, commitQueue);\n\n\tcommitQueue.some(c => {\n\t\ttry {\n\t\t\t// @ts-ignore Reuse the commitQueue variable here so the type changes\n\t\t\tcommitQueue = c._renderCallbacks;\n\t\t\tc._renderCallbacks = [];\n\t\t\tcommitQueue.some(cb => {\n\t\t\t\t// @ts-ignore See above ts-ignore on commitQueue\n\t\t\t\tcb.call(c);\n\t\t\t});\n\t\t} catch (e) {\n\t\t\toptions._catchError(e, c._vnode);\n\t\t}\n\t});\n}\n\n/**\n * Diff two virtual nodes representing DOM element\n * @param {import('../internal').PreactElement} dom The DOM element representing\n * the virtual nodes being diffed\n * @param {import('../internal').VNode} newVNode The new virtual node\n * @param {import('../internal').VNode} oldVNode The old virtual node\n * @param {object} globalContext The current context object\n * @param {boolean} isSvg Whether or not this DOM node is an SVG node\n * @param {*} excessDomChildren\n * @param {Array<import('../internal').Component>} commitQueue List of components\n * which have callbacks to invoke in commitRoot\n * @param {boolean} isHydrating Whether or not we are in hydration\n * @returns {import('../internal').PreactElement}\n */\nfunction diffElementNodes(\n\tdom,\n\tnewVNode,\n\toldVNode,\n\tglobalContext,\n\tisSvg,\n\texcessDomChildren,\n\tcommitQueue,\n\tisHydrating\n) {\n\tlet oldProps = oldVNode.props;\n\tlet newProps = newVNode.props;\n\tlet nodeType = newVNode.type;\n\tlet i = 0;\n\n\t// Tracks entering and exiting SVG namespace when descending through the tree.\n\tif (nodeType === 'svg') isSvg = true;\n\n\tif (excessDomChildren != null) {\n\t\tfor (; i < excessDomChildren.length; i++) {\n\t\t\tconst child = excessDomChildren[i];\n\n\t\t\t// if newVNode matches an element in excessDomChildren or the `dom`\n\t\t\t// argument matches an element in excessDomChildren, remove it from\n\t\t\t// excessDomChildren so it isn't later removed in diffChildren\n\t\t\tif (\n\t\t\t\tchild &&\n\t\t\t\t'setAttribute' in child === !!nodeType &&\n\t\t\t\t(nodeType ? child.localName === nodeType : child.nodeType === 3)\n\t\t\t) {\n\t\t\t\tdom = child;\n\t\t\t\texcessDomChildren[i] = null;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t}\n\n\tif (dom == null) {\n\t\tif (nodeType === null) {\n\t\t\t// @ts-ignore createTextNode returns Text, we expect PreactElement\n\t\t\treturn document.createTextNode(newProps);\n\t\t}\n\n\t\tif (isSvg) {\n\t\t\tdom = document.createElementNS(\n\t\t\t\t'http://www.w3.org/2000/svg',\n\t\t\t\t// @ts-ignore We know `newVNode.type` is a string\n\t\t\t\tnodeType\n\t\t\t);\n\t\t} else {\n\t\t\tdom = document.createElement(\n\t\t\t\t// @ts-ignore We know `newVNode.type` is a string\n\t\t\t\tnodeType,\n\t\t\t\tnewProps.is && newProps\n\t\t\t);\n\t\t}\n\n\t\t// we created a new parent, so none of the previously attached children can be reused:\n\t\texcessDomChildren = null;\n\t\t// we are creating a new node, so we can assume this is a new subtree (in case we are hydrating), this deopts the hydrate\n\t\tisHydrating = false;\n\t}\n\n\tif (nodeType === null) {\n\t\t// During hydration, we still have to split merged text from SSR'd HTML.\n\t\tif (oldProps !== newProps && (!isHydrating || dom.data !== newProps)) {\n\t\t\tdom.data = newProps;\n\t\t}\n\t} else {\n\t\t// If excessDomChildren was not null, repopulate it with the current element's children:\n\t\texcessDomChildren = excessDomChildren && slice.call(dom.childNodes);\n\n\t\toldProps = oldVNode.props || EMPTY_OBJ;\n\n\t\tlet oldHtml = oldProps.dangerouslySetInnerHTML;\n\t\tlet newHtml = newProps.dangerouslySetInnerHTML;\n\n\t\t// During hydration, props are not diffed at all (including dangerouslySetInnerHTML)\n\t\t// @TODO we should warn in debug mode when props don't match here.\n\t\tif (!isHydrating) {\n\t\t\t// But, if we are in a situation where we are using existing DOM (e.g. replaceNode)\n\t\t\t// we should read the existing DOM attributes to diff them\n\t\t\tif (excessDomChildren != null) {\n\t\t\t\toldProps = {};\n\t\t\t\tfor (i = 0; i < dom.attributes.length; i++) {\n\t\t\t\t\toldProps[dom.attributes[i].name] = dom.attributes[i].value;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (newHtml || oldHtml) {\n\t\t\t\t// Avoid re-applying the same '__html' if it did not changed between re-render\n\t\t\t\tif (\n\t\t\t\t\t!newHtml ||\n\t\t\t\t\t((!oldHtml || newHtml.__html != oldHtml.__html) &&\n\t\t\t\t\t\tnewHtml.__html !== dom.innerHTML)\n\t\t\t\t) {\n\t\t\t\t\tdom.innerHTML = (newHtml && newHtml.__html) || '';\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tdiffProps(dom, newProps, oldProps, isSvg, isHydrating);\n\n\t\t// If the new vnode didn't have dangerouslySetInnerHTML, diff its children\n\t\tif (newHtml) {\n\t\t\tnewVNode._children = [];\n\t\t} else {\n\t\t\ti = newVNode.props.children;\n\t\t\tdiffChildren(\n\t\t\t\tdom,\n\t\t\t\tArray.isArray(i) ? i : [i],\n\t\t\t\tnewVNode,\n\t\t\t\toldVNode,\n\t\t\t\tglobalContext,\n\t\t\t\tisSvg && nodeType !== 'foreignObject',\n\t\t\t\texcessDomChildren,\n\t\t\t\tcommitQueue,\n\t\t\t\texcessDomChildren\n\t\t\t\t\t? excessDomChildren[0]\n\t\t\t\t\t: oldVNode._children && getDomSibling(oldVNode, 0),\n\t\t\t\tisHydrating\n\t\t\t);\n\n\t\t\t// Remove children that are not part of any vnode.\n\t\t\tif (excessDomChildren != null) {\n\t\t\t\tfor (i = excessDomChildren.length; i--; ) {\n\t\t\t\t\tif (excessDomChildren[i] != null) removeNode(excessDomChildren[i]);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\t// (as above, don't diff props during hydration)\n\t\tif (!isHydrating) {\n\t\t\tif (\n\t\t\t\t'value' in newProps &&\n\t\t\t\t(i = newProps.value) !== undefined &&\n\t\t\t\t// #2756 For the <progress>-element the initial value is 0,\n\t\t\t\t// despite the attribute not being present. When the attribute\n\t\t\t\t// is missing the progress bar is treated as indeterminate.\n\t\t\t\t// To fix that we'll always update it when it is 0 for progress elements\n\t\t\t\t(i !== dom.value ||\n\t\t\t\t\t(nodeType === 'progress' && !i) ||\n\t\t\t\t\t// This is only for IE 11 to fix <select> value not being updated.\n\t\t\t\t\t// To avoid a stale select value we need to set the option.value\n\t\t\t\t\t// again, which triggers IE11 to re-evaluate the select value\n\t\t\t\t\t(nodeType === 'option' && i !== oldProps.value))\n\t\t\t) {\n\t\t\t\tsetProperty(dom, 'value', i, oldProps.value, false);\n\t\t\t}\n\t\t\tif (\n\t\t\t\t'checked' in newProps &&\n\t\t\t\t(i = newProps.checked) !== undefined &&\n\t\t\t\ti !== dom.checked\n\t\t\t) {\n\t\t\t\tsetProperty(dom, 'checked', i, oldProps.checked, false);\n\t\t\t}\n\t\t}\n\t}\n\n\treturn dom;\n}\n\n/**\n * Invoke or update a ref, depending on whether it is a function or object ref.\n * @param {object|function} ref\n * @param {any} value\n * @param {import('../internal').VNode} vnode\n */\nexport function applyRef(ref, value, vnode) {\n\ttry {\n\t\tif (typeof ref == 'function') ref(value);\n\t\telse ref.current = value;\n\t} catch (e) {\n\t\toptions._catchError(e, vnode);\n\t}\n}\n\n/**\n * Unmount a virtual node from the tree and apply DOM changes\n * @param {import('../internal').VNode} vnode The virtual node to unmount\n * @param {import('../internal').VNode} parentVNode The parent of the VNode that\n * initiated the unmount\n * @param {boolean} [skipRemove] Flag that indicates that a parent node of the\n * current element is already detached from the DOM.\n */\nexport function unmount(vnode, parentVNode, skipRemove) {\n\tlet r;\n\tif (options.unmount) options.unmount(vnode);\n\n\tif ((r = vnode.ref)) {\n\t\tif (!r.current || r.current === vnode._dom) {\n\t\t\tapplyRef(r, null, parentVNode);\n\t\t}\n\t}\n\n\tif ((r = vnode._component) != null) {\n\t\tif (r.componentWillUnmount) {\n\t\t\ttry {\n\t\t\t\tr.componentWillUnmount();\n\t\t\t} catch (e) {\n\t\t\t\toptions._catchError(e, parentVNode);\n\t\t\t}\n\t\t}\n\n\t\tr.base = r._parentDom = null;\n\t\tvnode._component = undefined;\n\t}\n\n\tif ((r = vnode._children)) {\n\t\tfor (let i = 0; i < r.length; i++) {\n\t\t\tif (r[i]) {\n\t\t\t\tunmount(\n\t\t\t\t\tr[i],\n\t\t\t\t\tparentVNode,\n\t\t\t\t\tskipRemove || typeof vnode.type !== 'function'\n\t\t\t\t);\n\t\t\t}\n\t\t}\n\t}\n\n\tif (!skipRemove && vnode._dom != null) {\n\t\tremoveNode(vnode._dom);\n\t}\n\n\t// Must be set to `undefined` to properly clean up `_nextDom`\n\t// for which `null` is a valid value. See comment in `create-element.js`\n\tvnode._parent = vnode._dom = vnode._nextDom = undefined;\n}\n\n/** The `.render()` method for a PFC backing instance. */\nfunction doRender(props, state, context) {\n\treturn this.constructor(props, context);\n}\n","import { EMPTY_OBJ } from './constants';\nimport { commitRoot, diff } from './diff/index';\nimport { createElement, Fragment } from './create-element';\nimport options from './options';\nimport { slice } from './util';\n\n/**\n * Render a Preact virtual node into a DOM element\n * @param {import('./internal').ComponentChild} vnode The virtual node to render\n * @param {import('./internal').PreactElement} parentDom The DOM element to\n * render into\n * @param {import('./internal').PreactElement | object} [replaceNode] Optional: Attempt to re-use an\n * existing DOM tree rooted at `replaceNode`\n */\nexport function render(vnode, parentDom, replaceNode) {\n\tif (options._root) options._root(vnode, parentDom);\n\n\t// We abuse the `replaceNode` parameter in `hydrate()` to signal if we are in\n\t// hydration mode or not by passing the `hydrate` function instead of a DOM\n\t// element..\n\tlet isHydrating = typeof replaceNode === 'function';\n\n\t// To be able to support calling `render()` multiple times on the same\n\t// DOM node, we need to obtain a reference to the previous tree. We do\n\t// this by assigning a new `_children` property to DOM nodes which points\n\t// to the last rendered tree. By default this property is not present, which\n\t// means that we are mounting a new tree for the first time.\n\tlet oldVNode = isHydrating\n\t\t? null\n\t\t: (replaceNode && replaceNode._children) || parentDom._children;\n\n\tvnode = ((!isHydrating && replaceNode) || parentDom)._children =\n\t\tcreateElement(Fragment, null, [vnode]);\n\n\t// List of effects that need to be called after diffing.\n\tlet commitQueue = [];\n\tdiff(\n\t\tparentDom,\n\t\t// Determine the new vnode tree and store it on the DOM element on\n\t\t// our custom `_children` property.\n\t\tvnode,\n\t\toldVNode || EMPTY_OBJ,\n\t\tEMPTY_OBJ,\n\t\tparentDom.ownerSVGElement !== undefined,\n\t\t!isHydrating && replaceNode\n\t\t\t? [replaceNode]\n\t\t\t: oldVNode\n\t\t\t? null\n\t\t\t: parentDom.firstChild\n\t\t\t? slice.call(parentDom.childNodes)\n\t\t\t: null,\n\t\tcommitQueue,\n\t\t!isHydrating && replaceNode\n\t\t\t? replaceNode\n\t\t\t: oldVNode\n\t\t\t? oldVNode._dom\n\t\t\t: parentDom.firstChild,\n\t\tisHydrating\n\t);\n\n\t// Flush all queued effects\n\tcommitRoot(commitQueue, vnode);\n}\n\n/**\n * Update an existing DOM element with data from a Preact virtual node\n * @param {import('./internal').ComponentChild} vnode The virtual node to render\n * @param {import('./internal').PreactElement} parentDom The DOM element to\n * update\n */\nexport function hydrate(vnode, parentDom) {\n\trender(vnode, parentDom, hydrate);\n}\n","import { assign, slice } from './util';\nimport { createVNode } from './create-element';\n\n/**\n * Clones the given VNode, optionally adding attributes/props and replacing its children.\n * @param {import('./internal').VNode} vnode The virtual DOM element to clone\n * @param {object} props Attributes/props to add when cloning\n * @param {Array<import('./internal').ComponentChildren>} rest Any additional arguments will be used as replacement children.\n * @returns {import('./internal').VNode}\n */\nexport function cloneElement(vnode, props, children) {\n\tlet normalizedProps = assign({}, vnode.props),\n\t\tkey,\n\t\tref,\n\t\ti;\n\tfor (i in props) {\n\t\tif (i == 'key') key = props[i];\n\t\telse if (i == 'ref') ref = props[i];\n\t\telse normalizedProps[i] = props[i];\n\t}\n\n\tif (arguments.length > 2) {\n\t\tnormalizedProps.children =\n\t\t\targuments.length > 3 ? slice.call(arguments, 2) : children;\n\t}\n\n\treturn createVNode(\n\t\tvnode.type,\n\t\tnormalizedProps,\n\t\tkey || vnode.key,\n\t\tref || vnode.ref,\n\t\tnull\n\t);\n}\n","/**\n * Find the closest error boundary to a thrown error and call it\n * @param {object} error The thrown value\n * @param {import('../internal').VNode} vnode The vnode that threw\n * the error that was caught (except for unmounting when this parameter\n * is the highest parent that was being unmounted)\n * @param {import('../internal').VNode} [oldVNode]\n * @param {import('../internal').ErrorInfo} [errorInfo]\n */\nexport function _catchError(error, vnode, oldVNode, errorInfo) {\n\t/** @type {import('../internal').Component} */\n\tlet component, ctor, handled;\n\n\tfor (; (vnode = vnode._parent); ) {\n\t\tif ((component = vnode._component) && !component._processingException) {\n\t\t\ttry {\n\t\t\t\tctor = component.constructor;\n\n\t\t\t\tif (ctor && ctor.getDerivedStateFromError != null) {\n\t\t\t\t\tcomponent.setState(ctor.getDerivedStateFromError(error));\n\t\t\t\t\thandled = component._dirty;\n\t\t\t\t}\n\n\t\t\t\tif (component.componentDidCatch != null) {\n\t\t\t\t\tcomponent.componentDidCatch(error, errorInfo || {});\n\t\t\t\t\thandled = component._dirty;\n\t\t\t\t}\n\n\t\t\t\t// This is an error boundary. Mark it as having bailed out, and whether it was mid-hydration.\n\t\t\t\tif (handled) {\n\t\t\t\t\treturn (component._pendingError = component);\n\t\t\t\t}\n\t\t\t} catch (e) {\n\t\t\t\terror = e;\n\t\t\t}\n\t\t}\n\t}\n\n\tthrow error;\n}\n","const alert = {\n  remove: id => (document.getElementById(id).outerHTML = \"\"),\n  add: (text, alertStyle = \"alert-success\", countdown = 5000) => {\n    if (!text) {\n      return;\n    }\n    let alertNode = document.createElement(\"DIV\");\n    alertNode.id = alert.hash(text);\n    alertNode.innerHTML = text;\n    alertNode.classList.add(\"global-alert\", \"alert\", alertStyle);\n    document.body.appendChild(alertNode);\n    setTimeout(() => alert.remove(alertNode.id), countdown);\n  },\n  hash: str => {\n    let hash = 0;\n    if (str.length == 0) {\n      return hash;\n    }\n    for (let i = 0; i < str.length; i++) {\n      let char = str.charCodeAt(i);\n      hash = (hash << 5) - hash + char;\n      hash = hash & hash; // Convert to 32bit integer\n    }\n    return hash;\n  }\n};\nexport default alert;\n","const storage = {\n  usage: () => {\n    let total = 0;\n    let k;\n    for (k in localStorage) {\n      if (Object.prototype.hasOwnProperty.call(localStorage, k)) {\n        total += (localStorage[k].length + k.length) * 2;\n      }\n    }\n    return total;\n  },\n  createStorageBox: (data, metadata = null) => ({\n    data,\n    createdAt: Date.now(),\n    metadata\n  }),\n  remove: id => localStorage.removeItem(id),\n  set: (id, data, metadata = null) => {\n    localStorage.setItem(\n      id,\n      JSON.stringify(storage.createStorageBox(data, metadata))\n    );\n    return Promise.resolve(id);\n  },\n  get: id => {\n    let data = localStorage.getItem(id);\n    if (data != null) {\n      data = JSON.parse(data);\n      if (Object.prototype.hasOwnProperty.call(data, \"data\")) {\n        return new Promise(r => r(data.data));\n      }\n    }\n    return new Promise(r => r(null));\n  },\n  reset: () =>\n    localStorage.clear() &&\n    window.dispatchEvent(new CustomEvent(\"resetStorage\"))\n};\nexport default storage;\n","import { createStoreon } from \"storeon\";\n//import { crossTab } from '@storeon/crosstab';\n\nimport { meStore } from \"./me.js\";\nimport { apiStore } from \"./api.js\";\nimport { routerStore } from \"./router.js\";\nimport { notificationsStore } from \"./notifications.js\";\nimport { bookmarksStore } from \"./bookmarks.js\";\n\nconst store = createStoreon([apiStore, meStore, routerStore, notificationsStore, bookmarksStore]);\nexport default store;\n","let createStoreon = modules => {\n  let events = {}\n  let state = {}\n\n  let store = {\n    dispatch(event, data) {\n      if (event !== '@dispatch') {\n        store.dispatch('@dispatch', [event, data, events[event]])\n      }\n\n      if (events[event]) {\n        let changes\n        events[event].forEach(i => {\n          let diff = events[event].includes(i) && i(state, data, store)\n          if (diff && typeof diff.then !== 'function') {\n            state = { ...state, ...diff }\n            changes = { ...changes, ...diff }\n          }\n        })\n        if (changes) store.dispatch('@changed', changes)\n      }\n    },\n\n    get: () => state,\n\n    on(event, cb) {\n      ;(events[event] || (events[event] = [])).push(cb)\n\n      return () => {\n        events[event] = events[event].filter(i => i !== cb)\n      }\n    }\n  }\n\n  modules.forEach(i => {\n    if (i) i(store)\n  })\n  store.dispatch('@init')\n\n  return store\n}\n\nexport { createStoreon }\n","export const apiStore = store => {\n  store.on(\"@init\", () => ({api: {}}));\n\n  store.on(\"api/update\", (state, api) => {\n    return {api};\n  });\n};\n","//import { http } from \"/src/core\";\n\nexport const meStore = store => {\n  store.on(\"@init\", () => ({me: {}}));\n\n  store.on(\"me/update\", (state, me) => {\n    return {me};\n  });\n};\n","export const routerStore = store => {\n  store.on(\"@init\", () => ({\n    route: \"\",\n    id: \"\",\n    action: \"\",\n    backUrl: \"\",\n    entityType: \"\",\n    search: \"\",\n    entity: {},\n  }));\n\n  store.on(\"router/update\", (_, newState) => {\n    return {\n      entity: newState.entity,\n      backUrl: newState.backUrl,\n    };\n  });\n};\n","export const notificationsStore = store => {\n  store.on(\"@init\", () => ({notifications:[]}));\n\n  store.on(\"notifications/update\", (state, notifications = []) => {\n    return {notifications};\n  });\n\n  store.on(\"notifications/remove\", (state, notification) => {\n    return {\n      notifications: state.notifications.filter(n => n.id != notification.id)\n    };\n  });\n\n  store.on(\"notifications/read\", (state, notification) => {\n    return {\n      notifications: state.notifications.map(n => n.id === notification.id ? Object.assign(n, {read: true}) : n)\n    };\n  });\n};\n","import { http } from \"/src/core\";\n\nexport const bookmarksStore = store => {\n  store.on(\"@init\", () => ({bookmarks:[]}));\n\n  store.on(\"bookmarks/update\", (state, bookmarks = []) => {\n    return {bookmarks};\n  });\n\n  store.on(\"bookmark/remove\", (state, bookmark) => {\n    http.delete(`/api/bookmarks/${bookmark.id}`);\n    return {\n      bookmarks: state.bookmarks.filter(b => b.id != bookmark.id)\n    };\n  });\n\n  store.on(\"bookmark/add\", (state, message_id) => {\n    http.post(\"/api/bookmarks\", {message_id}).then(bookmark => {\n      store.dispatch(\"bookmarks/update\", [...state.bookmarks, bookmark]);\n    });\n  });\n};\n","export default function _typeof(obj) {\n  \"@babel/helpers - typeof\";\n\n  return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) {\n    return typeof obj;\n  } : function (obj) {\n    return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n  }, _typeof(obj);\n}","export default function _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}","import _typeof from \"./typeof.js\";\nexport default function _toPrimitive(input, hint) {\n  if (_typeof(input) !== \"object\" || input === null) return input;\n  var prim = input[Symbol.toPrimitive];\n  if (prim !== undefined) {\n    var res = prim.call(input, hint || \"default\");\n    if (_typeof(res) !== \"object\") return res;\n    throw new TypeError(\"@@toPrimitive must return a primitive value.\");\n  }\n  return (hint === \"string\" ? String : Number)(input);\n}","import _typeof from \"./typeof.js\";\nimport toPrimitive from \"./toPrimitive.js\";\nexport default function _toPropertyKey(arg) {\n  var key = toPrimitive(arg, \"string\");\n  return _typeof(key) === \"symbol\" ? key : String(key);\n}","import toPropertyKey from \"./toPropertyKey.js\";\nfunction _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, toPropertyKey(descriptor.key), descriptor);\n  }\n}\nexport default function _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  Object.defineProperty(Constructor, \"prototype\", {\n    writable: false\n  });\n  return Constructor;\n}","export default function _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n  return self;\n}","export default function _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n  return _setPrototypeOf(o, p);\n}","import setPrototypeOf from \"./setPrototypeOf.js\";\nexport default function _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  Object.defineProperty(subClass, \"prototype\", {\n    writable: false\n  });\n  if (superClass) setPrototypeOf(subClass, superClass);\n}","import _typeof from \"./typeof.js\";\nimport assertThisInitialized from \"./assertThisInitialized.js\";\nexport default function _possibleConstructorReturn(self, call) {\n  if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) {\n    return call;\n  } else if (call !== void 0) {\n    throw new TypeError(\"Derived constructors may only return object or undefined\");\n  }\n  return assertThisInitialized(self);\n}","export default function _getPrototypeOf(o) {\n  _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return _getPrototypeOf(o);\n}","import toPropertyKey from \"./toPropertyKey.js\";\nexport default function _defineProperty(obj, key, value) {\n  key = toPropertyKey(key);\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n  return obj;\n}","export default function _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}","export default function _iterableToArray(iter) {\n  if (typeof Symbol !== \"undefined\" && iter[Symbol.iterator] != null || iter[\"@@iterator\"] != null) return Array.from(iter);\n}","export default function _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n  for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i];\n  return arr2;\n}","import arrayLikeToArray from \"./arrayLikeToArray.js\";\nexport default function _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return arrayLikeToArray(o, minLen);\n}","export default function _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}","import arrayWithHoles from \"./arrayWithHoles.js\";\nimport iterableToArray from \"./iterableToArray.js\";\nimport unsupportedIterableToArray from \"./unsupportedIterableToArray.js\";\nimport nonIterableRest from \"./nonIterableRest.js\";\nexport default function _toArray(arr) {\n  return arrayWithHoles(arr) || iterableToArray(arr) || unsupportedIterableToArray(arr) || nonIterableRest();\n}","import _typeof from '@babel/runtime/helpers/esm/typeof';\nimport _classCallCheck from '@babel/runtime/helpers/esm/classCallCheck';\nimport _createClass from '@babel/runtime/helpers/esm/createClass';\nimport _assertThisInitialized from '@babel/runtime/helpers/esm/assertThisInitialized';\nimport _inherits from '@babel/runtime/helpers/esm/inherits';\nimport _possibleConstructorReturn from '@babel/runtime/helpers/esm/possibleConstructorReturn';\nimport _getPrototypeOf from '@babel/runtime/helpers/esm/getPrototypeOf';\nimport _defineProperty from '@babel/runtime/helpers/esm/defineProperty';\nimport _toArray from '@babel/runtime/helpers/esm/toArray';\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) { symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); } keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nvar consoleLogger = {\n  type: 'logger',\n  log: function log(args) {\n    this.output('log', args);\n  },\n  warn: function warn(args) {\n    this.output('warn', args);\n  },\n  error: function error(args) {\n    this.output('error', args);\n  },\n  output: function output(type, args) {\n    if (console && console[type]) console[type].apply(console, args);\n  }\n};\n\nvar Logger = function () {\n  function Logger(concreteLogger) {\n    var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n    _classCallCheck(this, Logger);\n\n    this.init(concreteLogger, options);\n  }\n\n  _createClass(Logger, [{\n    key: \"init\",\n    value: function init(concreteLogger) {\n      var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n      this.prefix = options.prefix || 'i18next:';\n      this.logger = concreteLogger || consoleLogger;\n      this.options = options;\n      this.debug = options.debug;\n    }\n  }, {\n    key: \"setDebug\",\n    value: function setDebug(bool) {\n      this.debug = bool;\n    }\n  }, {\n    key: \"log\",\n    value: function log() {\n      for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n        args[_key] = arguments[_key];\n      }\n\n      return this.forward(args, 'log', '', true);\n    }\n  }, {\n    key: \"warn\",\n    value: function warn() {\n      for (var _len2 = arguments.length, args = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n        args[_key2] = arguments[_key2];\n      }\n\n      return this.forward(args, 'warn', '', true);\n    }\n  }, {\n    key: \"error\",\n    value: function error() {\n      for (var _len3 = arguments.length, args = new Array(_len3), _key3 = 0; _key3 < _len3; _key3++) {\n        args[_key3] = arguments[_key3];\n      }\n\n      return this.forward(args, 'error', '');\n    }\n  }, {\n    key: \"deprecate\",\n    value: function deprecate() {\n      for (var _len4 = arguments.length, args = new Array(_len4), _key4 = 0; _key4 < _len4; _key4++) {\n        args[_key4] = arguments[_key4];\n      }\n\n      return this.forward(args, 'warn', 'WARNING DEPRECATED: ', true);\n    }\n  }, {\n    key: \"forward\",\n    value: function forward(args, lvl, prefix, debugOnly) {\n      if (debugOnly && !this.debug) return null;\n      if (typeof args[0] === 'string') args[0] = \"\".concat(prefix).concat(this.prefix, \" \").concat(args[0]);\n      return this.logger[lvl](args);\n    }\n  }, {\n    key: \"create\",\n    value: function create(moduleName) {\n      return new Logger(this.logger, _objectSpread(_objectSpread({}, {\n        prefix: \"\".concat(this.prefix, \":\").concat(moduleName, \":\")\n      }), this.options));\n    }\n  }, {\n    key: \"clone\",\n    value: function clone(options) {\n      options = options || this.options;\n      options.prefix = options.prefix || this.prefix;\n      return new Logger(this.logger, options);\n    }\n  }]);\n\n  return Logger;\n}();\n\nvar baseLogger = new Logger();\n\nvar EventEmitter = function () {\n  function EventEmitter() {\n    _classCallCheck(this, EventEmitter);\n\n    this.observers = {};\n  }\n\n  _createClass(EventEmitter, [{\n    key: \"on\",\n    value: function on(events, listener) {\n      var _this = this;\n\n      events.split(' ').forEach(function (event) {\n        _this.observers[event] = _this.observers[event] || [];\n\n        _this.observers[event].push(listener);\n      });\n      return this;\n    }\n  }, {\n    key: \"off\",\n    value: function off(event, listener) {\n      if (!this.observers[event]) return;\n\n      if (!listener) {\n        delete this.observers[event];\n        return;\n      }\n\n      this.observers[event] = this.observers[event].filter(function (l) {\n        return l !== listener;\n      });\n    }\n  }, {\n    key: \"emit\",\n    value: function emit(event) {\n      for (var _len = arguments.length, args = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n        args[_key - 1] = arguments[_key];\n      }\n\n      if (this.observers[event]) {\n        var cloned = [].concat(this.observers[event]);\n        cloned.forEach(function (observer) {\n          observer.apply(void 0, args);\n        });\n      }\n\n      if (this.observers['*']) {\n        var _cloned = [].concat(this.observers['*']);\n\n        _cloned.forEach(function (observer) {\n          observer.apply(observer, [event].concat(args));\n        });\n      }\n    }\n  }]);\n\n  return EventEmitter;\n}();\n\nfunction defer() {\n  var res;\n  var rej;\n  var promise = new Promise(function (resolve, reject) {\n    res = resolve;\n    rej = reject;\n  });\n  promise.resolve = res;\n  promise.reject = rej;\n  return promise;\n}\nfunction makeString(object) {\n  if (object == null) return '';\n  return '' + object;\n}\nfunction copy(a, s, t) {\n  a.forEach(function (m) {\n    if (s[m]) t[m] = s[m];\n  });\n}\n\nfunction getLastOfPath(object, path, Empty) {\n  function cleanKey(key) {\n    return key && key.indexOf('###') > -1 ? key.replace(/###/g, '.') : key;\n  }\n\n  function canNotTraverseDeeper() {\n    return !object || typeof object === 'string';\n  }\n\n  var stack = typeof path !== 'string' ? [].concat(path) : path.split('.');\n\n  while (stack.length > 1) {\n    if (canNotTraverseDeeper()) return {};\n    var key = cleanKey(stack.shift());\n    if (!object[key] && Empty) object[key] = new Empty();\n\n    if (Object.prototype.hasOwnProperty.call(object, key)) {\n      object = object[key];\n    } else {\n      object = {};\n    }\n  }\n\n  if (canNotTraverseDeeper()) return {};\n  return {\n    obj: object,\n    k: cleanKey(stack.shift())\n  };\n}\n\nfunction setPath(object, path, newValue) {\n  var _getLastOfPath = getLastOfPath(object, path, Object),\n      obj = _getLastOfPath.obj,\n      k = _getLastOfPath.k;\n\n  obj[k] = newValue;\n}\nfunction pushPath(object, path, newValue, concat) {\n  var _getLastOfPath2 = getLastOfPath(object, path, Object),\n      obj = _getLastOfPath2.obj,\n      k = _getLastOfPath2.k;\n\n  obj[k] = obj[k] || [];\n  if (concat) obj[k] = obj[k].concat(newValue);\n  if (!concat) obj[k].push(newValue);\n}\nfunction getPath(object, path) {\n  var _getLastOfPath3 = getLastOfPath(object, path),\n      obj = _getLastOfPath3.obj,\n      k = _getLastOfPath3.k;\n\n  if (!obj) return undefined;\n  return obj[k];\n}\nfunction getPathWithDefaults(data, defaultData, key) {\n  var value = getPath(data, key);\n\n  if (value !== undefined) {\n    return value;\n  }\n\n  return getPath(defaultData, key);\n}\nfunction deepExtend(target, source, overwrite) {\n  for (var prop in source) {\n    if (prop !== '__proto__' && prop !== 'constructor') {\n      if (prop in target) {\n        if (typeof target[prop] === 'string' || target[prop] instanceof String || typeof source[prop] === 'string' || source[prop] instanceof String) {\n          if (overwrite) target[prop] = source[prop];\n        } else {\n          deepExtend(target[prop], source[prop], overwrite);\n        }\n      } else {\n        target[prop] = source[prop];\n      }\n    }\n  }\n\n  return target;\n}\nfunction regexEscape(str) {\n  return str.replace(/[\\-\\[\\]\\/\\{\\}\\(\\)\\*\\+\\?\\.\\\\\\^\\$\\|]/g, '\\\\$&');\n}\nvar _entityMap = {\n  '&': '&amp;',\n  '<': '&lt;',\n  '>': '&gt;',\n  '\"': '&quot;',\n  \"'\": '&#39;',\n  '/': '&#x2F;'\n};\nfunction escape(data) {\n  if (typeof data === 'string') {\n    return data.replace(/[&<>\"'\\/]/g, function (s) {\n      return _entityMap[s];\n    });\n  }\n\n  return data;\n}\nvar isIE10 = typeof window !== 'undefined' && window.navigator && typeof window.navigator.userAgentData === 'undefined' && window.navigator.userAgent && window.navigator.userAgent.indexOf('MSIE') > -1;\nvar chars = [' ', ',', '?', '!', ';'];\nfunction looksLikeObjectPath(key, nsSeparator, keySeparator) {\n  nsSeparator = nsSeparator || '';\n  keySeparator = keySeparator || '';\n  var possibleChars = chars.filter(function (c) {\n    return nsSeparator.indexOf(c) < 0 && keySeparator.indexOf(c) < 0;\n  });\n  if (possibleChars.length === 0) return true;\n  var r = new RegExp(\"(\".concat(possibleChars.map(function (c) {\n    return c === '?' ? '\\\\?' : c;\n  }).join('|'), \")\"));\n  var matched = !r.test(key);\n\n  if (!matched) {\n    var ki = key.indexOf(keySeparator);\n\n    if (ki > 0 && !r.test(key.substring(0, ki))) {\n      matched = true;\n    }\n  }\n\n  return matched;\n}\n\nfunction ownKeys$1(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) { symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); } keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread$1(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys$1(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys$1(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nfunction deepFind(obj, path) {\n  var keySeparator = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : '.';\n  if (!obj) return undefined;\n  if (obj[path]) return obj[path];\n  var paths = path.split(keySeparator);\n  var current = obj;\n\n  for (var i = 0; i < paths.length; ++i) {\n    if (!current) return undefined;\n\n    if (typeof current[paths[i]] === 'string' && i + 1 < paths.length) {\n      return undefined;\n    }\n\n    if (current[paths[i]] === undefined) {\n      var j = 2;\n      var p = paths.slice(i, i + j).join(keySeparator);\n      var mix = current[p];\n\n      while (mix === undefined && paths.length > i + j) {\n        j++;\n        p = paths.slice(i, i + j).join(keySeparator);\n        mix = current[p];\n      }\n\n      if (mix === undefined) return undefined;\n      if (mix === null) return null;\n\n      if (path.endsWith(p)) {\n        if (typeof mix === 'string') return mix;\n        if (p && typeof mix[p] === 'string') return mix[p];\n      }\n\n      var joinedPath = paths.slice(i + j).join(keySeparator);\n      if (joinedPath) return deepFind(mix, joinedPath, keySeparator);\n      return undefined;\n    }\n\n    current = current[paths[i]];\n  }\n\n  return current;\n}\n\nvar ResourceStore = function (_EventEmitter) {\n  _inherits(ResourceStore, _EventEmitter);\n\n  var _super = _createSuper(ResourceStore);\n\n  function ResourceStore(data) {\n    var _this;\n\n    var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {\n      ns: ['translation'],\n      defaultNS: 'translation'\n    };\n\n    _classCallCheck(this, ResourceStore);\n\n    _this = _super.call(this);\n\n    if (isIE10) {\n      EventEmitter.call(_assertThisInitialized(_this));\n    }\n\n    _this.data = data || {};\n    _this.options = options;\n\n    if (_this.options.keySeparator === undefined) {\n      _this.options.keySeparator = '.';\n    }\n\n    if (_this.options.ignoreJSONStructure === undefined) {\n      _this.options.ignoreJSONStructure = true;\n    }\n\n    return _this;\n  }\n\n  _createClass(ResourceStore, [{\n    key: \"addNamespaces\",\n    value: function addNamespaces(ns) {\n      if (this.options.ns.indexOf(ns) < 0) {\n        this.options.ns.push(ns);\n      }\n    }\n  }, {\n    key: \"removeNamespaces\",\n    value: function removeNamespaces(ns) {\n      var index = this.options.ns.indexOf(ns);\n\n      if (index > -1) {\n        this.options.ns.splice(index, 1);\n      }\n    }\n  }, {\n    key: \"getResource\",\n    value: function getResource(lng, ns, key) {\n      var options = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : {};\n      var keySeparator = options.keySeparator !== undefined ? options.keySeparator : this.options.keySeparator;\n      var ignoreJSONStructure = options.ignoreJSONStructure !== undefined ? options.ignoreJSONStructure : this.options.ignoreJSONStructure;\n      var path = [lng, ns];\n      if (key && typeof key !== 'string') path = path.concat(key);\n      if (key && typeof key === 'string') path = path.concat(keySeparator ? key.split(keySeparator) : key);\n\n      if (lng.indexOf('.') > -1) {\n        path = lng.split('.');\n      }\n\n      var result = getPath(this.data, path);\n      if (result || !ignoreJSONStructure || typeof key !== 'string') return result;\n      return deepFind(this.data && this.data[lng] && this.data[lng][ns], key, keySeparator);\n    }\n  }, {\n    key: \"addResource\",\n    value: function addResource(lng, ns, key, value) {\n      var options = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : {\n        silent: false\n      };\n      var keySeparator = this.options.keySeparator;\n      if (keySeparator === undefined) keySeparator = '.';\n      var path = [lng, ns];\n      if (key) path = path.concat(keySeparator ? key.split(keySeparator) : key);\n\n      if (lng.indexOf('.') > -1) {\n        path = lng.split('.');\n        value = ns;\n        ns = path[1];\n      }\n\n      this.addNamespaces(ns);\n      setPath(this.data, path, value);\n      if (!options.silent) this.emit('added', lng, ns, key, value);\n    }\n  }, {\n    key: \"addResources\",\n    value: function addResources(lng, ns, resources) {\n      var options = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : {\n        silent: false\n      };\n\n      for (var m in resources) {\n        if (typeof resources[m] === 'string' || Object.prototype.toString.apply(resources[m]) === '[object Array]') this.addResource(lng, ns, m, resources[m], {\n          silent: true\n        });\n      }\n\n      if (!options.silent) this.emit('added', lng, ns, resources);\n    }\n  }, {\n    key: \"addResourceBundle\",\n    value: function addResourceBundle(lng, ns, resources, deep, overwrite) {\n      var options = arguments.length > 5 && arguments[5] !== undefined ? arguments[5] : {\n        silent: false\n      };\n      var path = [lng, ns];\n\n      if (lng.indexOf('.') > -1) {\n        path = lng.split('.');\n        deep = resources;\n        resources = ns;\n        ns = path[1];\n      }\n\n      this.addNamespaces(ns);\n      var pack = getPath(this.data, path) || {};\n\n      if (deep) {\n        deepExtend(pack, resources, overwrite);\n      } else {\n        pack = _objectSpread$1(_objectSpread$1({}, pack), resources);\n      }\n\n      setPath(this.data, path, pack);\n      if (!options.silent) this.emit('added', lng, ns, resources);\n    }\n  }, {\n    key: \"removeResourceBundle\",\n    value: function removeResourceBundle(lng, ns) {\n      if (this.hasResourceBundle(lng, ns)) {\n        delete this.data[lng][ns];\n      }\n\n      this.removeNamespaces(ns);\n      this.emit('removed', lng, ns);\n    }\n  }, {\n    key: \"hasResourceBundle\",\n    value: function hasResourceBundle(lng, ns) {\n      return this.getResource(lng, ns) !== undefined;\n    }\n  }, {\n    key: \"getResourceBundle\",\n    value: function getResourceBundle(lng, ns) {\n      if (!ns) ns = this.options.defaultNS;\n      if (this.options.compatibilityAPI === 'v1') return _objectSpread$1(_objectSpread$1({}, {}), this.getResource(lng, ns));\n      return this.getResource(lng, ns);\n    }\n  }, {\n    key: \"getDataByLanguage\",\n    value: function getDataByLanguage(lng) {\n      return this.data[lng];\n    }\n  }, {\n    key: \"hasLanguageSomeTranslations\",\n    value: function hasLanguageSomeTranslations(lng) {\n      var data = this.getDataByLanguage(lng);\n      var n = data && Object.keys(data) || [];\n      return !!n.find(function (v) {\n        return data[v] && Object.keys(data[v]).length > 0;\n      });\n    }\n  }, {\n    key: \"toJSON\",\n    value: function toJSON() {\n      return this.data;\n    }\n  }]);\n\n  return ResourceStore;\n}(EventEmitter);\n\nvar postProcessor = {\n  processors: {},\n  addPostProcessor: function addPostProcessor(module) {\n    this.processors[module.name] = module;\n  },\n  handle: function handle(processors, value, key, options, translator) {\n    var _this = this;\n\n    processors.forEach(function (processor) {\n      if (_this.processors[processor]) value = _this.processors[processor].process(value, key, options, translator);\n    });\n    return value;\n  }\n};\n\nfunction ownKeys$2(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) { symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); } keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread$2(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys$2(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys$2(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _createSuper$1(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct$1(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct$1() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\nvar checkedLoadedFor = {};\n\nvar Translator = function (_EventEmitter) {\n  _inherits(Translator, _EventEmitter);\n\n  var _super = _createSuper$1(Translator);\n\n  function Translator(services) {\n    var _this;\n\n    var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n    _classCallCheck(this, Translator);\n\n    _this = _super.call(this);\n\n    if (isIE10) {\n      EventEmitter.call(_assertThisInitialized(_this));\n    }\n\n    copy(['resourceStore', 'languageUtils', 'pluralResolver', 'interpolator', 'backendConnector', 'i18nFormat', 'utils'], services, _assertThisInitialized(_this));\n    _this.options = options;\n\n    if (_this.options.keySeparator === undefined) {\n      _this.options.keySeparator = '.';\n    }\n\n    _this.logger = baseLogger.create('translator');\n    return _this;\n  }\n\n  _createClass(Translator, [{\n    key: \"changeLanguage\",\n    value: function changeLanguage(lng) {\n      if (lng) this.language = lng;\n    }\n  }, {\n    key: \"exists\",\n    value: function exists(key) {\n      var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {\n        interpolation: {}\n      };\n\n      if (key === undefined || key === null) {\n        return false;\n      }\n\n      var resolved = this.resolve(key, options);\n      return resolved && resolved.res !== undefined;\n    }\n  }, {\n    key: \"extractFromKey\",\n    value: function extractFromKey(key, options) {\n      var nsSeparator = options.nsSeparator !== undefined ? options.nsSeparator : this.options.nsSeparator;\n      if (nsSeparator === undefined) nsSeparator = ':';\n      var keySeparator = options.keySeparator !== undefined ? options.keySeparator : this.options.keySeparator;\n      var namespaces = options.ns || this.options.defaultNS || [];\n      var wouldCheckForNsInKey = nsSeparator && key.indexOf(nsSeparator) > -1;\n      var seemsNaturalLanguage = !this.options.userDefinedKeySeparator && !options.keySeparator && !this.options.userDefinedNsSeparator && !options.nsSeparator && !looksLikeObjectPath(key, nsSeparator, keySeparator);\n\n      if (wouldCheckForNsInKey && !seemsNaturalLanguage) {\n        var m = key.match(this.interpolator.nestingRegexp);\n\n        if (m && m.length > 0) {\n          return {\n            key: key,\n            namespaces: namespaces\n          };\n        }\n\n        var parts = key.split(nsSeparator);\n        if (nsSeparator !== keySeparator || nsSeparator === keySeparator && this.options.ns.indexOf(parts[0]) > -1) namespaces = parts.shift();\n        key = parts.join(keySeparator);\n      }\n\n      if (typeof namespaces === 'string') namespaces = [namespaces];\n      return {\n        key: key,\n        namespaces: namespaces\n      };\n    }\n  }, {\n    key: \"translate\",\n    value: function translate(keys, options, lastKey) {\n      var _this2 = this;\n\n      if (_typeof(options) !== 'object' && this.options.overloadTranslationOptionHandler) {\n        options = this.options.overloadTranslationOptionHandler(arguments);\n      }\n\n      if (!options) options = {};\n      if (keys === undefined || keys === null) return '';\n      if (!Array.isArray(keys)) keys = [String(keys)];\n      var returnDetails = options.returnDetails !== undefined ? options.returnDetails : this.options.returnDetails;\n      var keySeparator = options.keySeparator !== undefined ? options.keySeparator : this.options.keySeparator;\n\n      var _this$extractFromKey = this.extractFromKey(keys[keys.length - 1], options),\n          key = _this$extractFromKey.key,\n          namespaces = _this$extractFromKey.namespaces;\n\n      var namespace = namespaces[namespaces.length - 1];\n      var lng = options.lng || this.language;\n      var appendNamespaceToCIMode = options.appendNamespaceToCIMode || this.options.appendNamespaceToCIMode;\n\n      if (lng && lng.toLowerCase() === 'cimode') {\n        if (appendNamespaceToCIMode) {\n          var nsSeparator = options.nsSeparator || this.options.nsSeparator;\n\n          if (returnDetails) {\n            resolved.res = \"\".concat(namespace).concat(nsSeparator).concat(key);\n            return resolved;\n          }\n\n          return \"\".concat(namespace).concat(nsSeparator).concat(key);\n        }\n\n        if (returnDetails) {\n          resolved.res = key;\n          return resolved;\n        }\n\n        return key;\n      }\n\n      var resolved = this.resolve(keys, options);\n      var res = resolved && resolved.res;\n      var resUsedKey = resolved && resolved.usedKey || key;\n      var resExactUsedKey = resolved && resolved.exactUsedKey || key;\n      var resType = Object.prototype.toString.apply(res);\n      var noObject = ['[object Number]', '[object Function]', '[object RegExp]'];\n      var joinArrays = options.joinArrays !== undefined ? options.joinArrays : this.options.joinArrays;\n      var handleAsObjectInI18nFormat = !this.i18nFormat || this.i18nFormat.handleAsObject;\n      var handleAsObject = typeof res !== 'string' && typeof res !== 'boolean' && typeof res !== 'number';\n\n      if (handleAsObjectInI18nFormat && res && handleAsObject && noObject.indexOf(resType) < 0 && !(typeof joinArrays === 'string' && resType === '[object Array]')) {\n        if (!options.returnObjects && !this.options.returnObjects) {\n          if (!this.options.returnedObjectHandler) {\n            this.logger.warn('accessing an object - but returnObjects options is not enabled!');\n          }\n\n          var r = this.options.returnedObjectHandler ? this.options.returnedObjectHandler(resUsedKey, res, _objectSpread$2(_objectSpread$2({}, options), {}, {\n            ns: namespaces\n          })) : \"key '\".concat(key, \" (\").concat(this.language, \")' returned an object instead of string.\");\n\n          if (returnDetails) {\n            resolved.res = r;\n            return resolved;\n          }\n\n          return r;\n        }\n\n        if (keySeparator) {\n          var resTypeIsArray = resType === '[object Array]';\n          var copy = resTypeIsArray ? [] : {};\n          var newKeyToUse = resTypeIsArray ? resExactUsedKey : resUsedKey;\n\n          for (var m in res) {\n            if (Object.prototype.hasOwnProperty.call(res, m)) {\n              var deepKey = \"\".concat(newKeyToUse).concat(keySeparator).concat(m);\n              copy[m] = this.translate(deepKey, _objectSpread$2(_objectSpread$2({}, options), {\n                joinArrays: false,\n                ns: namespaces\n              }));\n              if (copy[m] === deepKey) copy[m] = res[m];\n            }\n          }\n\n          res = copy;\n        }\n      } else if (handleAsObjectInI18nFormat && typeof joinArrays === 'string' && resType === '[object Array]') {\n        res = res.join(joinArrays);\n        if (res) res = this.extendTranslation(res, keys, options, lastKey);\n      } else {\n        var usedDefault = false;\n        var usedKey = false;\n        var needsPluralHandling = options.count !== undefined && typeof options.count !== 'string';\n        var hasDefaultValue = Translator.hasDefaultValue(options);\n        var defaultValueSuffix = needsPluralHandling ? this.pluralResolver.getSuffix(lng, options.count, options) : '';\n        var defaultValue = options[\"defaultValue\".concat(defaultValueSuffix)] || options.defaultValue;\n\n        if (!this.isValidLookup(res) && hasDefaultValue) {\n          usedDefault = true;\n          res = defaultValue;\n        }\n\n        if (!this.isValidLookup(res)) {\n          usedKey = true;\n          res = key;\n        }\n\n        var missingKeyNoValueFallbackToKey = options.missingKeyNoValueFallbackToKey || this.options.missingKeyNoValueFallbackToKey;\n        var resForMissing = missingKeyNoValueFallbackToKey && usedKey ? undefined : res;\n        var updateMissing = hasDefaultValue && defaultValue !== res && this.options.updateMissing;\n\n        if (usedKey || usedDefault || updateMissing) {\n          this.logger.log(updateMissing ? 'updateKey' : 'missingKey', lng, namespace, key, updateMissing ? defaultValue : res);\n\n          if (keySeparator) {\n            var fk = this.resolve(key, _objectSpread$2(_objectSpread$2({}, options), {}, {\n              keySeparator: false\n            }));\n            if (fk && fk.res) this.logger.warn('Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.');\n          }\n\n          var lngs = [];\n          var fallbackLngs = this.languageUtils.getFallbackCodes(this.options.fallbackLng, options.lng || this.language);\n\n          if (this.options.saveMissingTo === 'fallback' && fallbackLngs && fallbackLngs[0]) {\n            for (var i = 0; i < fallbackLngs.length; i++) {\n              lngs.push(fallbackLngs[i]);\n            }\n          } else if (this.options.saveMissingTo === 'all') {\n            lngs = this.languageUtils.toResolveHierarchy(options.lng || this.language);\n          } else {\n            lngs.push(options.lng || this.language);\n          }\n\n          var send = function send(l, k, specificDefaultValue) {\n            var defaultForMissing = hasDefaultValue && specificDefaultValue !== res ? specificDefaultValue : resForMissing;\n\n            if (_this2.options.missingKeyHandler) {\n              _this2.options.missingKeyHandler(l, namespace, k, defaultForMissing, updateMissing, options);\n            } else if (_this2.backendConnector && _this2.backendConnector.saveMissing) {\n              _this2.backendConnector.saveMissing(l, namespace, k, defaultForMissing, updateMissing, options);\n            }\n\n            _this2.emit('missingKey', l, namespace, k, res);\n          };\n\n          if (this.options.saveMissing) {\n            if (this.options.saveMissingPlurals && needsPluralHandling) {\n              lngs.forEach(function (language) {\n                _this2.pluralResolver.getSuffixes(language, options).forEach(function (suffix) {\n                  send([language], key + suffix, options[\"defaultValue\".concat(suffix)] || defaultValue);\n                });\n              });\n            } else {\n              send(lngs, key, defaultValue);\n            }\n          }\n        }\n\n        res = this.extendTranslation(res, keys, options, resolved, lastKey);\n        if (usedKey && res === key && this.options.appendNamespaceToMissingKey) res = \"\".concat(namespace, \":\").concat(key);\n\n        if ((usedKey || usedDefault) && this.options.parseMissingKeyHandler) {\n          if (this.options.compatibilityAPI !== 'v1') {\n            res = this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey ? \"\".concat(namespace, \":\").concat(key) : key, usedDefault ? res : undefined);\n          } else {\n            res = this.options.parseMissingKeyHandler(res);\n          }\n        }\n      }\n\n      if (returnDetails) {\n        resolved.res = res;\n        return resolved;\n      }\n\n      return res;\n    }\n  }, {\n    key: \"extendTranslation\",\n    value: function extendTranslation(res, key, options, resolved, lastKey) {\n      var _this3 = this;\n\n      if (this.i18nFormat && this.i18nFormat.parse) {\n        res = this.i18nFormat.parse(res, _objectSpread$2(_objectSpread$2({}, this.options.interpolation.defaultVariables), options), resolved.usedLng, resolved.usedNS, resolved.usedKey, {\n          resolved: resolved\n        });\n      } else if (!options.skipInterpolation) {\n        if (options.interpolation) this.interpolator.init(_objectSpread$2(_objectSpread$2({}, options), {\n          interpolation: _objectSpread$2(_objectSpread$2({}, this.options.interpolation), options.interpolation)\n        }));\n        var skipOnVariables = typeof res === 'string' && (options && options.interpolation && options.interpolation.skipOnVariables !== undefined ? options.interpolation.skipOnVariables : this.options.interpolation.skipOnVariables);\n        var nestBef;\n\n        if (skipOnVariables) {\n          var nb = res.match(this.interpolator.nestingRegexp);\n          nestBef = nb && nb.length;\n        }\n\n        var data = options.replace && typeof options.replace !== 'string' ? options.replace : options;\n        if (this.options.interpolation.defaultVariables) data = _objectSpread$2(_objectSpread$2({}, this.options.interpolation.defaultVariables), data);\n        res = this.interpolator.interpolate(res, data, options.lng || this.language, options);\n\n        if (skipOnVariables) {\n          var na = res.match(this.interpolator.nestingRegexp);\n          var nestAft = na && na.length;\n          if (nestBef < nestAft) options.nest = false;\n        }\n\n        if (options.nest !== false) res = this.interpolator.nest(res, function () {\n          for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n            args[_key] = arguments[_key];\n          }\n\n          if (lastKey && lastKey[0] === args[0] && !options.context) {\n            _this3.logger.warn(\"It seems you are nesting recursively key: \".concat(args[0], \" in key: \").concat(key[0]));\n\n            return null;\n          }\n\n          return _this3.translate.apply(_this3, args.concat([key]));\n        }, options);\n        if (options.interpolation) this.interpolator.reset();\n      }\n\n      var postProcess = options.postProcess || this.options.postProcess;\n      var postProcessorNames = typeof postProcess === 'string' ? [postProcess] : postProcess;\n\n      if (res !== undefined && res !== null && postProcessorNames && postProcessorNames.length && options.applyPostProcessor !== false) {\n        res = postProcessor.handle(postProcessorNames, res, key, this.options && this.options.postProcessPassResolved ? _objectSpread$2({\n          i18nResolved: resolved\n        }, options) : options, this);\n      }\n\n      return res;\n    }\n  }, {\n    key: \"resolve\",\n    value: function resolve(keys) {\n      var _this4 = this;\n\n      var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n      var found;\n      var usedKey;\n      var exactUsedKey;\n      var usedLng;\n      var usedNS;\n      if (typeof keys === 'string') keys = [keys];\n      keys.forEach(function (k) {\n        if (_this4.isValidLookup(found)) return;\n\n        var extracted = _this4.extractFromKey(k, options);\n\n        var key = extracted.key;\n        usedKey = key;\n        var namespaces = extracted.namespaces;\n        if (_this4.options.fallbackNS) namespaces = namespaces.concat(_this4.options.fallbackNS);\n        var needsPluralHandling = options.count !== undefined && typeof options.count !== 'string';\n\n        var needsZeroSuffixLookup = needsPluralHandling && !options.ordinal && options.count === 0 && _this4.pluralResolver.shouldUseIntlApi();\n\n        var needsContextHandling = options.context !== undefined && (typeof options.context === 'string' || typeof options.context === 'number') && options.context !== '';\n        var codes = options.lngs ? options.lngs : _this4.languageUtils.toResolveHierarchy(options.lng || _this4.language, options.fallbackLng);\n        namespaces.forEach(function (ns) {\n          if (_this4.isValidLookup(found)) return;\n          usedNS = ns;\n\n          if (!checkedLoadedFor[\"\".concat(codes[0], \"-\").concat(ns)] && _this4.utils && _this4.utils.hasLoadedNamespace && !_this4.utils.hasLoadedNamespace(usedNS)) {\n            checkedLoadedFor[\"\".concat(codes[0], \"-\").concat(ns)] = true;\n\n            _this4.logger.warn(\"key \\\"\".concat(usedKey, \"\\\" for languages \\\"\").concat(codes.join(', '), \"\\\" won't get resolved as namespace \\\"\").concat(usedNS, \"\\\" was not yet loaded\"), 'This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!');\n          }\n\n          codes.forEach(function (code) {\n            if (_this4.isValidLookup(found)) return;\n            usedLng = code;\n            var finalKeys = [key];\n\n            if (_this4.i18nFormat && _this4.i18nFormat.addLookupKeys) {\n              _this4.i18nFormat.addLookupKeys(finalKeys, key, code, ns, options);\n            } else {\n              var pluralSuffix;\n              if (needsPluralHandling) pluralSuffix = _this4.pluralResolver.getSuffix(code, options.count, options);\n              var zeroSuffix = \"\".concat(_this4.options.pluralSeparator, \"zero\");\n\n              if (needsPluralHandling) {\n                finalKeys.push(key + pluralSuffix);\n\n                if (needsZeroSuffixLookup) {\n                  finalKeys.push(key + zeroSuffix);\n                }\n              }\n\n              if (needsContextHandling) {\n                var contextKey = \"\".concat(key).concat(_this4.options.contextSeparator).concat(options.context);\n                finalKeys.push(contextKey);\n\n                if (needsPluralHandling) {\n                  finalKeys.push(contextKey + pluralSuffix);\n\n                  if (needsZeroSuffixLookup) {\n                    finalKeys.push(contextKey + zeroSuffix);\n                  }\n                }\n              }\n            }\n\n            var possibleKey;\n\n            while (possibleKey = finalKeys.pop()) {\n              if (!_this4.isValidLookup(found)) {\n                exactUsedKey = possibleKey;\n                found = _this4.getResource(code, ns, possibleKey, options);\n              }\n            }\n          });\n        });\n      });\n      return {\n        res: found,\n        usedKey: usedKey,\n        exactUsedKey: exactUsedKey,\n        usedLng: usedLng,\n        usedNS: usedNS\n      };\n    }\n  }, {\n    key: \"isValidLookup\",\n    value: function isValidLookup(res) {\n      return res !== undefined && !(!this.options.returnNull && res === null) && !(!this.options.returnEmptyString && res === '');\n    }\n  }, {\n    key: \"getResource\",\n    value: function getResource(code, ns, key) {\n      var options = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : {};\n      if (this.i18nFormat && this.i18nFormat.getResource) return this.i18nFormat.getResource(code, ns, key, options);\n      return this.resourceStore.getResource(code, ns, key, options);\n    }\n  }], [{\n    key: \"hasDefaultValue\",\n    value: function hasDefaultValue(options) {\n      var prefix = 'defaultValue';\n\n      for (var option in options) {\n        if (Object.prototype.hasOwnProperty.call(options, option) && prefix === option.substring(0, prefix.length) && undefined !== options[option]) {\n          return true;\n        }\n      }\n\n      return false;\n    }\n  }]);\n\n  return Translator;\n}(EventEmitter);\n\nfunction capitalize(string) {\n  return string.charAt(0).toUpperCase() + string.slice(1);\n}\n\nvar LanguageUtil = function () {\n  function LanguageUtil(options) {\n    _classCallCheck(this, LanguageUtil);\n\n    this.options = options;\n    this.supportedLngs = this.options.supportedLngs || false;\n    this.logger = baseLogger.create('languageUtils');\n  }\n\n  _createClass(LanguageUtil, [{\n    key: \"getScriptPartFromCode\",\n    value: function getScriptPartFromCode(code) {\n      if (!code || code.indexOf('-') < 0) return null;\n      var p = code.split('-');\n      if (p.length === 2) return null;\n      p.pop();\n      if (p[p.length - 1].toLowerCase() === 'x') return null;\n      return this.formatLanguageCode(p.join('-'));\n    }\n  }, {\n    key: \"getLanguagePartFromCode\",\n    value: function getLanguagePartFromCode(code) {\n      if (!code || code.indexOf('-') < 0) return code;\n      var p = code.split('-');\n      return this.formatLanguageCode(p[0]);\n    }\n  }, {\n    key: \"formatLanguageCode\",\n    value: function formatLanguageCode(code) {\n      if (typeof code === 'string' && code.indexOf('-') > -1) {\n        var specialCases = ['hans', 'hant', 'latn', 'cyrl', 'cans', 'mong', 'arab'];\n        var p = code.split('-');\n\n        if (this.options.lowerCaseLng) {\n          p = p.map(function (part) {\n            return part.toLowerCase();\n          });\n        } else if (p.length === 2) {\n          p[0] = p[0].toLowerCase();\n          p[1] = p[1].toUpperCase();\n          if (specialCases.indexOf(p[1].toLowerCase()) > -1) p[1] = capitalize(p[1].toLowerCase());\n        } else if (p.length === 3) {\n          p[0] = p[0].toLowerCase();\n          if (p[1].length === 2) p[1] = p[1].toUpperCase();\n          if (p[0] !== 'sgn' && p[2].length === 2) p[2] = p[2].toUpperCase();\n          if (specialCases.indexOf(p[1].toLowerCase()) > -1) p[1] = capitalize(p[1].toLowerCase());\n          if (specialCases.indexOf(p[2].toLowerCase()) > -1) p[2] = capitalize(p[2].toLowerCase());\n        }\n\n        return p.join('-');\n      }\n\n      return this.options.cleanCode || this.options.lowerCaseLng ? code.toLowerCase() : code;\n    }\n  }, {\n    key: \"isSupportedCode\",\n    value: function isSupportedCode(code) {\n      if (this.options.load === 'languageOnly' || this.options.nonExplicitSupportedLngs) {\n        code = this.getLanguagePartFromCode(code);\n      }\n\n      return !this.supportedLngs || !this.supportedLngs.length || this.supportedLngs.indexOf(code) > -1;\n    }\n  }, {\n    key: \"getBestMatchFromCodes\",\n    value: function getBestMatchFromCodes(codes) {\n      var _this = this;\n\n      if (!codes) return null;\n      var found;\n      codes.forEach(function (code) {\n        if (found) return;\n\n        var cleanedLng = _this.formatLanguageCode(code);\n\n        if (!_this.options.supportedLngs || _this.isSupportedCode(cleanedLng)) found = cleanedLng;\n      });\n\n      if (!found && this.options.supportedLngs) {\n        codes.forEach(function (code) {\n          if (found) return;\n\n          var lngOnly = _this.getLanguagePartFromCode(code);\n\n          if (_this.isSupportedCode(lngOnly)) return found = lngOnly;\n          found = _this.options.supportedLngs.find(function (supportedLng) {\n            if (supportedLng.indexOf(lngOnly) === 0) return supportedLng;\n          });\n        });\n      }\n\n      if (!found) found = this.getFallbackCodes(this.options.fallbackLng)[0];\n      return found;\n    }\n  }, {\n    key: \"getFallbackCodes\",\n    value: function getFallbackCodes(fallbacks, code) {\n      if (!fallbacks) return [];\n      if (typeof fallbacks === 'function') fallbacks = fallbacks(code);\n      if (typeof fallbacks === 'string') fallbacks = [fallbacks];\n      if (Object.prototype.toString.apply(fallbacks) === '[object Array]') return fallbacks;\n      if (!code) return fallbacks[\"default\"] || [];\n      var found = fallbacks[code];\n      if (!found) found = fallbacks[this.getScriptPartFromCode(code)];\n      if (!found) found = fallbacks[this.formatLanguageCode(code)];\n      if (!found) found = fallbacks[this.getLanguagePartFromCode(code)];\n      if (!found) found = fallbacks[\"default\"];\n      return found || [];\n    }\n  }, {\n    key: \"toResolveHierarchy\",\n    value: function toResolveHierarchy(code, fallbackCode) {\n      var _this2 = this;\n\n      var fallbackCodes = this.getFallbackCodes(fallbackCode || this.options.fallbackLng || [], code);\n      var codes = [];\n\n      var addCode = function addCode(c) {\n        if (!c) return;\n\n        if (_this2.isSupportedCode(c)) {\n          codes.push(c);\n        } else {\n          _this2.logger.warn(\"rejecting language code not found in supportedLngs: \".concat(c));\n        }\n      };\n\n      if (typeof code === 'string' && code.indexOf('-') > -1) {\n        if (this.options.load !== 'languageOnly') addCode(this.formatLanguageCode(code));\n        if (this.options.load !== 'languageOnly' && this.options.load !== 'currentOnly') addCode(this.getScriptPartFromCode(code));\n        if (this.options.load !== 'currentOnly') addCode(this.getLanguagePartFromCode(code));\n      } else if (typeof code === 'string') {\n        addCode(this.formatLanguageCode(code));\n      }\n\n      fallbackCodes.forEach(function (fc) {\n        if (codes.indexOf(fc) < 0) addCode(_this2.formatLanguageCode(fc));\n      });\n      return codes;\n    }\n  }]);\n\n  return LanguageUtil;\n}();\n\nvar sets = [{\n  lngs: ['ach', 'ak', 'am', 'arn', 'br', 'fil', 'gun', 'ln', 'mfe', 'mg', 'mi', 'oc', 'pt', 'pt-BR', 'tg', 'tl', 'ti', 'tr', 'uz', 'wa'],\n  nr: [1, 2],\n  fc: 1\n}, {\n  lngs: ['af', 'an', 'ast', 'az', 'bg', 'bn', 'ca', 'da', 'de', 'dev', 'el', 'en', 'eo', 'es', 'et', 'eu', 'fi', 'fo', 'fur', 'fy', 'gl', 'gu', 'ha', 'hi', 'hu', 'hy', 'ia', 'it', 'kk', 'kn', 'ku', 'lb', 'mai', 'ml', 'mn', 'mr', 'nah', 'nap', 'nb', 'ne', 'nl', 'nn', 'no', 'nso', 'pa', 'pap', 'pms', 'ps', 'pt-PT', 'rm', 'sco', 'se', 'si', 'so', 'son', 'sq', 'sv', 'sw', 'ta', 'te', 'tk', 'ur', 'yo'],\n  nr: [1, 2],\n  fc: 2\n}, {\n  lngs: ['ay', 'bo', 'cgg', 'fa', 'ht', 'id', 'ja', 'jbo', 'ka', 'km', 'ko', 'ky', 'lo', 'ms', 'sah', 'su', 'th', 'tt', 'ug', 'vi', 'wo', 'zh'],\n  nr: [1],\n  fc: 3\n}, {\n  lngs: ['be', 'bs', 'cnr', 'dz', 'hr', 'ru', 'sr', 'uk'],\n  nr: [1, 2, 5],\n  fc: 4\n}, {\n  lngs: ['ar'],\n  nr: [0, 1, 2, 3, 11, 100],\n  fc: 5\n}, {\n  lngs: ['cs', 'sk'],\n  nr: [1, 2, 5],\n  fc: 6\n}, {\n  lngs: ['csb', 'pl'],\n  nr: [1, 2, 5],\n  fc: 7\n}, {\n  lngs: ['cy'],\n  nr: [1, 2, 3, 8],\n  fc: 8\n}, {\n  lngs: ['fr'],\n  nr: [1, 2],\n  fc: 9\n}, {\n  lngs: ['ga'],\n  nr: [1, 2, 3, 7, 11],\n  fc: 10\n}, {\n  lngs: ['gd'],\n  nr: [1, 2, 3, 20],\n  fc: 11\n}, {\n  lngs: ['is'],\n  nr: [1, 2],\n  fc: 12\n}, {\n  lngs: ['jv'],\n  nr: [0, 1],\n  fc: 13\n}, {\n  lngs: ['kw'],\n  nr: [1, 2, 3, 4],\n  fc: 14\n}, {\n  lngs: ['lt'],\n  nr: [1, 2, 10],\n  fc: 15\n}, {\n  lngs: ['lv'],\n  nr: [1, 2, 0],\n  fc: 16\n}, {\n  lngs: ['mk'],\n  nr: [1, 2],\n  fc: 17\n}, {\n  lngs: ['mnk'],\n  nr: [0, 1, 2],\n  fc: 18\n}, {\n  lngs: ['mt'],\n  nr: [1, 2, 11, 20],\n  fc: 19\n}, {\n  lngs: ['or'],\n  nr: [2, 1],\n  fc: 2\n}, {\n  lngs: ['ro'],\n  nr: [1, 2, 20],\n  fc: 20\n}, {\n  lngs: ['sl'],\n  nr: [5, 1, 2, 3],\n  fc: 21\n}, {\n  lngs: ['he', 'iw'],\n  nr: [1, 2, 20, 21],\n  fc: 22\n}];\nvar _rulesPluralsTypes = {\n  1: function _(n) {\n    return Number(n > 1);\n  },\n  2: function _(n) {\n    return Number(n != 1);\n  },\n  3: function _(n) {\n    return 0;\n  },\n  4: function _(n) {\n    return Number(n % 10 == 1 && n % 100 != 11 ? 0 : n % 10 >= 2 && n % 10 <= 4 && (n % 100 < 10 || n % 100 >= 20) ? 1 : 2);\n  },\n  5: function _(n) {\n    return Number(n == 0 ? 0 : n == 1 ? 1 : n == 2 ? 2 : n % 100 >= 3 && n % 100 <= 10 ? 3 : n % 100 >= 11 ? 4 : 5);\n  },\n  6: function _(n) {\n    return Number(n == 1 ? 0 : n >= 2 && n <= 4 ? 1 : 2);\n  },\n  7: function _(n) {\n    return Number(n == 1 ? 0 : n % 10 >= 2 && n % 10 <= 4 && (n % 100 < 10 || n % 100 >= 20) ? 1 : 2);\n  },\n  8: function _(n) {\n    return Number(n == 1 ? 0 : n == 2 ? 1 : n != 8 && n != 11 ? 2 : 3);\n  },\n  9: function _(n) {\n    return Number(n >= 2);\n  },\n  10: function _(n) {\n    return Number(n == 1 ? 0 : n == 2 ? 1 : n < 7 ? 2 : n < 11 ? 3 : 4);\n  },\n  11: function _(n) {\n    return Number(n == 1 || n == 11 ? 0 : n == 2 || n == 12 ? 1 : n > 2 && n < 20 ? 2 : 3);\n  },\n  12: function _(n) {\n    return Number(n % 10 != 1 || n % 100 == 11);\n  },\n  13: function _(n) {\n    return Number(n !== 0);\n  },\n  14: function _(n) {\n    return Number(n == 1 ? 0 : n == 2 ? 1 : n == 3 ? 2 : 3);\n  },\n  15: function _(n) {\n    return Number(n % 10 == 1 && n % 100 != 11 ? 0 : n % 10 >= 2 && (n % 100 < 10 || n % 100 >= 20) ? 1 : 2);\n  },\n  16: function _(n) {\n    return Number(n % 10 == 1 && n % 100 != 11 ? 0 : n !== 0 ? 1 : 2);\n  },\n  17: function _(n) {\n    return Number(n == 1 || n % 10 == 1 && n % 100 != 11 ? 0 : 1);\n  },\n  18: function _(n) {\n    return Number(n == 0 ? 0 : n == 1 ? 1 : 2);\n  },\n  19: function _(n) {\n    return Number(n == 1 ? 0 : n == 0 || n % 100 > 1 && n % 100 < 11 ? 1 : n % 100 > 10 && n % 100 < 20 ? 2 : 3);\n  },\n  20: function _(n) {\n    return Number(n == 1 ? 0 : n == 0 || n % 100 > 0 && n % 100 < 20 ? 1 : 2);\n  },\n  21: function _(n) {\n    return Number(n % 100 == 1 ? 1 : n % 100 == 2 ? 2 : n % 100 == 3 || n % 100 == 4 ? 3 : 0);\n  },\n  22: function _(n) {\n    return Number(n == 1 ? 0 : n == 2 ? 1 : (n < 0 || n > 10) && n % 10 == 0 ? 2 : 3);\n  }\n};\nvar deprecatedJsonVersions = ['v1', 'v2', 'v3'];\nvar suffixesOrder = {\n  zero: 0,\n  one: 1,\n  two: 2,\n  few: 3,\n  many: 4,\n  other: 5\n};\n\nfunction createRules() {\n  var rules = {};\n  sets.forEach(function (set) {\n    set.lngs.forEach(function (l) {\n      rules[l] = {\n        numbers: set.nr,\n        plurals: _rulesPluralsTypes[set.fc]\n      };\n    });\n  });\n  return rules;\n}\n\nvar PluralResolver = function () {\n  function PluralResolver(languageUtils) {\n    var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n    _classCallCheck(this, PluralResolver);\n\n    this.languageUtils = languageUtils;\n    this.options = options;\n    this.logger = baseLogger.create('pluralResolver');\n\n    if ((!this.options.compatibilityJSON || this.options.compatibilityJSON === 'v4') && (typeof Intl === 'undefined' || !Intl.PluralRules)) {\n      this.options.compatibilityJSON = 'v3';\n      this.logger.error('Your environment seems not to be Intl API compatible, use an Intl.PluralRules polyfill. Will fallback to the compatibilityJSON v3 format handling.');\n    }\n\n    this.rules = createRules();\n  }\n\n  _createClass(PluralResolver, [{\n    key: \"addRule\",\n    value: function addRule(lng, obj) {\n      this.rules[lng] = obj;\n    }\n  }, {\n    key: \"getRule\",\n    value: function getRule(code) {\n      var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n      if (this.shouldUseIntlApi()) {\n        try {\n          return new Intl.PluralRules(code, {\n            type: options.ordinal ? 'ordinal' : 'cardinal'\n          });\n        } catch (_unused) {\n          return;\n        }\n      }\n\n      return this.rules[code] || this.rules[this.languageUtils.getLanguagePartFromCode(code)];\n    }\n  }, {\n    key: \"needsPlural\",\n    value: function needsPlural(code) {\n      var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n      var rule = this.getRule(code, options);\n\n      if (this.shouldUseIntlApi()) {\n        return rule && rule.resolvedOptions().pluralCategories.length > 1;\n      }\n\n      return rule && rule.numbers.length > 1;\n    }\n  }, {\n    key: \"getPluralFormsOfKey\",\n    value: function getPluralFormsOfKey(code, key) {\n      var options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n      return this.getSuffixes(code, options).map(function (suffix) {\n        return \"\".concat(key).concat(suffix);\n      });\n    }\n  }, {\n    key: \"getSuffixes\",\n    value: function getSuffixes(code) {\n      var _this = this;\n\n      var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n      var rule = this.getRule(code, options);\n\n      if (!rule) {\n        return [];\n      }\n\n      if (this.shouldUseIntlApi()) {\n        return rule.resolvedOptions().pluralCategories.sort(function (pluralCategory1, pluralCategory2) {\n          return suffixesOrder[pluralCategory1] - suffixesOrder[pluralCategory2];\n        }).map(function (pluralCategory) {\n          return \"\".concat(_this.options.prepend).concat(pluralCategory);\n        });\n      }\n\n      return rule.numbers.map(function (number) {\n        return _this.getSuffix(code, number, options);\n      });\n    }\n  }, {\n    key: \"getSuffix\",\n    value: function getSuffix(code, count) {\n      var options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n      var rule = this.getRule(code, options);\n\n      if (rule) {\n        if (this.shouldUseIntlApi()) {\n          return \"\".concat(this.options.prepend).concat(rule.select(count));\n        }\n\n        return this.getSuffixRetroCompatible(rule, count);\n      }\n\n      this.logger.warn(\"no plural rule found for: \".concat(code));\n      return '';\n    }\n  }, {\n    key: \"getSuffixRetroCompatible\",\n    value: function getSuffixRetroCompatible(rule, count) {\n      var _this2 = this;\n\n      var idx = rule.noAbs ? rule.plurals(count) : rule.plurals(Math.abs(count));\n      var suffix = rule.numbers[idx];\n\n      if (this.options.simplifyPluralSuffix && rule.numbers.length === 2 && rule.numbers[0] === 1) {\n        if (suffix === 2) {\n          suffix = 'plural';\n        } else if (suffix === 1) {\n          suffix = '';\n        }\n      }\n\n      var returnSuffix = function returnSuffix() {\n        return _this2.options.prepend && suffix.toString() ? _this2.options.prepend + suffix.toString() : suffix.toString();\n      };\n\n      if (this.options.compatibilityJSON === 'v1') {\n        if (suffix === 1) return '';\n        if (typeof suffix === 'number') return \"_plural_\".concat(suffix.toString());\n        return returnSuffix();\n      } else if (this.options.compatibilityJSON === 'v2') {\n        return returnSuffix();\n      } else if (this.options.simplifyPluralSuffix && rule.numbers.length === 2 && rule.numbers[0] === 1) {\n        return returnSuffix();\n      }\n\n      return this.options.prepend && idx.toString() ? this.options.prepend + idx.toString() : idx.toString();\n    }\n  }, {\n    key: \"shouldUseIntlApi\",\n    value: function shouldUseIntlApi() {\n      return !deprecatedJsonVersions.includes(this.options.compatibilityJSON);\n    }\n  }]);\n\n  return PluralResolver;\n}();\n\nfunction ownKeys$3(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) { symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); } keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread$3(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys$3(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys$3(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nvar Interpolator = function () {\n  function Interpolator() {\n    var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n    _classCallCheck(this, Interpolator);\n\n    this.logger = baseLogger.create('interpolator');\n    this.options = options;\n\n    this.format = options.interpolation && options.interpolation.format || function (value) {\n      return value;\n    };\n\n    this.init(options);\n  }\n\n  _createClass(Interpolator, [{\n    key: \"init\",\n    value: function init() {\n      var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n      if (!options.interpolation) options.interpolation = {\n        escapeValue: true\n      };\n      var iOpts = options.interpolation;\n      this.escape = iOpts.escape !== undefined ? iOpts.escape : escape;\n      this.escapeValue = iOpts.escapeValue !== undefined ? iOpts.escapeValue : true;\n      this.useRawValueToEscape = iOpts.useRawValueToEscape !== undefined ? iOpts.useRawValueToEscape : false;\n      this.prefix = iOpts.prefix ? regexEscape(iOpts.prefix) : iOpts.prefixEscaped || '{{';\n      this.suffix = iOpts.suffix ? regexEscape(iOpts.suffix) : iOpts.suffixEscaped || '}}';\n      this.formatSeparator = iOpts.formatSeparator ? iOpts.formatSeparator : iOpts.formatSeparator || ',';\n      this.unescapePrefix = iOpts.unescapeSuffix ? '' : iOpts.unescapePrefix || '-';\n      this.unescapeSuffix = this.unescapePrefix ? '' : iOpts.unescapeSuffix || '';\n      this.nestingPrefix = iOpts.nestingPrefix ? regexEscape(iOpts.nestingPrefix) : iOpts.nestingPrefixEscaped || regexEscape('$t(');\n      this.nestingSuffix = iOpts.nestingSuffix ? regexEscape(iOpts.nestingSuffix) : iOpts.nestingSuffixEscaped || regexEscape(')');\n      this.nestingOptionsSeparator = iOpts.nestingOptionsSeparator ? iOpts.nestingOptionsSeparator : iOpts.nestingOptionsSeparator || ',';\n      this.maxReplaces = iOpts.maxReplaces ? iOpts.maxReplaces : 1000;\n      this.alwaysFormat = iOpts.alwaysFormat !== undefined ? iOpts.alwaysFormat : false;\n      this.resetRegExp();\n    }\n  }, {\n    key: \"reset\",\n    value: function reset() {\n      if (this.options) this.init(this.options);\n    }\n  }, {\n    key: \"resetRegExp\",\n    value: function resetRegExp() {\n      var regexpStr = \"\".concat(this.prefix, \"(.+?)\").concat(this.suffix);\n      this.regexp = new RegExp(regexpStr, 'g');\n      var regexpUnescapeStr = \"\".concat(this.prefix).concat(this.unescapePrefix, \"(.+?)\").concat(this.unescapeSuffix).concat(this.suffix);\n      this.regexpUnescape = new RegExp(regexpUnescapeStr, 'g');\n      var nestingRegexpStr = \"\".concat(this.nestingPrefix, \"(.+?)\").concat(this.nestingSuffix);\n      this.nestingRegexp = new RegExp(nestingRegexpStr, 'g');\n    }\n  }, {\n    key: \"interpolate\",\n    value: function interpolate(str, data, lng, options) {\n      var _this = this;\n\n      var match;\n      var value;\n      var replaces;\n      var defaultData = this.options && this.options.interpolation && this.options.interpolation.defaultVariables || {};\n\n      function regexSafe(val) {\n        return val.replace(/\\$/g, '$$$$');\n      }\n\n      var handleFormat = function handleFormat(key) {\n        if (key.indexOf(_this.formatSeparator) < 0) {\n          var path = getPathWithDefaults(data, defaultData, key);\n          return _this.alwaysFormat ? _this.format(path, undefined, lng, _objectSpread$3(_objectSpread$3(_objectSpread$3({}, options), data), {}, {\n            interpolationkey: key\n          })) : path;\n        }\n\n        var p = key.split(_this.formatSeparator);\n        var k = p.shift().trim();\n        var f = p.join(_this.formatSeparator).trim();\n        return _this.format(getPathWithDefaults(data, defaultData, k), f, lng, _objectSpread$3(_objectSpread$3(_objectSpread$3({}, options), data), {}, {\n          interpolationkey: k\n        }));\n      };\n\n      this.resetRegExp();\n      var missingInterpolationHandler = options && options.missingInterpolationHandler || this.options.missingInterpolationHandler;\n      var skipOnVariables = options && options.interpolation && options.interpolation.skipOnVariables !== undefined ? options.interpolation.skipOnVariables : this.options.interpolation.skipOnVariables;\n      var todos = [{\n        regex: this.regexpUnescape,\n        safeValue: function safeValue(val) {\n          return regexSafe(val);\n        }\n      }, {\n        regex: this.regexp,\n        safeValue: function safeValue(val) {\n          return _this.escapeValue ? regexSafe(_this.escape(val)) : regexSafe(val);\n        }\n      }];\n      todos.forEach(function (todo) {\n        replaces = 0;\n\n        while (match = todo.regex.exec(str)) {\n          var matchedVar = match[1].trim();\n          value = handleFormat(matchedVar);\n\n          if (value === undefined) {\n            if (typeof missingInterpolationHandler === 'function') {\n              var temp = missingInterpolationHandler(str, match, options);\n              value = typeof temp === 'string' ? temp : '';\n            } else if (options && options.hasOwnProperty(matchedVar)) {\n              value = '';\n            } else if (skipOnVariables) {\n              value = match[0];\n              continue;\n            } else {\n              _this.logger.warn(\"missed to pass in variable \".concat(matchedVar, \" for interpolating \").concat(str));\n\n              value = '';\n            }\n          } else if (typeof value !== 'string' && !_this.useRawValueToEscape) {\n            value = makeString(value);\n          }\n\n          var safeValue = todo.safeValue(value);\n          str = str.replace(match[0], safeValue);\n\n          if (skipOnVariables) {\n            todo.regex.lastIndex += value.length;\n            todo.regex.lastIndex -= match[0].length;\n          } else {\n            todo.regex.lastIndex = 0;\n          }\n\n          replaces++;\n\n          if (replaces >= _this.maxReplaces) {\n            break;\n          }\n        }\n      });\n      return str;\n    }\n  }, {\n    key: \"nest\",\n    value: function nest(str, fc) {\n      var _this2 = this;\n\n      var options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n      var match;\n      var value;\n\n      var clonedOptions = _objectSpread$3({}, options);\n\n      clonedOptions.applyPostProcessor = false;\n      delete clonedOptions.defaultValue;\n\n      function handleHasOptions(key, inheritedOptions) {\n        var sep = this.nestingOptionsSeparator;\n        if (key.indexOf(sep) < 0) return key;\n        var c = key.split(new RegExp(\"\".concat(sep, \"[ ]*{\")));\n        var optionsString = \"{\".concat(c[1]);\n        key = c[0];\n        optionsString = this.interpolate(optionsString, clonedOptions);\n        var matchedSingleQuotes = optionsString.match(/'/g);\n        var matchedDoubleQuotes = optionsString.match(/\"/g);\n\n        if (matchedSingleQuotes && matchedSingleQuotes.length % 2 === 0 && !matchedDoubleQuotes || matchedDoubleQuotes.length % 2 !== 0) {\n          optionsString = optionsString.replace(/'/g, '\"');\n        }\n\n        try {\n          clonedOptions = JSON.parse(optionsString);\n          if (inheritedOptions) clonedOptions = _objectSpread$3(_objectSpread$3({}, inheritedOptions), clonedOptions);\n        } catch (e) {\n          this.logger.warn(\"failed parsing options string in nesting for key \".concat(key), e);\n          return \"\".concat(key).concat(sep).concat(optionsString);\n        }\n\n        delete clonedOptions.defaultValue;\n        return key;\n      }\n\n      while (match = this.nestingRegexp.exec(str)) {\n        var formatters = [];\n        var doReduce = false;\n\n        if (match[0].indexOf(this.formatSeparator) !== -1 && !/{.*}/.test(match[1])) {\n          var r = match[1].split(this.formatSeparator).map(function (elem) {\n            return elem.trim();\n          });\n          match[1] = r.shift();\n          formatters = r;\n          doReduce = true;\n        }\n\n        value = fc(handleHasOptions.call(this, match[1].trim(), clonedOptions), clonedOptions);\n        if (value && match[0] === str && typeof value !== 'string') return value;\n        if (typeof value !== 'string') value = makeString(value);\n\n        if (!value) {\n          this.logger.warn(\"missed to resolve \".concat(match[1], \" for nesting \").concat(str));\n          value = '';\n        }\n\n        if (doReduce) {\n          value = formatters.reduce(function (v, f) {\n            return _this2.format(v, f, options.lng, _objectSpread$3(_objectSpread$3({}, options), {}, {\n              interpolationkey: match[1].trim()\n            }));\n          }, value.trim());\n        }\n\n        str = str.replace(match[0], value);\n        this.regexp.lastIndex = 0;\n      }\n\n      return str;\n    }\n  }]);\n\n  return Interpolator;\n}();\n\nfunction ownKeys$4(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) { symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); } keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread$4(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys$4(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys$4(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction parseFormatStr(formatStr) {\n  var formatName = formatStr.toLowerCase().trim();\n  var formatOptions = {};\n\n  if (formatStr.indexOf('(') > -1) {\n    var p = formatStr.split('(');\n    formatName = p[0].toLowerCase().trim();\n    var optStr = p[1].substring(0, p[1].length - 1);\n\n    if (formatName === 'currency' && optStr.indexOf(':') < 0) {\n      if (!formatOptions.currency) formatOptions.currency = optStr.trim();\n    } else if (formatName === 'relativetime' && optStr.indexOf(':') < 0) {\n      if (!formatOptions.range) formatOptions.range = optStr.trim();\n    } else {\n      var opts = optStr.split(';');\n      opts.forEach(function (opt) {\n        if (!opt) return;\n\n        var _opt$split = opt.split(':'),\n            _opt$split2 = _toArray(_opt$split),\n            key = _opt$split2[0],\n            rest = _opt$split2.slice(1);\n\n        var val = rest.join(':').trim().replace(/^'+|'+$/g, '');\n        if (!formatOptions[key.trim()]) formatOptions[key.trim()] = val;\n        if (val === 'false') formatOptions[key.trim()] = false;\n        if (val === 'true') formatOptions[key.trim()] = true;\n        if (!isNaN(val)) formatOptions[key.trim()] = parseInt(val, 10);\n      });\n    }\n  }\n\n  return {\n    formatName: formatName,\n    formatOptions: formatOptions\n  };\n}\n\nfunction createCachedFormatter(fn) {\n  var cache = {};\n  return function invokeFormatter(val, lng, options) {\n    var key = lng + JSON.stringify(options);\n    var formatter = cache[key];\n\n    if (!formatter) {\n      formatter = fn(lng, options);\n      cache[key] = formatter;\n    }\n\n    return formatter(val);\n  };\n}\n\nvar Formatter = function () {\n  function Formatter() {\n    var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n    _classCallCheck(this, Formatter);\n\n    this.logger = baseLogger.create('formatter');\n    this.options = options;\n    this.formats = {\n      number: createCachedFormatter(function (lng, options) {\n        var formatter = new Intl.NumberFormat(lng, options);\n        return function (val) {\n          return formatter.format(val);\n        };\n      }),\n      currency: createCachedFormatter(function (lng, options) {\n        var formatter = new Intl.NumberFormat(lng, _objectSpread$4(_objectSpread$4({}, options), {}, {\n          style: 'currency'\n        }));\n        return function (val) {\n          return formatter.format(val);\n        };\n      }),\n      datetime: createCachedFormatter(function (lng, options) {\n        var formatter = new Intl.DateTimeFormat(lng, _objectSpread$4({}, options));\n        return function (val) {\n          return formatter.format(val);\n        };\n      }),\n      relativetime: createCachedFormatter(function (lng, options) {\n        var formatter = new Intl.RelativeTimeFormat(lng, _objectSpread$4({}, options));\n        return function (val) {\n          return formatter.format(val, options.range || 'day');\n        };\n      }),\n      list: createCachedFormatter(function (lng, options) {\n        var formatter = new Intl.ListFormat(lng, _objectSpread$4({}, options));\n        return function (val) {\n          return formatter.format(val);\n        };\n      })\n    };\n    this.init(options);\n  }\n\n  _createClass(Formatter, [{\n    key: \"init\",\n    value: function init(services) {\n      var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {\n        interpolation: {}\n      };\n      var iOpts = options.interpolation;\n      this.formatSeparator = iOpts.formatSeparator ? iOpts.formatSeparator : iOpts.formatSeparator || ',';\n    }\n  }, {\n    key: \"add\",\n    value: function add(name, fc) {\n      this.formats[name.toLowerCase().trim()] = fc;\n    }\n  }, {\n    key: \"addCached\",\n    value: function addCached(name, fc) {\n      this.formats[name.toLowerCase().trim()] = createCachedFormatter(fc);\n    }\n  }, {\n    key: \"format\",\n    value: function format(value, _format, lng, options) {\n      var _this = this;\n\n      var formats = _format.split(this.formatSeparator);\n\n      var result = formats.reduce(function (mem, f) {\n        var _parseFormatStr = parseFormatStr(f),\n            formatName = _parseFormatStr.formatName,\n            formatOptions = _parseFormatStr.formatOptions;\n\n        if (_this.formats[formatName]) {\n          var formatted = mem;\n\n          try {\n            var valOptions = options && options.formatParams && options.formatParams[options.interpolationkey] || {};\n            var l = valOptions.locale || valOptions.lng || options.locale || options.lng || lng;\n            formatted = _this.formats[formatName](mem, l, _objectSpread$4(_objectSpread$4(_objectSpread$4({}, formatOptions), options), valOptions));\n          } catch (error) {\n            _this.logger.warn(error);\n          }\n\n          return formatted;\n        } else {\n          _this.logger.warn(\"there was no format function for \".concat(formatName));\n        }\n\n        return mem;\n      }, value);\n      return result;\n    }\n  }]);\n\n  return Formatter;\n}();\n\nfunction ownKeys$5(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) { symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); } keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread$5(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys$5(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys$5(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _createSuper$2(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct$2(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct$2() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nfunction removePending(q, name) {\n  if (q.pending[name] !== undefined) {\n    delete q.pending[name];\n    q.pendingCount--;\n  }\n}\n\nvar Connector = function (_EventEmitter) {\n  _inherits(Connector, _EventEmitter);\n\n  var _super = _createSuper$2(Connector);\n\n  function Connector(backend, store, services) {\n    var _this;\n\n    var options = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : {};\n\n    _classCallCheck(this, Connector);\n\n    _this = _super.call(this);\n\n    if (isIE10) {\n      EventEmitter.call(_assertThisInitialized(_this));\n    }\n\n    _this.backend = backend;\n    _this.store = store;\n    _this.services = services;\n    _this.languageUtils = services.languageUtils;\n    _this.options = options;\n    _this.logger = baseLogger.create('backendConnector');\n    _this.waitingReads = [];\n    _this.maxParallelReads = options.maxParallelReads || 10;\n    _this.readingCalls = 0;\n    _this.maxRetries = options.maxRetries >= 0 ? options.maxRetries : 5;\n    _this.retryTimeout = options.retryTimeout >= 1 ? options.retryTimeout : 350;\n    _this.state = {};\n    _this.queue = [];\n\n    if (_this.backend && _this.backend.init) {\n      _this.backend.init(services, options.backend, options);\n    }\n\n    return _this;\n  }\n\n  _createClass(Connector, [{\n    key: \"queueLoad\",\n    value: function queueLoad(languages, namespaces, options, callback) {\n      var _this2 = this;\n\n      var toLoad = {};\n      var pending = {};\n      var toLoadLanguages = {};\n      var toLoadNamespaces = {};\n      languages.forEach(function (lng) {\n        var hasAllNamespaces = true;\n        namespaces.forEach(function (ns) {\n          var name = \"\".concat(lng, \"|\").concat(ns);\n\n          if (!options.reload && _this2.store.hasResourceBundle(lng, ns)) {\n            _this2.state[name] = 2;\n          } else if (_this2.state[name] < 0) ; else if (_this2.state[name] === 1) {\n            if (pending[name] === undefined) pending[name] = true;\n          } else {\n            _this2.state[name] = 1;\n            hasAllNamespaces = false;\n            if (pending[name] === undefined) pending[name] = true;\n            if (toLoad[name] === undefined) toLoad[name] = true;\n            if (toLoadNamespaces[ns] === undefined) toLoadNamespaces[ns] = true;\n          }\n        });\n        if (!hasAllNamespaces) toLoadLanguages[lng] = true;\n      });\n\n      if (Object.keys(toLoad).length || Object.keys(pending).length) {\n        this.queue.push({\n          pending: pending,\n          pendingCount: Object.keys(pending).length,\n          loaded: {},\n          errors: [],\n          callback: callback\n        });\n      }\n\n      return {\n        toLoad: Object.keys(toLoad),\n        pending: Object.keys(pending),\n        toLoadLanguages: Object.keys(toLoadLanguages),\n        toLoadNamespaces: Object.keys(toLoadNamespaces)\n      };\n    }\n  }, {\n    key: \"loaded\",\n    value: function loaded(name, err, data) {\n      var s = name.split('|');\n      var lng = s[0];\n      var ns = s[1];\n      if (err) this.emit('failedLoading', lng, ns, err);\n\n      if (data) {\n        this.store.addResourceBundle(lng, ns, data);\n      }\n\n      this.state[name] = err ? -1 : 2;\n      var loaded = {};\n      this.queue.forEach(function (q) {\n        pushPath(q.loaded, [lng], ns);\n        removePending(q, name);\n        if (err) q.errors.push(err);\n\n        if (q.pendingCount === 0 && !q.done) {\n          Object.keys(q.loaded).forEach(function (l) {\n            if (!loaded[l]) loaded[l] = {};\n            var loadedKeys = q.loaded[l];\n\n            if (loadedKeys.length) {\n              loadedKeys.forEach(function (ns) {\n                if (loaded[l][ns] === undefined) loaded[l][ns] = true;\n              });\n            }\n          });\n          q.done = true;\n\n          if (q.errors.length) {\n            q.callback(q.errors);\n          } else {\n            q.callback();\n          }\n        }\n      });\n      this.emit('loaded', loaded);\n      this.queue = this.queue.filter(function (q) {\n        return !q.done;\n      });\n    }\n  }, {\n    key: \"read\",\n    value: function read(lng, ns, fcName) {\n      var _this3 = this;\n\n      var tried = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : 0;\n      var wait = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : this.retryTimeout;\n      var callback = arguments.length > 5 ? arguments[5] : undefined;\n      if (!lng.length) return callback(null, {});\n\n      if (this.readingCalls >= this.maxParallelReads) {\n        this.waitingReads.push({\n          lng: lng,\n          ns: ns,\n          fcName: fcName,\n          tried: tried,\n          wait: wait,\n          callback: callback\n        });\n        return;\n      }\n\n      this.readingCalls++;\n      return this.backend[fcName](lng, ns, function (err, data) {\n        _this3.readingCalls--;\n\n        if (_this3.waitingReads.length > 0) {\n          var next = _this3.waitingReads.shift();\n\n          _this3.read(next.lng, next.ns, next.fcName, next.tried, next.wait, next.callback);\n        }\n\n        if (err && data && tried < _this3.maxRetries) {\n          setTimeout(function () {\n            _this3.read.call(_this3, lng, ns, fcName, tried + 1, wait * 2, callback);\n          }, wait);\n          return;\n        }\n\n        callback(err, data);\n      });\n    }\n  }, {\n    key: \"prepareLoading\",\n    value: function prepareLoading(languages, namespaces) {\n      var _this4 = this;\n\n      var options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n      var callback = arguments.length > 3 ? arguments[3] : undefined;\n\n      if (!this.backend) {\n        this.logger.warn('No backend was added via i18next.use. Will not load resources.');\n        return callback && callback();\n      }\n\n      if (typeof languages === 'string') languages = this.languageUtils.toResolveHierarchy(languages);\n      if (typeof namespaces === 'string') namespaces = [namespaces];\n      var toLoad = this.queueLoad(languages, namespaces, options, callback);\n\n      if (!toLoad.toLoad.length) {\n        if (!toLoad.pending.length) callback();\n        return null;\n      }\n\n      toLoad.toLoad.forEach(function (name) {\n        _this4.loadOne(name);\n      });\n    }\n  }, {\n    key: \"load\",\n    value: function load(languages, namespaces, callback) {\n      this.prepareLoading(languages, namespaces, {}, callback);\n    }\n  }, {\n    key: \"reload\",\n    value: function reload(languages, namespaces, callback) {\n      this.prepareLoading(languages, namespaces, {\n        reload: true\n      }, callback);\n    }\n  }, {\n    key: \"loadOne\",\n    value: function loadOne(name) {\n      var _this5 = this;\n\n      var prefix = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : '';\n      var s = name.split('|');\n      var lng = s[0];\n      var ns = s[1];\n      this.read(lng, ns, 'read', undefined, undefined, function (err, data) {\n        if (err) _this5.logger.warn(\"\".concat(prefix, \"loading namespace \").concat(ns, \" for language \").concat(lng, \" failed\"), err);\n        if (!err && data) _this5.logger.log(\"\".concat(prefix, \"loaded namespace \").concat(ns, \" for language \").concat(lng), data);\n\n        _this5.loaded(name, err, data);\n      });\n    }\n  }, {\n    key: \"saveMissing\",\n    value: function saveMissing(languages, namespace, key, fallbackValue, isUpdate) {\n      var options = arguments.length > 5 && arguments[5] !== undefined ? arguments[5] : {};\n\n      if (this.services.utils && this.services.utils.hasLoadedNamespace && !this.services.utils.hasLoadedNamespace(namespace)) {\n        this.logger.warn(\"did not save key \\\"\".concat(key, \"\\\" as the namespace \\\"\").concat(namespace, \"\\\" was not yet loaded\"), 'This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!');\n        return;\n      }\n\n      if (key === undefined || key === null || key === '') return;\n\n      if (this.backend && this.backend.create) {\n        this.backend.create(languages, namespace, key, fallbackValue, null, _objectSpread$5(_objectSpread$5({}, options), {}, {\n          isUpdate: isUpdate\n        }));\n      }\n\n      if (!languages || !languages[0]) return;\n      this.store.addResource(languages[0], namespace, key, fallbackValue);\n    }\n  }]);\n\n  return Connector;\n}(EventEmitter);\n\nfunction get() {\n  return {\n    debug: false,\n    initImmediate: true,\n    ns: ['translation'],\n    defaultNS: ['translation'],\n    fallbackLng: ['dev'],\n    fallbackNS: false,\n    supportedLngs: false,\n    nonExplicitSupportedLngs: false,\n    load: 'all',\n    preload: false,\n    simplifyPluralSuffix: true,\n    keySeparator: '.',\n    nsSeparator: ':',\n    pluralSeparator: '_',\n    contextSeparator: '_',\n    partialBundledLanguages: false,\n    saveMissing: false,\n    updateMissing: false,\n    saveMissingTo: 'fallback',\n    saveMissingPlurals: true,\n    missingKeyHandler: false,\n    missingInterpolationHandler: false,\n    postProcess: false,\n    postProcessPassResolved: false,\n    returnNull: true,\n    returnEmptyString: true,\n    returnObjects: false,\n    joinArrays: false,\n    returnedObjectHandler: false,\n    parseMissingKeyHandler: false,\n    appendNamespaceToMissingKey: false,\n    appendNamespaceToCIMode: false,\n    overloadTranslationOptionHandler: function handle(args) {\n      var ret = {};\n      if (_typeof(args[1]) === 'object') ret = args[1];\n      if (typeof args[1] === 'string') ret.defaultValue = args[1];\n      if (typeof args[2] === 'string') ret.tDescription = args[2];\n\n      if (_typeof(args[2]) === 'object' || _typeof(args[3]) === 'object') {\n        var options = args[3] || args[2];\n        Object.keys(options).forEach(function (key) {\n          ret[key] = options[key];\n        });\n      }\n\n      return ret;\n    },\n    interpolation: {\n      escapeValue: true,\n      format: function format(value, _format, lng, options) {\n        return value;\n      },\n      prefix: '{{',\n      suffix: '}}',\n      formatSeparator: ',',\n      unescapePrefix: '-',\n      nestingPrefix: '$t(',\n      nestingSuffix: ')',\n      nestingOptionsSeparator: ',',\n      maxReplaces: 1000,\n      skipOnVariables: true\n    }\n  };\n}\nfunction transformOptions(options) {\n  if (typeof options.ns === 'string') options.ns = [options.ns];\n  if (typeof options.fallbackLng === 'string') options.fallbackLng = [options.fallbackLng];\n  if (typeof options.fallbackNS === 'string') options.fallbackNS = [options.fallbackNS];\n\n  if (options.supportedLngs && options.supportedLngs.indexOf('cimode') < 0) {\n    options.supportedLngs = options.supportedLngs.concat(['cimode']);\n  }\n\n  return options;\n}\n\nfunction ownKeys$6(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) { symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); } keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread$6(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys$6(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys$6(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _createSuper$3(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct$3(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct$3() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nfunction noop() {}\n\nfunction bindMemberFunctions(inst) {\n  var mems = Object.getOwnPropertyNames(Object.getPrototypeOf(inst));\n  mems.forEach(function (mem) {\n    if (typeof inst[mem] === 'function') {\n      inst[mem] = inst[mem].bind(inst);\n    }\n  });\n}\n\nvar I18n = function (_EventEmitter) {\n  _inherits(I18n, _EventEmitter);\n\n  var _super = _createSuper$3(I18n);\n\n  function I18n() {\n    var _this;\n\n    var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    var callback = arguments.length > 1 ? arguments[1] : undefined;\n\n    _classCallCheck(this, I18n);\n\n    _this = _super.call(this);\n\n    if (isIE10) {\n      EventEmitter.call(_assertThisInitialized(_this));\n    }\n\n    _this.options = transformOptions(options);\n    _this.services = {};\n    _this.logger = baseLogger;\n    _this.modules = {\n      external: []\n    };\n    bindMemberFunctions(_assertThisInitialized(_this));\n\n    if (callback && !_this.isInitialized && !options.isClone) {\n      if (!_this.options.initImmediate) {\n        _this.init(options, callback);\n\n        return _possibleConstructorReturn(_this, _assertThisInitialized(_this));\n      }\n\n      setTimeout(function () {\n        _this.init(options, callback);\n      }, 0);\n    }\n\n    return _this;\n  }\n\n  _createClass(I18n, [{\n    key: \"init\",\n    value: function init() {\n      var _this2 = this;\n\n      var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n      var callback = arguments.length > 1 ? arguments[1] : undefined;\n\n      if (typeof options === 'function') {\n        callback = options;\n        options = {};\n      }\n\n      if (!options.defaultNS && options.defaultNS !== false && options.ns) {\n        if (typeof options.ns === 'string') {\n          options.defaultNS = options.ns;\n        } else if (options.ns.indexOf('translation') < 0) {\n          options.defaultNS = options.ns[0];\n        }\n      }\n\n      var defOpts = get();\n      this.options = _objectSpread$6(_objectSpread$6(_objectSpread$6({}, defOpts), this.options), transformOptions(options));\n\n      if (this.options.compatibilityAPI !== 'v1') {\n        this.options.interpolation = _objectSpread$6(_objectSpread$6({}, defOpts.interpolation), this.options.interpolation);\n      }\n\n      if (options.keySeparator !== undefined) {\n        this.options.userDefinedKeySeparator = options.keySeparator;\n      }\n\n      if (options.nsSeparator !== undefined) {\n        this.options.userDefinedNsSeparator = options.nsSeparator;\n      }\n\n      function createClassOnDemand(ClassOrObject) {\n        if (!ClassOrObject) return null;\n        if (typeof ClassOrObject === 'function') return new ClassOrObject();\n        return ClassOrObject;\n      }\n\n      if (!this.options.isClone) {\n        if (this.modules.logger) {\n          baseLogger.init(createClassOnDemand(this.modules.logger), this.options);\n        } else {\n          baseLogger.init(null, this.options);\n        }\n\n        var formatter;\n\n        if (this.modules.formatter) {\n          formatter = this.modules.formatter;\n        } else if (typeof Intl !== 'undefined') {\n          formatter = Formatter;\n        }\n\n        var lu = new LanguageUtil(this.options);\n        this.store = new ResourceStore(this.options.resources, this.options);\n        var s = this.services;\n        s.logger = baseLogger;\n        s.resourceStore = this.store;\n        s.languageUtils = lu;\n        s.pluralResolver = new PluralResolver(lu, {\n          prepend: this.options.pluralSeparator,\n          compatibilityJSON: this.options.compatibilityJSON,\n          simplifyPluralSuffix: this.options.simplifyPluralSuffix\n        });\n\n        if (formatter && (!this.options.interpolation.format || this.options.interpolation.format === defOpts.interpolation.format)) {\n          s.formatter = createClassOnDemand(formatter);\n          s.formatter.init(s, this.options);\n          this.options.interpolation.format = s.formatter.format.bind(s.formatter);\n        }\n\n        s.interpolator = new Interpolator(this.options);\n        s.utils = {\n          hasLoadedNamespace: this.hasLoadedNamespace.bind(this)\n        };\n        s.backendConnector = new Connector(createClassOnDemand(this.modules.backend), s.resourceStore, s, this.options);\n        s.backendConnector.on('*', function (event) {\n          for (var _len = arguments.length, args = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n            args[_key - 1] = arguments[_key];\n          }\n\n          _this2.emit.apply(_this2, [event].concat(args));\n        });\n\n        if (this.modules.languageDetector) {\n          s.languageDetector = createClassOnDemand(this.modules.languageDetector);\n          s.languageDetector.init(s, this.options.detection, this.options);\n        }\n\n        if (this.modules.i18nFormat) {\n          s.i18nFormat = createClassOnDemand(this.modules.i18nFormat);\n          if (s.i18nFormat.init) s.i18nFormat.init(this);\n        }\n\n        this.translator = new Translator(this.services, this.options);\n        this.translator.on('*', function (event) {\n          for (var _len2 = arguments.length, args = new Array(_len2 > 1 ? _len2 - 1 : 0), _key2 = 1; _key2 < _len2; _key2++) {\n            args[_key2 - 1] = arguments[_key2];\n          }\n\n          _this2.emit.apply(_this2, [event].concat(args));\n        });\n        this.modules.external.forEach(function (m) {\n          if (m.init) m.init(_this2);\n        });\n      }\n\n      this.format = this.options.interpolation.format;\n      if (!callback) callback = noop;\n\n      if (this.options.fallbackLng && !this.services.languageDetector && !this.options.lng) {\n        var codes = this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);\n        if (codes.length > 0 && codes[0] !== 'dev') this.options.lng = codes[0];\n      }\n\n      if (!this.services.languageDetector && !this.options.lng) {\n        this.logger.warn('init: no languageDetector is used and no lng is defined');\n      }\n\n      var storeApi = ['getResource', 'hasResourceBundle', 'getResourceBundle', 'getDataByLanguage'];\n      storeApi.forEach(function (fcName) {\n        _this2[fcName] = function () {\n          var _this2$store;\n\n          return (_this2$store = _this2.store)[fcName].apply(_this2$store, arguments);\n        };\n      });\n      var storeApiChained = ['addResource', 'addResources', 'addResourceBundle', 'removeResourceBundle'];\n      storeApiChained.forEach(function (fcName) {\n        _this2[fcName] = function () {\n          var _this2$store2;\n\n          (_this2$store2 = _this2.store)[fcName].apply(_this2$store2, arguments);\n\n          return _this2;\n        };\n      });\n      var deferred = defer();\n\n      var load = function load() {\n        var finish = function finish(err, t) {\n          if (_this2.isInitialized && !_this2.initializedStoreOnce) _this2.logger.warn('init: i18next is already initialized. You should call init just once!');\n          _this2.isInitialized = true;\n          if (!_this2.options.isClone) _this2.logger.log('initialized', _this2.options);\n\n          _this2.emit('initialized', _this2.options);\n\n          deferred.resolve(t);\n          callback(err, t);\n        };\n\n        if (_this2.languages && _this2.options.compatibilityAPI !== 'v1' && !_this2.isInitialized) return finish(null, _this2.t.bind(_this2));\n\n        _this2.changeLanguage(_this2.options.lng, finish);\n      };\n\n      if (this.options.resources || !this.options.initImmediate) {\n        load();\n      } else {\n        setTimeout(load, 0);\n      }\n\n      return deferred;\n    }\n  }, {\n    key: \"loadResources\",\n    value: function loadResources(language) {\n      var _this3 = this;\n\n      var callback = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : noop;\n      var usedCallback = callback;\n      var usedLng = typeof language === 'string' ? language : this.language;\n      if (typeof language === 'function') usedCallback = language;\n\n      if (!this.options.resources || this.options.partialBundledLanguages) {\n        if (usedLng && usedLng.toLowerCase() === 'cimode') return usedCallback();\n        var toLoad = [];\n\n        var append = function append(lng) {\n          if (!lng) return;\n\n          var lngs = _this3.services.languageUtils.toResolveHierarchy(lng);\n\n          lngs.forEach(function (l) {\n            if (toLoad.indexOf(l) < 0) toLoad.push(l);\n          });\n        };\n\n        if (!usedLng) {\n          var fallbacks = this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);\n          fallbacks.forEach(function (l) {\n            return append(l);\n          });\n        } else {\n          append(usedLng);\n        }\n\n        if (this.options.preload) {\n          this.options.preload.forEach(function (l) {\n            return append(l);\n          });\n        }\n\n        this.services.backendConnector.load(toLoad, this.options.ns, function (e) {\n          if (!e && !_this3.resolvedLanguage && _this3.language) _this3.setResolvedLanguage(_this3.language);\n          usedCallback(e);\n        });\n      } else {\n        usedCallback(null);\n      }\n    }\n  }, {\n    key: \"reloadResources\",\n    value: function reloadResources(lngs, ns, callback) {\n      var deferred = defer();\n      if (!lngs) lngs = this.languages;\n      if (!ns) ns = this.options.ns;\n      if (!callback) callback = noop;\n      this.services.backendConnector.reload(lngs, ns, function (err) {\n        deferred.resolve();\n        callback(err);\n      });\n      return deferred;\n    }\n  }, {\n    key: \"use\",\n    value: function use(module) {\n      if (!module) throw new Error('You are passing an undefined module! Please check the object you are passing to i18next.use()');\n      if (!module.type) throw new Error('You are passing a wrong module! Please check the object you are passing to i18next.use()');\n\n      if (module.type === 'backend') {\n        this.modules.backend = module;\n      }\n\n      if (module.type === 'logger' || module.log && module.warn && module.error) {\n        this.modules.logger = module;\n      }\n\n      if (module.type === 'languageDetector') {\n        this.modules.languageDetector = module;\n      }\n\n      if (module.type === 'i18nFormat') {\n        this.modules.i18nFormat = module;\n      }\n\n      if (module.type === 'postProcessor') {\n        postProcessor.addPostProcessor(module);\n      }\n\n      if (module.type === 'formatter') {\n        this.modules.formatter = module;\n      }\n\n      if (module.type === '3rdParty') {\n        this.modules.external.push(module);\n      }\n\n      return this;\n    }\n  }, {\n    key: \"setResolvedLanguage\",\n    value: function setResolvedLanguage(l) {\n      if (!l || !this.languages) return;\n      if (['cimode', 'dev'].indexOf(l) > -1) return;\n\n      for (var li = 0; li < this.languages.length; li++) {\n        var lngInLngs = this.languages[li];\n        if (['cimode', 'dev'].indexOf(lngInLngs) > -1) continue;\n\n        if (this.store.hasLanguageSomeTranslations(lngInLngs)) {\n          this.resolvedLanguage = lngInLngs;\n          break;\n        }\n      }\n    }\n  }, {\n    key: \"changeLanguage\",\n    value: function changeLanguage(lng, callback) {\n      var _this4 = this;\n\n      this.isLanguageChangingTo = lng;\n      var deferred = defer();\n      this.emit('languageChanging', lng);\n\n      var setLngProps = function setLngProps(l) {\n        _this4.language = l;\n        _this4.languages = _this4.services.languageUtils.toResolveHierarchy(l);\n        _this4.resolvedLanguage = undefined;\n\n        _this4.setResolvedLanguage(l);\n      };\n\n      var done = function done(err, l) {\n        if (l) {\n          setLngProps(l);\n\n          _this4.translator.changeLanguage(l);\n\n          _this4.isLanguageChangingTo = undefined;\n\n          _this4.emit('languageChanged', l);\n\n          _this4.logger.log('languageChanged', l);\n        } else {\n          _this4.isLanguageChangingTo = undefined;\n        }\n\n        deferred.resolve(function () {\n          return _this4.t.apply(_this4, arguments);\n        });\n        if (callback) callback(err, function () {\n          return _this4.t.apply(_this4, arguments);\n        });\n      };\n\n      var setLng = function setLng(lngs) {\n        if (!lng && !lngs && _this4.services.languageDetector) lngs = [];\n        var l = typeof lngs === 'string' ? lngs : _this4.services.languageUtils.getBestMatchFromCodes(lngs);\n\n        if (l) {\n          if (!_this4.language) {\n            setLngProps(l);\n          }\n\n          if (!_this4.translator.language) _this4.translator.changeLanguage(l);\n          if (_this4.services.languageDetector) _this4.services.languageDetector.cacheUserLanguage(l);\n        }\n\n        _this4.loadResources(l, function (err) {\n          done(err, l);\n        });\n      };\n\n      if (!lng && this.services.languageDetector && !this.services.languageDetector.async) {\n        setLng(this.services.languageDetector.detect());\n      } else if (!lng && this.services.languageDetector && this.services.languageDetector.async) {\n        this.services.languageDetector.detect(setLng);\n      } else {\n        setLng(lng);\n      }\n\n      return deferred;\n    }\n  }, {\n    key: \"getFixedT\",\n    value: function getFixedT(lng, ns, keyPrefix) {\n      var _this5 = this;\n\n      var fixedT = function fixedT(key, opts) {\n        var options;\n\n        if (_typeof(opts) !== 'object') {\n          for (var _len3 = arguments.length, rest = new Array(_len3 > 2 ? _len3 - 2 : 0), _key3 = 2; _key3 < _len3; _key3++) {\n            rest[_key3 - 2] = arguments[_key3];\n          }\n\n          options = _this5.options.overloadTranslationOptionHandler([key, opts].concat(rest));\n        } else {\n          options = _objectSpread$6({}, opts);\n        }\n\n        options.lng = options.lng || fixedT.lng;\n        options.lngs = options.lngs || fixedT.lngs;\n        options.ns = options.ns || fixedT.ns;\n        options.keyPrefix = options.keyPrefix || keyPrefix || fixedT.keyPrefix;\n        var keySeparator = _this5.options.keySeparator || '.';\n        var resultKey = options.keyPrefix ? \"\".concat(options.keyPrefix).concat(keySeparator).concat(key) : key;\n        return _this5.t(resultKey, options);\n      };\n\n      if (typeof lng === 'string') {\n        fixedT.lng = lng;\n      } else {\n        fixedT.lngs = lng;\n      }\n\n      fixedT.ns = ns;\n      fixedT.keyPrefix = keyPrefix;\n      return fixedT;\n    }\n  }, {\n    key: \"t\",\n    value: function t() {\n      var _this$translator;\n\n      return this.translator && (_this$translator = this.translator).translate.apply(_this$translator, arguments);\n    }\n  }, {\n    key: \"exists\",\n    value: function exists() {\n      var _this$translator2;\n\n      return this.translator && (_this$translator2 = this.translator).exists.apply(_this$translator2, arguments);\n    }\n  }, {\n    key: \"setDefaultNamespace\",\n    value: function setDefaultNamespace(ns) {\n      this.options.defaultNS = ns;\n    }\n  }, {\n    key: \"hasLoadedNamespace\",\n    value: function hasLoadedNamespace(ns) {\n      var _this6 = this;\n\n      var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n      if (!this.isInitialized) {\n        this.logger.warn('hasLoadedNamespace: i18next was not initialized', this.languages);\n        return false;\n      }\n\n      if (!this.languages || !this.languages.length) {\n        this.logger.warn('hasLoadedNamespace: i18n.languages were undefined or empty', this.languages);\n        return false;\n      }\n\n      var lng = this.resolvedLanguage || this.languages[0];\n      var fallbackLng = this.options ? this.options.fallbackLng : false;\n      var lastLng = this.languages[this.languages.length - 1];\n      if (lng.toLowerCase() === 'cimode') return true;\n\n      var loadNotPending = function loadNotPending(l, n) {\n        var loadState = _this6.services.backendConnector.state[\"\".concat(l, \"|\").concat(n)];\n\n        return loadState === -1 || loadState === 2;\n      };\n\n      if (options.precheck) {\n        var preResult = options.precheck(this, loadNotPending);\n        if (preResult !== undefined) return preResult;\n      }\n\n      if (this.hasResourceBundle(lng, ns)) return true;\n      if (!this.services.backendConnector.backend || this.options.resources && !this.options.partialBundledLanguages) return true;\n      if (loadNotPending(lng, ns) && (!fallbackLng || loadNotPending(lastLng, ns))) return true;\n      return false;\n    }\n  }, {\n    key: \"loadNamespaces\",\n    value: function loadNamespaces(ns, callback) {\n      var _this7 = this;\n\n      var deferred = defer();\n\n      if (!this.options.ns) {\n        callback && callback();\n        return Promise.resolve();\n      }\n\n      if (typeof ns === 'string') ns = [ns];\n      ns.forEach(function (n) {\n        if (_this7.options.ns.indexOf(n) < 0) _this7.options.ns.push(n);\n      });\n      this.loadResources(function (err) {\n        deferred.resolve();\n        if (callback) callback(err);\n      });\n      return deferred;\n    }\n  }, {\n    key: \"loadLanguages\",\n    value: function loadLanguages(lngs, callback) {\n      var deferred = defer();\n      if (typeof lngs === 'string') lngs = [lngs];\n      var preloaded = this.options.preload || [];\n      var newLngs = lngs.filter(function (lng) {\n        return preloaded.indexOf(lng) < 0;\n      });\n\n      if (!newLngs.length) {\n        if (callback) callback();\n        return Promise.resolve();\n      }\n\n      this.options.preload = preloaded.concat(newLngs);\n      this.loadResources(function (err) {\n        deferred.resolve();\n        if (callback) callback(err);\n      });\n      return deferred;\n    }\n  }, {\n    key: \"dir\",\n    value: function dir(lng) {\n      if (!lng) lng = this.resolvedLanguage || (this.languages && this.languages.length > 0 ? this.languages[0] : this.language);\n      if (!lng) return 'rtl';\n      var rtlLngs = ['ar', 'shu', 'sqr', 'ssh', 'xaa', 'yhd', 'yud', 'aao', 'abh', 'abv', 'acm', 'acq', 'acw', 'acx', 'acy', 'adf', 'ads', 'aeb', 'aec', 'afb', 'ajp', 'apc', 'apd', 'arb', 'arq', 'ars', 'ary', 'arz', 'auz', 'avl', 'ayh', 'ayl', 'ayn', 'ayp', 'bbz', 'pga', 'he', 'iw', 'ps', 'pbt', 'pbu', 'pst', 'prp', 'prd', 'ug', 'ur', 'ydd', 'yds', 'yih', 'ji', 'yi', 'hbo', 'men', 'xmn', 'fa', 'jpr', 'peo', 'pes', 'prs', 'dv', 'sam', 'ckb'];\n      return rtlLngs.indexOf(this.services.languageUtils.getLanguagePartFromCode(lng)) > -1 || lng.toLowerCase().indexOf('-arab') > 1 ? 'rtl' : 'ltr';\n    }\n  }, {\n    key: \"cloneInstance\",\n    value: function cloneInstance() {\n      var _this8 = this;\n\n      var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n      var callback = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : noop;\n\n      var mergedOptions = _objectSpread$6(_objectSpread$6(_objectSpread$6({}, this.options), options), {\n        isClone: true\n      });\n\n      var clone = new I18n(mergedOptions);\n\n      if (options.debug !== undefined || options.prefix !== undefined) {\n        clone.logger = clone.logger.clone(options);\n      }\n\n      var membersToCopy = ['store', 'services', 'language'];\n      membersToCopy.forEach(function (m) {\n        clone[m] = _this8[m];\n      });\n      clone.services = _objectSpread$6({}, this.services);\n      clone.services.utils = {\n        hasLoadedNamespace: clone.hasLoadedNamespace.bind(clone)\n      };\n      clone.translator = new Translator(clone.services, clone.options);\n      clone.translator.on('*', function (event) {\n        for (var _len4 = arguments.length, args = new Array(_len4 > 1 ? _len4 - 1 : 0), _key4 = 1; _key4 < _len4; _key4++) {\n          args[_key4 - 1] = arguments[_key4];\n        }\n\n        clone.emit.apply(clone, [event].concat(args));\n      });\n      clone.init(mergedOptions, callback);\n      clone.translator.options = clone.options;\n      clone.translator.backendConnector.services.utils = {\n        hasLoadedNamespace: clone.hasLoadedNamespace.bind(clone)\n      };\n      return clone;\n    }\n  }, {\n    key: \"toJSON\",\n    value: function toJSON() {\n      return {\n        options: this.options,\n        store: this.store,\n        language: this.language,\n        languages: this.languages,\n        resolvedLanguage: this.resolvedLanguage\n      };\n    }\n  }]);\n\n  return I18n;\n}(EventEmitter);\n\n_defineProperty(I18n, \"createInstance\", function () {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  var callback = arguments.length > 1 ? arguments[1] : undefined;\n  return new I18n(options, callback);\n});\n\nvar instance = I18n.createInstance();\ninstance.createInstance = I18n.createInstance;\n\nvar createInstance = instance.createInstance;\nvar init = instance.init;\nvar loadResources = instance.loadResources;\nvar reloadResources = instance.reloadResources;\nvar use = instance.use;\nvar changeLanguage = instance.changeLanguage;\nvar getFixedT = instance.getFixedT;\nvar t = instance.t;\nvar exists = instance.exists;\nvar setDefaultNamespace = instance.setDefaultNamespace;\nvar hasLoadedNamespace = instance.hasLoadedNamespace;\nvar loadNamespaces = instance.loadNamespaces;\nvar loadLanguages = instance.loadLanguages;\n\nexport default instance;\nexport { changeLanguage, createInstance, exists, getFixedT, hasLoadedNamespace, init, loadLanguages, loadNamespaces, loadResources, reloadResources, setDefaultNamespace, t, use };\n","import http from \"./http.js\";\nimport storage from \"./storage.js\";\nimport store from \"/src/store\";\nimport i18n from \"i18next\";\n\nconst me = {\n\n  get() {\n    return store.get()?.me;\n  },\n\n  get data() {\n    return store.get()?.me?.data;\n  },\n\n  get lang() {\n    return store.get()?.me?.data?.lang;\n  },\n\n  get groups() {\n    return store.get()?.me?.groups;\n  },\n\n  get id() {\n    return store.get()?.me?.id;\n  },\n\n  get avatar() {\n    return store.get()?.me?.avatar;\n  },\n\n  getGroupName(id) {\n    let group = store.get()[\"groups\"]?.find(g => g[\"id\"] == id);\n    return group ? group[\"name\"] : \"\";\n  },\n\n  update() {\n    return http.get(\"/api/me\", true).then(r => {\n      if (!r || !r?.id) {\n        store.dispatch(\"update\", {});\n        return;\n      }\n      Promise.all(r.groups.map(g => http.get(`/api/groups/${g.id}`).then(group => group))).then(\n        groups => {\n          r.groups = groups;\n          store.dispatch(\"me/update\", Object.assign({loaded: true}, r));\n        }\n      );\n      i18n.changeLanguage(r?.data?.lang);\n      return r;\n    });\n  },\n\n  fetch() {\n    if (store.get()[\"loaded\"]) {\n      return new Promise(r => r(store.get()));\n    }\n    return me.update();\n  },\n\n  reset() {\n    store.dispatch(\"@init\");\n  },\n\n  logout() {\n    storage.reset();\n  }\n};\n\nexport default me;\n","function _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\nmodule.exports = _classCallCheck, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","function _typeof(obj) {\n  \"@babel/helpers - typeof\";\n\n  return (module.exports = _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) {\n    return typeof obj;\n  } : function (obj) {\n    return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n  }, module.exports.__esModule = true, module.exports[\"default\"] = module.exports), _typeof(obj);\n}\nmodule.exports = _typeof, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","var _typeof = require(\"./typeof.js\")[\"default\"];\nvar toPrimitive = require(\"./toPrimitive.js\");\nfunction _toPropertyKey(arg) {\n  var key = toPrimitive(arg, \"string\");\n  return _typeof(key) === \"symbol\" ? key : String(key);\n}\nmodule.exports = _toPropertyKey, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","var _typeof = require(\"./typeof.js\")[\"default\"];\nfunction _toPrimitive(input, hint) {\n  if (_typeof(input) !== \"object\" || input === null) return input;\n  var prim = input[Symbol.toPrimitive];\n  if (prim !== undefined) {\n    var res = prim.call(input, hint || \"default\");\n    if (_typeof(res) !== \"object\") return res;\n    throw new TypeError(\"@@toPrimitive must return a primitive value.\");\n  }\n  return (hint === \"string\" ? String : Number)(input);\n}\nmodule.exports = _toPrimitive, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","var toPropertyKey = require(\"./toPropertyKey.js\");\nfunction _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, toPropertyKey(descriptor.key), descriptor);\n  }\n}\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  Object.defineProperty(Constructor, \"prototype\", {\n    writable: false\n  });\n  return Constructor;\n}\nmodule.exports = _createClass, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","var toPropertyKey = require(\"./toPropertyKey.js\");\nfunction _defineProperty(obj, key, value) {\n  key = toPropertyKey(key);\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n  return obj;\n}\nmodule.exports = _defineProperty, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","import { options } from 'preact';\n\n/** @type {number} */\nlet currentIndex;\n\n/** @type {import('./internal').Component} */\nlet currentComponent;\n\n/** @type {import('./internal').Component} */\nlet previousComponent;\n\n/** @type {number} */\nlet currentHook = 0;\n\n/** @type {Array<import('./internal').Component>} */\nlet afterPaintEffects = [];\n\nlet EMPTY = [];\n\nlet oldBeforeDiff = options._diff;\nlet oldBeforeRender = options._render;\nlet oldAfterDiff = options.diffed;\nlet oldCommit = options._commit;\nlet oldBeforeUnmount = options.unmount;\n\nconst RAF_TIMEOUT = 100;\nlet prevRaf;\n\noptions._diff = vnode => {\n\tcurrentComponent = null;\n\tif (oldBeforeDiff) oldBeforeDiff(vnode);\n};\n\noptions._render = vnode => {\n\tif (oldBeforeRender) oldBeforeRender(vnode);\n\n\tcurrentComponent = vnode._component;\n\tcurrentIndex = 0;\n\n\tconst hooks = currentComponent.__hooks;\n\tif (hooks) {\n\t\tif (previousComponent === currentComponent) {\n\t\t\thooks._pendingEffects = [];\n\t\t\tcurrentComponent._renderCallbacks = [];\n\t\t\thooks._list.forEach(hookItem => {\n\t\t\t\tif (hookItem._nextValue) {\n\t\t\t\t\thookItem._value = hookItem._nextValue;\n\t\t\t\t}\n\t\t\t\thookItem._pendingValue = EMPTY;\n\t\t\t\thookItem._nextValue = hookItem._pendingArgs = undefined;\n\t\t\t});\n\t\t} else {\n\t\t\thooks._pendingEffects.forEach(invokeCleanup);\n\t\t\thooks._pendingEffects.forEach(invokeEffect);\n\t\t\thooks._pendingEffects = [];\n\t\t}\n\t}\n\tpreviousComponent = currentComponent;\n};\n\noptions.diffed = vnode => {\n\tif (oldAfterDiff) oldAfterDiff(vnode);\n\n\tconst c = vnode._component;\n\tif (c && c.__hooks) {\n\t\tif (c.__hooks._pendingEffects.length) afterPaint(afterPaintEffects.push(c));\n\t\tc.__hooks._list.forEach(hookItem => {\n\t\t\tif (hookItem._pendingArgs) {\n\t\t\t\thookItem._args = hookItem._pendingArgs;\n\t\t\t}\n\t\t\tif (hookItem._pendingValue !== EMPTY) {\n\t\t\t\thookItem._value = hookItem._pendingValue;\n\t\t\t}\n\t\t\thookItem._pendingArgs = undefined;\n\t\t\thookItem._pendingValue = EMPTY;\n\t\t});\n\t}\n\tpreviousComponent = currentComponent = null;\n};\n\noptions._commit = (vnode, commitQueue) => {\n\tcommitQueue.some(component => {\n\t\ttry {\n\t\t\tcomponent._renderCallbacks.forEach(invokeCleanup);\n\t\t\tcomponent._renderCallbacks = component._renderCallbacks.filter(cb =>\n\t\t\t\tcb._value ? invokeEffect(cb) : true\n\t\t\t);\n\t\t} catch (e) {\n\t\t\tcommitQueue.some(c => {\n\t\t\t\tif (c._renderCallbacks) c._renderCallbacks = [];\n\t\t\t});\n\t\t\tcommitQueue = [];\n\t\t\toptions._catchError(e, component._vnode);\n\t\t}\n\t});\n\n\tif (oldCommit) oldCommit(vnode, commitQueue);\n};\n\noptions.unmount = vnode => {\n\tif (oldBeforeUnmount) oldBeforeUnmount(vnode);\n\n\tconst c = vnode._component;\n\tif (c && c.__hooks) {\n\t\tlet hasErrored;\n\t\tc.__hooks._list.forEach(s => {\n\t\t\ttry {\n\t\t\t\tinvokeCleanup(s);\n\t\t\t} catch (e) {\n\t\t\t\thasErrored = e;\n\t\t\t}\n\t\t});\n\t\tc.__hooks = undefined;\n\t\tif (hasErrored) options._catchError(hasErrored, c._vnode);\n\t}\n};\n\n/**\n * Get a hook's state from the currentComponent\n * @param {number} index The index of the hook to get\n * @param {number} type The index of the hook to get\n * @returns {any}\n */\nfunction getHookState(index, type) {\n\tif (options._hook) {\n\t\toptions._hook(currentComponent, index, currentHook || type);\n\t}\n\tcurrentHook = 0;\n\n\t// Largely inspired by:\n\t// * https://github.com/michael-klein/funcy.js/blob/f6be73468e6ec46b0ff5aa3cc4c9baf72a29025a/src/hooks/core_hooks.mjs\n\t// * https://github.com/michael-klein/funcy.js/blob/650beaa58c43c33a74820a3c98b3c7079cf2e333/src/renderer.mjs\n\t// Other implementations to look at:\n\t// * https://codesandbox.io/s/mnox05qp8\n\tconst hooks =\n\t\tcurrentComponent.__hooks ||\n\t\t(currentComponent.__hooks = {\n\t\t\t_list: [],\n\t\t\t_pendingEffects: []\n\t\t});\n\n\tif (index >= hooks._list.length) {\n\t\thooks._list.push({ _pendingValue: EMPTY });\n\t}\n\treturn hooks._list[index];\n}\n\n/**\n * @param {import('./index').StateUpdater<any>} [initialState]\n */\nexport function useState(initialState) {\n\tcurrentHook = 1;\n\treturn useReducer(invokeOrReturn, initialState);\n}\n\n/**\n * @param {import('./index').Reducer<any, any>} reducer\n * @param {import('./index').StateUpdater<any>} initialState\n * @param {(initialState: any) => void} [init]\n * @returns {[ any, (state: any) => void ]}\n */\nexport function useReducer(reducer, initialState, init) {\n\t/** @type {import('./internal').ReducerHookState} */\n\tconst hookState = getHookState(currentIndex++, 2);\n\thookState._reducer = reducer;\n\tif (!hookState._component) {\n\t\thookState._value = [\n\t\t\t!init ? invokeOrReturn(undefined, initialState) : init(initialState),\n\n\t\t\taction => {\n\t\t\t\tconst currentValue = hookState._nextValue\n\t\t\t\t\t? hookState._nextValue[0]\n\t\t\t\t\t: hookState._value[0];\n\t\t\t\tconst nextValue = hookState._reducer(currentValue, action);\n\n\t\t\t\tif (currentValue !== nextValue) {\n\t\t\t\t\thookState._nextValue = [nextValue, hookState._value[1]];\n\t\t\t\t\thookState._component.setState({});\n\t\t\t\t}\n\t\t\t}\n\t\t];\n\n\t\thookState._component = currentComponent;\n\n\t\tif (!currentComponent._hasScuFromHooks) {\n\t\t\tcurrentComponent._hasScuFromHooks = true;\n\t\t\tlet prevScu = currentComponent.shouldComponentUpdate;\n\t\t\tconst prevCWU = currentComponent.componentWillUpdate;\n\n\t\t\t// If we're dealing with a forced update `shouldComponentUpdate` will\n\t\t\t// not be called. But we use that to update the hook values, so we\n\t\t\t// need to call it.\n\t\t\tcurrentComponent.componentWillUpdate = function (p, s, c) {\n\t\t\t\tif (this._force) {\n\t\t\t\t\tlet tmp = prevScu;\n\t\t\t\t\t// Clear to avoid other sCU hooks from being called\n\t\t\t\t\tprevScu = undefined;\n\t\t\t\t\tupdateHookState(p, s, c);\n\t\t\t\t\tprevScu = tmp;\n\t\t\t\t}\n\n\t\t\t\tif (prevCWU) prevCWU.call(this, p, s, c);\n\t\t\t};\n\n\t\t\t// This SCU has the purpose of bailing out after repeated updates\n\t\t\t// to stateful hooks.\n\t\t\t// we store the next value in _nextValue[0] and keep doing that for all\n\t\t\t// state setters, if we have next states and\n\t\t\t// all next states within a component end up being equal to their original state\n\t\t\t// we are safe to bail out for this specific component.\n\t\t\t/**\n\t\t\t *\n\t\t\t * @type {import('./internal').Component[\"shouldComponentUpdate\"]}\n\t\t\t */\n\t\t\t// @ts-ignore - We don't use TS to downtranspile\n\t\t\t// eslint-disable-next-line no-inner-declarations\n\t\t\tfunction updateHookState(p, s, c) {\n\t\t\t\tif (!hookState._component.__hooks) return true;\n\n\t\t\t\tconst stateHooks = hookState._component.__hooks._list.filter(\n\t\t\t\t\tx => x._component\n\t\t\t\t);\n\t\t\t\tconst allHooksEmpty = stateHooks.every(x => !x._nextValue);\n\t\t\t\t// When we have no updated hooks in the component we invoke the previous SCU or\n\t\t\t\t// traverse the VDOM tree further.\n\t\t\t\tif (allHooksEmpty) {\n\t\t\t\t\treturn prevScu ? prevScu.call(this, p, s, c) : true;\n\t\t\t\t}\n\n\t\t\t\t// We check whether we have components with a nextValue set that\n\t\t\t\t// have values that aren't equal to one another this pushes\n\t\t\t\t// us to update further down the tree\n\t\t\t\tlet shouldUpdate = false;\n\t\t\t\tstateHooks.forEach(hookItem => {\n\t\t\t\t\tif (hookItem._nextValue) {\n\t\t\t\t\t\tconst currentValue = hookItem._value[0];\n\t\t\t\t\t\thookItem._value = hookItem._nextValue;\n\t\t\t\t\t\thookItem._nextValue = undefined;\n\t\t\t\t\t\tif (currentValue !== hookItem._value[0]) shouldUpdate = true;\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t\treturn shouldUpdate || hookState._component.props !== p\n\t\t\t\t\t? prevScu\n\t\t\t\t\t\t? prevScu.call(this, p, s, c)\n\t\t\t\t\t\t: true\n\t\t\t\t\t: false;\n\t\t\t}\n\n\t\t\tcurrentComponent.shouldComponentUpdate = updateHookState;\n\t\t}\n\t}\n\n\treturn hookState._nextValue || hookState._value;\n}\n\n/**\n * @param {import('./internal').Effect} callback\n * @param {any[]} args\n */\nexport function useEffect(callback, args) {\n\t/** @type {import('./internal').EffectHookState} */\n\tconst state = getHookState(currentIndex++, 3);\n\tif (!options._skipEffects && argsChanged(state._args, args)) {\n\t\tstate._value = callback;\n\t\tstate._pendingArgs = args;\n\n\t\tcurrentComponent.__hooks._pendingEffects.push(state);\n\t}\n}\n\n/**\n * @param {import('./internal').Effect} callback\n * @param {any[]} args\n */\nexport function useLayoutEffect(callback, args) {\n\t/** @type {import('./internal').EffectHookState} */\n\tconst state = getHookState(currentIndex++, 4);\n\tif (!options._skipEffects && argsChanged(state._args, args)) {\n\t\tstate._value = callback;\n\t\tstate._pendingArgs = args;\n\n\t\tcurrentComponent._renderCallbacks.push(state);\n\t}\n}\n\nexport function useRef(initialValue) {\n\tcurrentHook = 5;\n\treturn useMemo(() => ({ current: initialValue }), []);\n}\n\n/**\n * @param {object} ref\n * @param {() => object} createHandle\n * @param {any[]} args\n */\nexport function useImperativeHandle(ref, createHandle, args) {\n\tcurrentHook = 6;\n\tuseLayoutEffect(\n\t\t() => {\n\t\t\tif (typeof ref == 'function') {\n\t\t\t\tref(createHandle());\n\t\t\t\treturn () => ref(null);\n\t\t\t} else if (ref) {\n\t\t\t\tref.current = createHandle();\n\t\t\t\treturn () => (ref.current = null);\n\t\t\t}\n\t\t},\n\t\targs == null ? args : args.concat(ref)\n\t);\n}\n\n/**\n * @param {() => any} factory\n * @param {any[]} args\n */\nexport function useMemo(factory, args) {\n\t/** @type {import('./internal').MemoHookState} */\n\tconst state = getHookState(currentIndex++, 7);\n\tif (argsChanged(state._args, args)) {\n\t\tstate._pendingValue = factory();\n\t\tstate._pendingArgs = args;\n\t\tstate._factory = factory;\n\t\treturn state._pendingValue;\n\t}\n\n\treturn state._value;\n}\n\n/**\n * @param {() => void} callback\n * @param {any[]} args\n */\nexport function useCallback(callback, args) {\n\tcurrentHook = 8;\n\treturn useMemo(() => callback, args);\n}\n\n/**\n * @param {import('./internal').PreactContext} context\n */\nexport function useContext(context) {\n\tconst provider = currentComponent.context[context._id];\n\t// We could skip this call here, but than we'd not call\n\t// `options._hook`. We need to do that in order to make\n\t// the devtools aware of this hook.\n\t/** @type {import('./internal').ContextHookState} */\n\tconst state = getHookState(currentIndex++, 9);\n\t// The devtools needs access to the context object to\n\t// be able to pull of the default value when no provider\n\t// is present in the tree.\n\tstate._context = context;\n\tif (!provider) return context._defaultValue;\n\t// This is probably not safe to convert to \"!\"\n\tif (state._value == null) {\n\t\tstate._value = true;\n\t\tprovider.sub(currentComponent);\n\t}\n\treturn provider.props.value;\n}\n\n/**\n * Display a custom label for a custom hook for the devtools panel\n * @type {<T>(value: T, cb?: (value: T) => string | number) => void}\n */\nexport function useDebugValue(value, formatter) {\n\tif (options.useDebugValue) {\n\t\toptions.useDebugValue(formatter ? formatter(value) : value);\n\t}\n}\n\n/**\n * @param {(error: any, errorInfo: import('preact').ErrorInfo) => void} cb\n */\nexport function useErrorBoundary(cb) {\n\t/** @type {import('./internal').ErrorBoundaryHookState} */\n\tconst state = getHookState(currentIndex++, 10);\n\tconst errState = useState();\n\tstate._value = cb;\n\tif (!currentComponent.componentDidCatch) {\n\t\tcurrentComponent.componentDidCatch = (err, errorInfo) => {\n\t\t\tif (state._value) state._value(err, errorInfo);\n\t\t\terrState[1](err);\n\t\t};\n\t}\n\treturn [\n\t\terrState[0],\n\t\t() => {\n\t\t\terrState[1](undefined);\n\t\t}\n\t];\n}\n\nexport function useId() {\n\tconst state = getHookState(currentIndex++, 11);\n\tif (!state._value) {\n\t\t// Grab either the root node or the nearest async boundary node.\n\t\t/** @type {import('./internal.d').VNode} */\n\t\tlet root = currentComponent._vnode;\n\t\twhile (root !== null && !root._mask && root._parent !== null) {\n\t\t\troot = root._parent;\n\t\t}\n\n\t\tlet mask = root._mask || (root._mask = [0, 0]);\n\t\tstate._value = 'P' + mask[0] + '-' + mask[1]++;\n\t}\n\n\treturn state._value;\n}\n/**\n * After paint effects consumer.\n */\nfunction flushAfterPaintEffects() {\n\tlet component;\n\twhile ((component = afterPaintEffects.shift())) {\n\t\tif (!component._parentDom || !component.__hooks) continue;\n\t\ttry {\n\t\t\tcomponent.__hooks._pendingEffects.forEach(invokeCleanup);\n\t\t\tcomponent.__hooks._pendingEffects.forEach(invokeEffect);\n\t\t\tcomponent.__hooks._pendingEffects = [];\n\t\t} catch (e) {\n\t\t\tcomponent.__hooks._pendingEffects = [];\n\t\t\toptions._catchError(e, component._vnode);\n\t\t}\n\t}\n}\n\nlet HAS_RAF = typeof requestAnimationFrame == 'function';\n\n/**\n * Schedule a callback to be invoked after the browser has a chance to paint a new frame.\n * Do this by combining requestAnimationFrame (rAF) + setTimeout to invoke a callback after\n * the next browser frame.\n *\n * Also, schedule a timeout in parallel to the the rAF to ensure the callback is invoked\n * even if RAF doesn't fire (for example if the browser tab is not visible)\n *\n * @param {() => void} callback\n */\nfunction afterNextFrame(callback) {\n\tconst done = () => {\n\t\tclearTimeout(timeout);\n\t\tif (HAS_RAF) cancelAnimationFrame(raf);\n\t\tsetTimeout(callback);\n\t};\n\tconst timeout = setTimeout(done, RAF_TIMEOUT);\n\n\tlet raf;\n\tif (HAS_RAF) {\n\t\traf = requestAnimationFrame(done);\n\t}\n}\n\n// Note: if someone used options.debounceRendering = requestAnimationFrame,\n// then effects will ALWAYS run on the NEXT frame instead of the current one, incurring a ~16ms delay.\n// Perhaps this is not such a big deal.\n/**\n * Schedule afterPaintEffects flush after the browser paints\n * @param {number} newQueueLength\n */\nfunction afterPaint(newQueueLength) {\n\tif (newQueueLength === 1 || prevRaf !== options.requestAnimationFrame) {\n\t\tprevRaf = options.requestAnimationFrame;\n\t\t(prevRaf || afterNextFrame)(flushAfterPaintEffects);\n\t}\n}\n\n/**\n * @param {import('./internal').EffectHookState} hook\n */\nfunction invokeCleanup(hook) {\n\t// A hook cleanup can introduce a call to render which creates a new root, this will call options.vnode\n\t// and move the currentComponent away.\n\tconst comp = currentComponent;\n\tlet cleanup = hook._cleanup;\n\tif (typeof cleanup == 'function') {\n\t\thook._cleanup = undefined;\n\t\tcleanup();\n\t}\n\n\tcurrentComponent = comp;\n}\n\n/**\n * Invoke a Hook's effect\n * @param {import('./internal').EffectHookState} hook\n */\nfunction invokeEffect(hook) {\n\t// A hook call can introduce a call to render which creates a new root, this will call options.vnode\n\t// and move the currentComponent away.\n\tconst comp = currentComponent;\n\thook._cleanup = hook._value();\n\tcurrentComponent = comp;\n}\n\n/**\n * @param {any[]} oldArgs\n * @param {any[]} newArgs\n */\nfunction argsChanged(oldArgs, newArgs) {\n\treturn (\n\t\t!oldArgs ||\n\t\toldArgs.length !== newArgs.length ||\n\t\tnewArgs.some((arg, index) => arg !== oldArgs[index])\n\t);\n}\n\nfunction invokeOrReturn(arg, f) {\n\treturn typeof f == 'function' ? f(arg) : f;\n}\n","/**\n * Assign properties from `props` to `obj`\n * @template O, P The obj and props types\n * @param {O} obj The object to copy properties to\n * @param {P} props The object to copy properties from\n * @returns {O & P}\n */\nexport function assign(obj, props) {\n\tfor (let i in props) obj[i] = props[i];\n\treturn /** @type {O & P} */ (obj);\n}\n\n/**\n * Check if two objects have a different shape\n * @param {object} a\n * @param {object} b\n * @returns {boolean}\n */\nexport function shallowDiffers(a, b) {\n\tfor (let i in a) if (i !== '__source' && !(i in b)) return true;\n\tfor (let i in b) if (i !== '__source' && a[i] !== b[i]) return true;\n\treturn false;\n}\n\nexport function removeNode(node) {\n\tlet parentNode = node.parentNode;\n\tif (parentNode) parentNode.removeChild(node);\n}\n\n/**\n * Check if two values are the same value\n * @param {*} x\n * @param {*} y\n * @returns {boolean}\n */\nexport function is(x, y) {\n\treturn (x === y && (x !== 0 || 1 / x === 1 / y)) || (x !== x && y !== y);\n}\n","import { Component } from 'preact';\nimport { shallowDiffers } from './util';\n\n/**\n * Component class with a predefined `shouldComponentUpdate` implementation\n */\nexport function PureComponent(p) {\n\tthis.props = p;\n}\nPureComponent.prototype = new Component();\n// Some third-party libraries check if this property is present\nPureComponent.prototype.isPureReactComponent = true;\nPureComponent.prototype.shouldComponentUpdate = function (props, state) {\n\treturn shallowDiffers(this.props, props) || shallowDiffers(this.state, state);\n};\n","import { createElement } from 'preact';\nimport { shallowDiffers } from './util';\n\n/**\n * Memoize a component, so that it only updates when the props actually have\n * changed. This was previously known as `React.pure`.\n * @param {import('./internal').FunctionComponent} c functional component\n * @param {(prev: object, next: object) => boolean} [comparer] Custom equality function\n * @returns {import('./internal').FunctionComponent}\n */\nexport function memo(c, comparer) {\n\tfunction shouldUpdate(nextProps) {\n\t\tlet ref = this.props.ref;\n\t\tlet updateRef = ref == nextProps.ref;\n\t\tif (!updateRef && ref) {\n\t\t\tref.call ? ref(null) : (ref.current = null);\n\t\t}\n\n\t\tif (!comparer) {\n\t\t\treturn shallowDiffers(this.props, nextProps);\n\t\t}\n\n\t\treturn !comparer(this.props, nextProps) || !updateRef;\n\t}\n\n\tfunction Memoed(props) {\n\t\tthis.shouldComponentUpdate = shouldUpdate;\n\t\treturn createElement(c, props);\n\t}\n\tMemoed.displayName = 'Memo(' + (c.displayName || c.name) + ')';\n\tMemoed.prototype.isReactComponent = true;\n\tMemoed._forwarded = true;\n\treturn Memoed;\n}\n","import { options } from 'preact';\nimport { assign } from './util';\n\nlet oldDiffHook = options._diff;\noptions._diff = vnode => {\n\tif (vnode.type && vnode.type._forwarded && vnode.ref) {\n\t\tvnode.props.ref = vnode.ref;\n\t\tvnode.ref = null;\n\t}\n\tif (oldDiffHook) oldDiffHook(vnode);\n};\n\nexport const REACT_FORWARD_SYMBOL =\n\t(typeof Symbol != 'undefined' &&\n\t\tSymbol.for &&\n\t\tSymbol.for('react.forward_ref')) ||\n\t0xf47;\n\n/**\n * Pass ref down to a child. This is mainly used in libraries with HOCs that\n * wrap components. Using `forwardRef` there is an easy way to get a reference\n * of the wrapped component instead of one of the wrapper itself.\n * @param {import('./index').ForwardFn} fn\n * @returns {import('./internal').FunctionComponent}\n */\nexport function forwardRef(fn) {\n\tfunction Forwarded(props) {\n\t\tlet clone = assign({}, props);\n\t\tdelete clone.ref;\n\t\treturn fn(clone, props.ref || null);\n\t}\n\n\t// mobx-react checks for this being present\n\tForwarded.$$typeof = REACT_FORWARD_SYMBOL;\n\t// mobx-react heavily relies on implementation details.\n\t// It expects an object here with a `render` property,\n\t// and prototype.render will fail. Without this\n\t// mobx-react throws.\n\tForwarded.render = Forwarded;\n\n\tForwarded.prototype.isReactComponent = Forwarded._forwarded = true;\n\tForwarded.displayName = 'ForwardRef(' + (fn.displayName || fn.name) + ')';\n\treturn Forwarded;\n}\n","import { toChildArray } from 'preact';\n\nconst mapFn = (children, fn) => {\n\tif (children == null) return null;\n\treturn toChildArray(toChildArray(children).map(fn));\n};\n\n// This API is completely unnecessary for Preact, so it's basically passthrough.\nexport const Children = {\n\tmap: mapFn,\n\tforEach: mapFn,\n\tcount(children) {\n\t\treturn children ? toChildArray(children).length : 0;\n\t},\n\tonly(children) {\n\t\tconst normalized = toChildArray(children);\n\t\tif (normalized.length !== 1) throw 'Children.only';\n\t\treturn normalized[0];\n\t},\n\ttoArray: toChildArray\n};\n","import { Component, createElement, options, Fragment } from 'preact';\nimport { assign } from './util';\n\nconst oldCatchError = options._catchError;\noptions._catchError = function (error, newVNode, oldVNode, errorInfo) {\n\tif (error.then) {\n\t\t/** @type {import('./internal').Component} */\n\t\tlet component;\n\t\tlet vnode = newVNode;\n\n\t\tfor (; (vnode = vnode._parent); ) {\n\t\t\tif ((component = vnode._component) && component._childDidSuspend) {\n\t\t\t\tif (newVNode._dom == null) {\n\t\t\t\t\tnewVNode._dom = oldVNode._dom;\n\t\t\t\t\tnewVNode._children = oldVNode._children;\n\t\t\t\t}\n\t\t\t\t// Don't call oldCatchError if we found a Suspense\n\t\t\t\treturn component._childDidSuspend(error, newVNode);\n\t\t\t}\n\t\t}\n\t}\n\toldCatchError(error, newVNode, oldVNode, errorInfo);\n};\n\nconst oldUnmount = options.unmount;\noptions.unmount = function (vnode) {\n\t/** @type {import('./internal').Component} */\n\tconst component = vnode._component;\n\tif (component && component._onResolve) {\n\t\tcomponent._onResolve();\n\t}\n\n\t// if the component is still hydrating\n\t// most likely it is because the component is suspended\n\t// we set the vnode.type as `null` so that it is not a typeof function\n\t// so the unmount will remove the vnode._dom\n\tif (component && vnode._hydrating === true) {\n\t\tvnode.type = null;\n\t}\n\n\tif (oldUnmount) oldUnmount(vnode);\n};\n\nfunction detachedClone(vnode, detachedParent, parentDom) {\n\tif (vnode) {\n\t\tif (vnode._component && vnode._component.__hooks) {\n\t\t\tvnode._component.__hooks._list.forEach(effect => {\n\t\t\t\tif (typeof effect._cleanup == 'function') effect._cleanup();\n\t\t\t});\n\n\t\t\tvnode._component.__hooks = null;\n\t\t}\n\n\t\tvnode = assign({}, vnode);\n\t\tif (vnode._component != null) {\n\t\t\tif (vnode._component._parentDom === parentDom) {\n\t\t\t\tvnode._component._parentDom = detachedParent;\n\t\t\t}\n\t\t\tvnode._component = null;\n\t\t}\n\n\t\tvnode._children =\n\t\t\tvnode._children &&\n\t\t\tvnode._children.map(child =>\n\t\t\t\tdetachedClone(child, detachedParent, parentDom)\n\t\t\t);\n\t}\n\n\treturn vnode;\n}\n\nfunction removeOriginal(vnode, detachedParent, originalParent) {\n\tif (vnode) {\n\t\tvnode._original = null;\n\t\tvnode._children =\n\t\t\tvnode._children &&\n\t\t\tvnode._children.map(child =>\n\t\t\t\tremoveOriginal(child, detachedParent, originalParent)\n\t\t\t);\n\n\t\tif (vnode._component) {\n\t\t\tif (vnode._component._parentDom === detachedParent) {\n\t\t\t\tif (vnode._dom) {\n\t\t\t\t\toriginalParent.insertBefore(vnode._dom, vnode._nextDom);\n\t\t\t\t}\n\t\t\t\tvnode._component._force = true;\n\t\t\t\tvnode._component._parentDom = originalParent;\n\t\t\t}\n\t\t}\n\t}\n\n\treturn vnode;\n}\n\n// having custom inheritance instead of a class here saves a lot of bytes\nexport function Suspense() {\n\t// we do not call super here to golf some bytes...\n\tthis._pendingSuspensionCount = 0;\n\tthis._suspenders = null;\n\tthis._detachOnNextRender = null;\n}\n\n// Things we do here to save some bytes but are not proper JS inheritance:\n// - call `new Component()` as the prototype\n// - do not set `Suspense.prototype.constructor` to `Suspense`\nSuspense.prototype = new Component();\n\n/**\n * @this {import('./internal').SuspenseComponent}\n * @param {Promise} promise The thrown promise\n * @param {import('./internal').VNode<any, any>} suspendingVNode The suspending component\n */\nSuspense.prototype._childDidSuspend = function (promise, suspendingVNode) {\n\tconst suspendingComponent = suspendingVNode._component;\n\n\t/** @type {import('./internal').SuspenseComponent} */\n\tconst c = this;\n\n\tif (c._suspenders == null) {\n\t\tc._suspenders = [];\n\t}\n\tc._suspenders.push(suspendingComponent);\n\n\tconst resolve = suspended(c._vnode);\n\n\tlet resolved = false;\n\tconst onResolved = () => {\n\t\tif (resolved) return;\n\n\t\tresolved = true;\n\t\tsuspendingComponent._onResolve = null;\n\n\t\tif (resolve) {\n\t\t\tresolve(onSuspensionComplete);\n\t\t} else {\n\t\t\tonSuspensionComplete();\n\t\t}\n\t};\n\n\tsuspendingComponent._onResolve = onResolved;\n\n\tconst onSuspensionComplete = () => {\n\t\tif (!--c._pendingSuspensionCount) {\n\t\t\t// If the suspension was during hydration we don't need to restore the\n\t\t\t// suspended children into the _children array\n\t\t\tif (c.state._suspended) {\n\t\t\t\tconst suspendedVNode = c.state._suspended;\n\t\t\t\tc._vnode._children[0] = removeOriginal(\n\t\t\t\t\tsuspendedVNode,\n\t\t\t\t\tsuspendedVNode._component._parentDom,\n\t\t\t\t\tsuspendedVNode._component._originalParentDom\n\t\t\t\t);\n\t\t\t}\n\n\t\t\tc.setState({ _suspended: (c._detachOnNextRender = null) });\n\n\t\t\tlet suspended;\n\t\t\twhile ((suspended = c._suspenders.pop())) {\n\t\t\t\tsuspended.forceUpdate();\n\t\t\t}\n\t\t}\n\t};\n\n\t/**\n\t * We do not set `suspended: true` during hydration because we want the actual markup\n\t * to remain on screen and hydrate it when the suspense actually gets resolved.\n\t * While in non-hydration cases the usual fallback -> component flow would occour.\n\t */\n\tconst wasHydrating = suspendingVNode._hydrating === true;\n\tif (!c._pendingSuspensionCount++ && !wasHydrating) {\n\t\tc.setState({ _suspended: (c._detachOnNextRender = c._vnode._children[0]) });\n\t}\n\tpromise.then(onResolved, onResolved);\n};\n\nSuspense.prototype.componentWillUnmount = function () {\n\tthis._suspenders = [];\n};\n\n/**\n * @this {import('./internal').SuspenseComponent}\n * @param {import('./internal').SuspenseComponent[\"props\"]} props\n * @param {import('./internal').SuspenseState} state\n */\nSuspense.prototype.render = function (props, state) {\n\tif (this._detachOnNextRender) {\n\t\t// When the Suspense's _vnode was created by a call to createVNode\n\t\t// (i.e. due to a setState further up in the tree)\n\t\t// it's _children prop is null, in this case we \"forget\" about the parked vnodes to detach\n\t\tif (this._vnode._children) {\n\t\t\tconst detachedParent = document.createElement('div');\n\t\t\tconst detachedComponent = this._vnode._children[0]._component;\n\t\t\tthis._vnode._children[0] = detachedClone(\n\t\t\t\tthis._detachOnNextRender,\n\t\t\t\tdetachedParent,\n\t\t\t\t(detachedComponent._originalParentDom = detachedComponent._parentDom)\n\t\t\t);\n\t\t}\n\n\t\tthis._detachOnNextRender = null;\n\t}\n\n\t// Wrap fallback tree in a VNode that prevents itself from being marked as aborting mid-hydration:\n\t/** @type {import('./internal').VNode} */\n\tconst fallback =\n\t\tstate._suspended && createElement(Fragment, null, props.fallback);\n\tif (fallback) fallback._hydrating = null;\n\n\treturn [\n\t\tcreateElement(Fragment, null, state._suspended ? null : props.children),\n\t\tfallback\n\t];\n};\n\n/**\n * Checks and calls the parent component's _suspended method, passing in the\n * suspended vnode. This is a way for a parent (e.g. SuspenseList) to get notified\n * that one of its children/descendants suspended.\n *\n * The parent MAY return a callback. The callback will get called when the\n * suspension resolves, notifying the parent of the fact.\n * Moreover, the callback gets function `unsuspend` as a parameter. The resolved\n * child descendant will not actually get unsuspended until `unsuspend` gets called.\n * This is a way for the parent to delay unsuspending.\n *\n * If the parent does not return a callback then the resolved vnode\n * gets unsuspended immediately when it resolves.\n *\n * @param {import('./internal').VNode} vnode\n * @returns {((unsuspend: () => void) => void)?}\n */\nexport function suspended(vnode) {\n\t/** @type {import('./internal').Component} */\n\tlet component = vnode._parent._component;\n\treturn component && component._suspended && component._suspended(vnode);\n}\n\nexport function lazy(loader) {\n\tlet prom;\n\tlet component;\n\tlet error;\n\n\tfunction Lazy(props) {\n\t\tif (!prom) {\n\t\t\tprom = loader();\n\t\t\tprom.then(\n\t\t\t\texports => {\n\t\t\t\t\tcomponent = exports.default || exports;\n\t\t\t\t},\n\t\t\t\te => {\n\t\t\t\t\terror = e;\n\t\t\t\t}\n\t\t\t);\n\t\t}\n\n\t\tif (error) {\n\t\t\tthrow error;\n\t\t}\n\n\t\tif (!component) {\n\t\t\tthrow prom;\n\t\t}\n\n\t\treturn createElement(component, props);\n\t}\n\n\tLazy.displayName = 'Lazy';\n\tLazy._forwarded = true;\n\treturn Lazy;\n}\n","import { Component, toChildArray } from 'preact';\nimport { suspended } from './suspense.js';\n\n// Indexes to linked list nodes (nodes are stored as arrays to save bytes).\nconst SUSPENDED_COUNT = 0;\nconst RESOLVED_COUNT = 1;\nconst NEXT_NODE = 2;\n\n// Having custom inheritance instead of a class here saves a lot of bytes.\nexport function SuspenseList() {\n\tthis._next = null;\n\tthis._map = null;\n}\n\n// Mark one of child's earlier suspensions as resolved.\n// Some pending callbacks may become callable due to this\n// (e.g. the last suspended descendant gets resolved when\n// revealOrder === 'together'). Process those callbacks as well.\nconst resolve = (list, child, node) => {\n\tif (++node[RESOLVED_COUNT] === node[SUSPENDED_COUNT]) {\n\t\t// The number a child (or any of its descendants) has been suspended\n\t\t// matches the number of times it's been resolved. Therefore we\n\t\t// mark the child as completely resolved by deleting it from ._map.\n\t\t// This is used to figure out when *all* children have been completely\n\t\t// resolved when revealOrder is 'together'.\n\t\tlist._map.delete(child);\n\t}\n\n\t// If revealOrder is falsy then we can do an early exit, as the\n\t// callbacks won't get queued in the node anyway.\n\t// If revealOrder is 'together' then also do an early exit\n\t// if all suspended descendants have not yet been resolved.\n\tif (\n\t\t!list.props.revealOrder ||\n\t\t(list.props.revealOrder[0] === 't' && list._map.size)\n\t) {\n\t\treturn;\n\t}\n\n\t// Walk the currently suspended children in order, calling their\n\t// stored callbacks on the way. Stop if we encounter a child that\n\t// has not been completely resolved yet.\n\tnode = list._next;\n\twhile (node) {\n\t\twhile (node.length > 3) {\n\t\t\tnode.pop()();\n\t\t}\n\t\tif (node[RESOLVED_COUNT] < node[SUSPENDED_COUNT]) {\n\t\t\tbreak;\n\t\t}\n\t\tlist._next = node = node[NEXT_NODE];\n\t}\n};\n\n// Things we do here to save some bytes but are not proper JS inheritance:\n// - call `new Component()` as the prototype\n// - do not set `Suspense.prototype.constructor` to `Suspense`\nSuspenseList.prototype = new Component();\n\nSuspenseList.prototype._suspended = function (child) {\n\tconst list = this;\n\tconst delegated = suspended(list._vnode);\n\n\tlet node = list._map.get(child);\n\tnode[SUSPENDED_COUNT]++;\n\n\treturn unsuspend => {\n\t\tconst wrappedUnsuspend = () => {\n\t\t\tif (!list.props.revealOrder) {\n\t\t\t\t// Special case the undefined (falsy) revealOrder, as there\n\t\t\t\t// is no need to coordinate a specific order or unsuspends.\n\t\t\t\tunsuspend();\n\t\t\t} else {\n\t\t\t\tnode.push(unsuspend);\n\t\t\t\tresolve(list, child, node);\n\t\t\t}\n\t\t};\n\t\tif (delegated) {\n\t\t\tdelegated(wrappedUnsuspend);\n\t\t} else {\n\t\t\twrappedUnsuspend();\n\t\t}\n\t};\n};\n\nSuspenseList.prototype.render = function (props) {\n\tthis._next = null;\n\tthis._map = new Map();\n\n\tconst children = toChildArray(props.children);\n\tif (props.revealOrder && props.revealOrder[0] === 'b') {\n\t\t// If order === 'backwards' (or, well, anything starting with a 'b')\n\t\t// then flip the child list around so that the last child will be\n\t\t// the first in the linked list.\n\t\tchildren.reverse();\n\t}\n\t// Build the linked list. Iterate through the children in reverse order\n\t// so that `_next` points to the first linked list node to be resolved.\n\tfor (let i = children.length; i--; ) {\n\t\t// Create a new linked list node as an array of form:\n\t\t// \t[suspended_count, resolved_count, next_node]\n\t\t// where suspended_count and resolved_count are numeric counters for\n\t\t// keeping track how many times a node has been suspended and resolved.\n\t\t//\n\t\t// Note that suspended_count starts from 1 instead of 0, so we can block\n\t\t// processing callbacks until componentDidMount has been called. In a sense\n\t\t// node is suspended at least until componentDidMount gets called!\n\t\t//\n\t\t// Pending callbacks are added to the end of the node:\n\t\t// \t[suspended_count, resolved_count, next_node, callback_0, callback_1, ...]\n\t\tthis._map.set(children[i], (this._next = [1, 0, this._next]));\n\t}\n\treturn props.children;\n};\n\nSuspenseList.prototype.componentDidUpdate =\n\tSuspenseList.prototype.componentDidMount = function () {\n\t\t// Iterate through all children after mounting for two reasons:\n\t\t// 1. As each node[SUSPENDED_COUNT] starts from 1, this iteration increases\n\t\t//    each node[RELEASED_COUNT] by 1, therefore balancing the counters.\n\t\t//    The nodes can now be completely consumed from the linked list.\n\t\t// 2. Handle nodes that might have gotten resolved between render and\n\t\t//    componentDidMount.\n\t\tthis._map.forEach((node, child) => {\n\t\t\tresolve(this, child, node);\n\t\t});\n\t};\n","import { createElement, render } from 'preact';\n\n/**\n * @param {import('../../src/index').RenderableProps<{ context: any }>} props\n */\nfunction ContextProvider(props) {\n\tthis.getChildContext = () => props.context;\n\treturn props.children;\n}\n\n/**\n * Portal component\n * @this {import('./internal').Component}\n * @param {object | null | undefined} props\n *\n * TODO: use createRoot() instead of fake root\n */\nfunction Portal(props) {\n\tconst _this = this;\n\tlet container = props._container;\n\n\t_this.componentWillUnmount = function () {\n\t\trender(null, _this._temp);\n\t\t_this._temp = null;\n\t\t_this._container = null;\n\t};\n\n\t// When we change container we should clear our old container and\n\t// indicate a new mount.\n\tif (_this._container && _this._container !== container) {\n\t\t_this.componentWillUnmount();\n\t}\n\n\t// When props.vnode is undefined/false/null we are dealing with some kind of\n\t// conditional vnode. This should not trigger a render.\n\tif (props._vnode) {\n\t\tif (!_this._temp) {\n\t\t\t_this._container = container;\n\n\t\t\t// Create a fake DOM parent node that manages a subset of `container`'s children:\n\t\t\t_this._temp = {\n\t\t\t\tnodeType: 1,\n\t\t\t\tparentNode: container,\n\t\t\t\tchildNodes: [],\n\t\t\t\tappendChild(child) {\n\t\t\t\t\tthis.childNodes.push(child);\n\t\t\t\t\t_this._container.appendChild(child);\n\t\t\t\t},\n\t\t\t\tinsertBefore(child, before) {\n\t\t\t\t\tthis.childNodes.push(child);\n\t\t\t\t\t_this._container.appendChild(child);\n\t\t\t\t},\n\t\t\t\tremoveChild(child) {\n\t\t\t\t\tthis.childNodes.splice(this.childNodes.indexOf(child) >>> 1, 1);\n\t\t\t\t\t_this._container.removeChild(child);\n\t\t\t\t}\n\t\t\t};\n\t\t}\n\n\t\t// Render our wrapping element into temp.\n\t\trender(\n\t\t\tcreateElement(ContextProvider, { context: _this.context }, props._vnode),\n\t\t\t_this._temp\n\t\t);\n\t}\n\t// When we come from a conditional render, on a mounted\n\t// portal we should clear the DOM.\n\telse if (_this._temp) {\n\t\t_this.componentWillUnmount();\n\t}\n}\n\n/**\n * Create a `Portal` to continue rendering the vnode tree at a different DOM node\n * @param {import('./internal').VNode} vnode The vnode to render\n * @param {import('./internal').PreactElement} container The DOM node to continue rendering in to.\n */\nexport function createPortal(vnode, container) {\n\tconst el = createElement(Portal, { _vnode: vnode, _container: container });\n\tel.containerInfo = container;\n\treturn el;\n}\n","import {\n\trender as preactRender,\n\thydrate as preactHydrate,\n\toptions,\n\ttoChildArray,\n\tComponent\n} from 'preact';\n\nexport const REACT_ELEMENT_TYPE =\n\t(typeof Symbol != 'undefined' && Symbol.for && Symbol.for('react.element')) ||\n\t0xeac7;\n\nconst CAMEL_PROPS =\n\t/^(?:accent|alignment|arabic|baseline|cap|clip(?!PathU)|color|dominant|fill|flood|font|glyph(?!R)|horiz|image|letter|lighting|marker(?!H|W|U)|overline|paint|pointer|shape|stop|strikethrough|stroke|text(?!L)|transform|underline|unicode|units|v|vector|vert|word|writing|x(?!C))[A-Z]/;\nconst ON_ANI = /^on(Ani|Tra|Tou|BeforeInp|Compo)/;\nconst CAMEL_REPLACE = /[A-Z0-9]/g;\n\nconst IS_DOM = typeof document !== 'undefined';\n\n// Input types for which onchange should not be converted to oninput.\n// type=\"file|checkbox|radio\", plus \"range\" in IE11.\n// (IE11 doesn't support Symbol, which we use here to turn `rad` into `ra` which matches \"range\")\nconst onChangeInputType = type =>\n\t(typeof Symbol != 'undefined' && typeof Symbol() == 'symbol'\n\t\t? /fil|che|rad/\n\t\t: /fil|che|ra/\n\t).test(type);\n\n// Some libraries like `react-virtualized` explicitly check for this.\nComponent.prototype.isReactComponent = {};\n\n// `UNSAFE_*` lifecycle hooks\n// Preact only ever invokes the unprefixed methods.\n// Here we provide a base \"fallback\" implementation that calls any defined UNSAFE_ prefixed method.\n// - If a component defines its own `componentDidMount()` (including via defineProperty), use that.\n// - If a component defines `UNSAFE_componentDidMount()`, `componentDidMount` is the alias getter/setter.\n// - If anything assigns to an `UNSAFE_*` property, the assignment is forwarded to the unprefixed property.\n// See https://github.com/preactjs/preact/issues/1941\n[\n\t'componentWillMount',\n\t'componentWillReceiveProps',\n\t'componentWillUpdate'\n].forEach(key => {\n\tObject.defineProperty(Component.prototype, key, {\n\t\tconfigurable: true,\n\t\tget() {\n\t\t\treturn this['UNSAFE_' + key];\n\t\t},\n\t\tset(v) {\n\t\t\tObject.defineProperty(this, key, {\n\t\t\t\tconfigurable: true,\n\t\t\t\twritable: true,\n\t\t\t\tvalue: v\n\t\t\t});\n\t\t}\n\t});\n});\n\n/**\n * Proxy render() since React returns a Component reference.\n * @param {import('./internal').VNode} vnode VNode tree to render\n * @param {import('./internal').PreactElement} parent DOM node to render vnode tree into\n * @param {() => void} [callback] Optional callback that will be called after rendering\n * @returns {import('./internal').Component | null} The root component reference or null\n */\nexport function render(vnode, parent, callback) {\n\t// React destroys any existing DOM nodes, see #1727\n\t// ...but only on the first render, see #1828\n\tif (parent._children == null) {\n\t\tparent.textContent = '';\n\t}\n\n\tpreactRender(vnode, parent);\n\tif (typeof callback == 'function') callback();\n\n\treturn vnode ? vnode._component : null;\n}\n\nexport function hydrate(vnode, parent, callback) {\n\tpreactHydrate(vnode, parent);\n\tif (typeof callback == 'function') callback();\n\n\treturn vnode ? vnode._component : null;\n}\n\nlet oldEventHook = options.event;\noptions.event = e => {\n\tif (oldEventHook) e = oldEventHook(e);\n\te.persist = empty;\n\te.isPropagationStopped = isPropagationStopped;\n\te.isDefaultPrevented = isDefaultPrevented;\n\treturn (e.nativeEvent = e);\n};\n\nfunction empty() {}\n\nfunction isPropagationStopped() {\n\treturn this.cancelBubble;\n}\n\nfunction isDefaultPrevented() {\n\treturn this.defaultPrevented;\n}\n\nconst classNameDescriptorNonEnumberable = {\n\tenumerable: false,\n\tconfigurable: true,\n\tget() {\n\t\treturn this.class;\n\t}\n};\n\nfunction handleDomVNode(vnode) {\n\tlet props = vnode.props,\n\t\ttype = vnode.type,\n\t\tnormalizedProps = {};\n\n\tfor (let i in props) {\n\t\tlet value = props[i];\n\n\t\tif (\n\t\t\t(i === 'value' && 'defaultValue' in props && value == null) ||\n\t\t\t// Emulate React's behavior of not rendering the contents of noscript tags on the client.\n\t\t\t(IS_DOM && i === 'children' && type === 'noscript') ||\n\t\t\ti === 'class' ||\n\t\t\ti === 'className'\n\t\t) {\n\t\t\t// Skip applying value if it is null/undefined and we already set\n\t\t\t// a default value\n\t\t\tcontinue;\n\t\t}\n\n\t\tlet lowerCased = i.toLowerCase();\n\t\tif (i === 'defaultValue' && 'value' in props && props.value == null) {\n\t\t\t// `defaultValue` is treated as a fallback `value` when a value prop is present but null/undefined.\n\t\t\t// `defaultValue` for Elements with no value prop is the same as the DOM defaultValue property.\n\t\t\ti = 'value';\n\t\t} else if (i === 'download' && value === true) {\n\t\t\t// Calling `setAttribute` with a truthy value will lead to it being\n\t\t\t// passed as a stringified value, e.g. `download=\"true\"`. React\n\t\t\t// converts it to an empty string instead, otherwise the attribute\n\t\t\t// value will be used as the file name and the file will be called\n\t\t\t// \"true\" upon downloading it.\n\t\t\tvalue = '';\n\t\t} else if (lowerCased === 'ondoubleclick') {\n\t\t\ti = 'ondblclick';\n\t\t} else if (\n\t\t\tlowerCased === 'onchange' &&\n\t\t\t(type === 'input' || type === 'textarea') &&\n\t\t\t!onChangeInputType(props.type)\n\t\t) {\n\t\t\tlowerCased = i = 'oninput';\n\t\t} else if (lowerCased === 'onfocus') {\n\t\t\ti = 'onfocusin';\n\t\t} else if (lowerCased === 'onblur') {\n\t\t\ti = 'onfocusout';\n\t\t} else if (ON_ANI.test(i)) {\n\t\t\ti = lowerCased;\n\t\t} else if (type.indexOf('-') === -1 && CAMEL_PROPS.test(i)) {\n\t\t\ti = i.replace(CAMEL_REPLACE, '-$&').toLowerCase();\n\t\t} else if (value === null) {\n\t\t\tvalue = undefined;\n\t\t}\n\n\t\t// Add support for onInput and onChange, see #3561\n\t\t// if we have an oninput prop already change it to oninputCapture\n\t\tif (lowerCased === 'oninput') {\n\t\t\ti = lowerCased;\n\t\t\tif (normalizedProps[i]) {\n\t\t\t\ti = 'oninputCapture';\n\t\t\t}\n\t\t}\n\n\t\tnormalizedProps[i] = value;\n\t}\n\n\t// Add support for array select values: <select multiple value={[]} />\n\tif (\n\t\ttype == 'select' &&\n\t\tnormalizedProps.multiple &&\n\t\tArray.isArray(normalizedProps.value)\n\t) {\n\t\t// forEach() always returns undefined, which we abuse here to unset the value prop.\n\t\tnormalizedProps.value = toChildArray(props.children).forEach(child => {\n\t\t\tchild.props.selected =\n\t\t\t\tnormalizedProps.value.indexOf(child.props.value) != -1;\n\t\t});\n\t}\n\n\t// Adding support for defaultValue in select tag\n\tif (type == 'select' && normalizedProps.defaultValue != null) {\n\t\tnormalizedProps.value = toChildArray(props.children).forEach(child => {\n\t\t\tif (normalizedProps.multiple) {\n\t\t\t\tchild.props.selected =\n\t\t\t\t\tnormalizedProps.defaultValue.indexOf(child.props.value) != -1;\n\t\t\t} else {\n\t\t\t\tchild.props.selected =\n\t\t\t\t\tnormalizedProps.defaultValue == child.props.value;\n\t\t\t}\n\t\t});\n\t}\n\n\tif (props.class && !props.className) {\n\t\tnormalizedProps.class = props.class;\n\t\tObject.defineProperty(\n\t\t\tnormalizedProps,\n\t\t\t'className',\n\t\t\tclassNameDescriptorNonEnumberable\n\t\t);\n\t} else if (props.className && !props.class) {\n\t\tnormalizedProps.class = normalizedProps.className = props.className;\n\t} else if (props.class && props.className) {\n\t\tnormalizedProps.class = normalizedProps.className = props.className;\n\t}\n\n\tvnode.props = normalizedProps;\n}\n\nlet oldVNodeHook = options.vnode;\noptions.vnode = vnode => {\n\t// only normalize props on Element nodes\n\tif (typeof vnode.type === 'string') {\n\t\thandleDomVNode(vnode);\n\t}\n\n\tvnode.$$typeof = REACT_ELEMENT_TYPE;\n\n\tif (oldVNodeHook) oldVNodeHook(vnode);\n};\n\n// Only needed for react-relay\nlet currentComponent;\nconst oldBeforeRender = options._render;\noptions._render = function (vnode) {\n\tif (oldBeforeRender) {\n\t\toldBeforeRender(vnode);\n\t}\n\tcurrentComponent = vnode._component;\n};\n\nconst oldDiffed = options.diffed;\n/** @type {(vnode: import('./internal').VNode)} */\noptions.diffed = function (vnode) {\n\tif (oldDiffed) {\n\t\toldDiffed(vnode);\n\t}\n\n\tconst props = vnode.props;\n\tconst dom = vnode._dom;\n\tif (\n\t\tdom != null &&\n\t\tvnode.type === 'textarea' &&\n\t\t'value' in props &&\n\t\tprops.value !== dom.value\n\t) {\n\t\tdom.value = props.value == null ? '' : props.value;\n\t}\n\n\tcurrentComponent = null;\n};\n\n// This is a very very private internal function for React it\n// is used to sort-of do runtime dependency injection. So far\n// only `react-relay` makes use of it. It uses it to read the\n// context value.\nexport const __SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED = {\n\tReactCurrentDispatcher: {\n\t\tcurrent: {\n\t\t\treadContext(context) {\n\t\t\t\treturn currentComponent._globalContext[context._id].props.value;\n\t\t\t}\n\t\t}\n\t}\n};\n","import {\n\tcreateElement,\n\trender as preactRender,\n\tcloneElement as preactCloneElement,\n\tcreateRef,\n\tComponent,\n\tcreateContext,\n\tFragment\n} from 'preact';\nimport {\n\tuseState,\n\tuseId,\n\tuseReducer,\n\tuseEffect,\n\tuseLayoutEffect,\n\tuseRef,\n\tuseImperativeHandle,\n\tuseMemo,\n\tuseCallback,\n\tuseContext,\n\tuseDebugValue\n} from 'preact/hooks';\nimport { PureComponent } from './PureComponent';\nimport { memo } from './memo';\nimport { forwardRef } from './forwardRef';\nimport { Children } from './Children';\nimport { Suspense, lazy } from './suspense';\nimport { SuspenseList } from './suspense-list';\nimport { createPortal } from './portals';\nimport { is } from './util';\nimport {\n\thydrate,\n\trender,\n\tREACT_ELEMENT_TYPE,\n\t__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED\n} from './render';\n\nconst version = '17.0.2'; // trick libraries to think we are react\n\n/**\n * Legacy version of createElement.\n * @param {import('./internal').VNode[\"type\"]} type The node name or Component constructor\n */\nfunction createFactory(type) {\n\treturn createElement.bind(null, type);\n}\n\n/**\n * Check if the passed element is a valid (p)react node.\n * @param {*} element The element to check\n * @returns {boolean}\n */\nfunction isValidElement(element) {\n\treturn !!element && element.$$typeof === REACT_ELEMENT_TYPE;\n}\n\n/**\n * Wrap `cloneElement` to abort if the passed element is not a valid element and apply\n * all vnode normalizations.\n * @param {import('./internal').VNode} element The vnode to clone\n * @param {object} props Props to add when cloning\n * @param {Array<import('./internal').ComponentChildren>} rest Optional component children\n */\nfunction cloneElement(element) {\n\tif (!isValidElement(element)) return element;\n\treturn preactCloneElement.apply(null, arguments);\n}\n\n/**\n * Remove a component tree from the DOM, including state and event handlers.\n * @param {import('./internal').PreactElement} container\n * @returns {boolean}\n */\nfunction unmountComponentAtNode(container) {\n\tif (container._children) {\n\t\tpreactRender(null, container);\n\t\treturn true;\n\t}\n\treturn false;\n}\n\n/**\n * Get the matching DOM node for a component\n * @param {import('./internal').Component} component\n * @returns {import('./internal').PreactElement | null}\n */\nfunction findDOMNode(component) {\n\treturn (\n\t\t(component &&\n\t\t\t(component.base || (component.nodeType === 1 && component))) ||\n\t\tnull\n\t);\n}\n\n/**\n * Deprecated way to control batched rendering inside the reconciler, but we\n * already schedule in batches inside our rendering code\n * @template Arg\n * @param {(arg: Arg) => void} callback function that triggers the updated\n * @param {Arg} [arg] Optional argument that can be passed to the callback\n */\n// eslint-disable-next-line camelcase\nconst unstable_batchedUpdates = (callback, arg) => callback(arg);\n\n/**\n * In React, `flushSync` flushes the entire tree and forces a rerender. It's\n * implmented here as a no-op.\n * @template Arg\n * @template Result\n * @param {(arg: Arg) => Result} callback function that runs before the flush\n * @param {Arg} [arg] Optional argument that can be passed to the callback\n * @returns\n */\nconst flushSync = (callback, arg) => callback(arg);\n\n/**\n * Strict Mode is not implemented in Preact, so we provide a stand-in for it\n * that just renders its children without imposing any restrictions.\n */\nconst StrictMode = Fragment;\n\nexport function startTransition(cb) {\n\tcb();\n}\n\nexport function useDeferredValue(val) {\n\treturn val;\n}\n\nexport function useTransition() {\n\treturn [false, startTransition];\n}\n\n// TODO: in theory this should be done after a VNode is diffed as we want to insert\n// styles/... before it attaches\nexport const useInsertionEffect = useLayoutEffect;\n\n/**\n * This is taken from https://github.com/facebook/react/blob/main/packages/use-sync-external-store/src/useSyncExternalStoreShimClient.js#L84\n * on a high level this cuts out the warnings, ... and attempts a smaller implementation\n */\nexport function useSyncExternalStore(subscribe, getSnapshot) {\n\tconst value = getSnapshot();\n\n\tconst [{ _instance }, forceUpdate] = useState({\n\t\t_instance: { _value: value, _getSnapshot: getSnapshot }\n\t});\n\n\tuseLayoutEffect(() => {\n\t\t_instance._value = value;\n\t\t_instance._getSnapshot = getSnapshot;\n\n\t\tif (!is(_instance._value, getSnapshot())) {\n\t\t\tforceUpdate({ _instance });\n\t\t}\n\t}, [subscribe, value, getSnapshot]);\n\n\tuseEffect(() => {\n\t\tif (!is(_instance._value, _instance._getSnapshot())) {\n\t\t\tforceUpdate({ _instance });\n\t\t}\n\n\t\treturn subscribe(() => {\n\t\t\tif (!is(_instance._value, _instance._getSnapshot())) {\n\t\t\t\tforceUpdate({ _instance });\n\t\t\t}\n\t\t});\n\t}, [subscribe]);\n\n\treturn value;\n}\n\nexport * from 'preact/hooks';\nexport {\n\tversion,\n\tChildren,\n\trender,\n\thydrate,\n\tunmountComponentAtNode,\n\tcreatePortal,\n\tcreateElement,\n\tcreateContext,\n\tcreateFactory,\n\tcloneElement,\n\tcreateRef,\n\tFragment,\n\tisValidElement,\n\tfindDOMNode,\n\tComponent,\n\tPureComponent,\n\tmemo,\n\tforwardRef,\n\tflushSync,\n\t// eslint-disable-next-line camelcase\n\tunstable_batchedUpdates,\n\tStrictMode,\n\tSuspense,\n\tSuspenseList,\n\tlazy,\n\t__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED\n};\n\n// React copies the named exports to the default one.\nexport default {\n\tuseState,\n\tuseId,\n\tuseReducer,\n\tuseEffect,\n\tuseLayoutEffect,\n\tuseInsertionEffect,\n\tuseTransition,\n\tuseDeferredValue,\n\tuseSyncExternalStore,\n\tstartTransition,\n\tuseRef,\n\tuseImperativeHandle,\n\tuseMemo,\n\tuseCallback,\n\tuseContext,\n\tuseDebugValue,\n\tversion,\n\tChildren,\n\trender,\n\thydrate,\n\tunmountComponentAtNode,\n\tcreatePortal,\n\tcreateElement,\n\tcreateContext,\n\tcreateFactory,\n\tcloneElement,\n\tcreateRef,\n\tFragment,\n\tisValidElement,\n\tfindDOMNode,\n\tComponent,\n\tPureComponent,\n\tmemo,\n\tforwardRef,\n\tflushSync,\n\tunstable_batchedUpdates,\n\tStrictMode,\n\tSuspense,\n\tSuspenseList,\n\tlazy,\n\t__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED\n};\n","var matchHtmlEntity = /&(?:amp|#38|lt|#60|gt|#62|apos|#39|quot|#34|nbsp|#160|copy|#169|reg|#174|hellip|#8230|#x2F|#47);/g;\nvar htmlEntities = {\n  '&amp;': '&',\n  '&#38;': '&',\n  '&lt;': '<',\n  '&#60;': '<',\n  '&gt;': '>',\n  '&#62;': '>',\n  '&apos;': \"'\",\n  '&#39;': \"'\",\n  '&quot;': '\"',\n  '&#34;': '\"',\n  '&nbsp;': ' ',\n  '&#160;': ' ',\n  '&copy;': '©',\n  '&#169;': '©',\n  '&reg;': '®',\n  '&#174;': '®',\n  '&hellip;': '…',\n  '&#8230;': '…',\n  '&#x2F;': '/',\n  '&#47;': '/'\n};\n\nvar unescapeHtmlEntity = function unescapeHtmlEntity(m) {\n  return htmlEntities[m];\n};\n\nexport var unescape = function unescape(text) {\n  return text.replace(matchHtmlEntity, unescapeHtmlEntity);\n};","import _classCallCheck from \"@babel/runtime/helpers/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/createClass\";\nimport _defineProperty from \"@babel/runtime/helpers/defineProperty\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) { symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); } keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport { createContext } from 'react';\nimport { unescape } from './unescape';\nvar defaultOptions = {\n  bindI18n: 'languageChanged',\n  bindI18nStore: '',\n  transEmptyNodeValue: '',\n  transSupportBasicHtmlNodes: true,\n  transWrapTextNodes: '',\n  transKeepBasicHtmlNodesFor: ['br', 'strong', 'i', 'p'],\n  useSuspense: true,\n  unescape: unescape\n};\nvar i18nInstance;\nexport var I18nContext = createContext();\nexport function setDefaults() {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  defaultOptions = _objectSpread(_objectSpread({}, defaultOptions), options);\n}\nexport function getDefaults() {\n  return defaultOptions;\n}\nexport var ReportNamespaces = function () {\n  function ReportNamespaces() {\n    _classCallCheck(this, ReportNamespaces);\n\n    this.usedNamespaces = {};\n  }\n\n  _createClass(ReportNamespaces, [{\n    key: \"addUsedNamespaces\",\n    value: function addUsedNamespaces(namespaces) {\n      var _this = this;\n\n      namespaces.forEach(function (ns) {\n        if (!_this.usedNamespaces[ns]) _this.usedNamespaces[ns] = true;\n      });\n    }\n  }, {\n    key: \"getUsedNamespaces\",\n    value: function getUsedNamespaces() {\n      return Object.keys(this.usedNamespaces);\n    }\n  }]);\n\n  return ReportNamespaces;\n}();\nexport function setI18n(instance) {\n  i18nInstance = instance;\n}\nexport function getI18n() {\n  return i18nInstance;\n}\nexport var initReactI18next = {\n  type: '3rdParty',\n  init: function init(instance) {\n    setDefaults(instance.options.react);\n    setI18n(instance);\n  }\n};\nexport function composeInitialProps(ForComponent) {\n  return function (ctx) {\n    return new Promise(function (resolve) {\n      var i18nInitialProps = getInitialProps();\n\n      if (ForComponent.getInitialProps) {\n        ForComponent.getInitialProps(ctx).then(function (componentsInitialProps) {\n          resolve(_objectSpread(_objectSpread({}, componentsInitialProps), i18nInitialProps));\n        });\n      } else {\n        resolve(i18nInitialProps);\n      }\n    });\n  };\n}\nexport function getInitialProps() {\n  var i18n = getI18n();\n  var namespaces = i18n.reportNamespaces ? i18n.reportNamespaces.getUsedNamespaces() : [];\n  var ret = {};\n  var initialI18nStore = {};\n  i18n.languages.forEach(function (l) {\n    initialI18nStore[l] = {};\n    namespaces.forEach(function (ns) {\n      initialI18nStore[l][ns] = i18n.getResourceBundle(l, ns) || {};\n    });\n  });\n  ret.initialI18nStore = initialI18nStore;\n  ret.initialLanguage = i18n.language;\n  return ret;\n}","{\n    \"previous_coms\": \"See previous comments\",\n    \"next_coms\": \"See next comments\",\n    \"ago\": \"{{duration}} ago\",\n    \"groups\": \"Groups\",\n    \"login_placeholder\": \"email\",\n    \"password_placeholder\": \"password\",\n    \"new_password_placeholder\": \"new password\",\n    \"confirm_password_placeholder\": \"confirm password\",\n    \"connect\": \"Connection\",\n    \"submit\": \"Submit\",\n    \"title_placeholder\": \"Title of your message (optional)\",\n    \"text_placeholder\": \"Write your message here\",\n    \"upload_image\": \"Add photos\",\n    \"upload_video\": \"Add videos\",\n    \"upload_music\": \"Add musics\",\n    \"upload_pdf\": \"Add pdf\",\n    \"add_date\": \"Add a date\",\n    \"logout\": \"Logout\",\n    \"settings\": \"Settings\",\n    \"name\": \"Name\",\n    \"name_input\": \"Choose a name\",\n    \"login\": \"Login\",\n    \"login_input\": \"Choose a login\",\n    \"email\": \"Email\",\n    \"email_input\": \"Fill in your email here\",\n    \"save_changes\": \"Save changes\",\n    \"password\": \"Password\",\n    \"password_input\": \"Write a new password here\",\n    \"Invalid login/password\": \"Invalid login and/or password\",\n    \"edit\": \"Edit\",\n    \"delete\": \"Delete\",\n    \"ask_delete_message\": \"Are you sure to delete this message?\",\n    \"account\": \"Account\",\n    \"forgot_password\": \"Did you forget your password?\",\n    \"password_reset_mail_sent\": \"The password reset email was sent !\",\n    \"User not found\": \"User not found\",\n    \"reset_password_title\": \"Reset your password\",\n    \"error\": \"An error occurred\",\n    \"passwords_dont_match\": \"Passwords don't match\",\n    \"invitation_link\": \"Invitation link\",\n    \"reset_invitation_link\": \"Reset invitation link\",\n    \"invitation_welcome\": \"Welcome on Zusam ! Please sign up before joining the group.\",\n    \"signup\": \"Sign up\",\n    \"create_a_group\": \"Create a group\",\n    \"create_the_group\": \"Create the group\",\n    \"quit_group\": \"Leave the group\",\n    \"settings_updated\": \"Your settings were updated\",\n    \"group_updated\": \"The group was updated !\",\n    \"group_left\": \"You left the group !\",\n    \"multiple_photos_upload\": \"An error occurred. Try uploading images one by one (this can happen in some browsers).\",\n    \"error_new_message\": \"An error occurred while sending your message.\",\n    \"error_upload\": \"An error occurred during the upload\",\n    \"cancel_write\": \"Do you really want to cancel writing a new message?\",\n    \"empty_message\": \"The message is empty and cannot be sent !\",\n    \"cancel\": \"Cancel\",\n    \"just_now\": \"Just now\",\n    \"notification_emails\": \"Email notifications\",\n    \"none\": \"None\",\n    \"hourly\": \"Hourly\",\n    \"daily\": \"Daily\",\n    \"weekly\": \"Weekly\",\n    \"monthly\": \"Monthly\",\n    \"notification_emails_stopped\": \"Email notifications stopped !\",\n    \"group_share_choice\": \"To which group do you want to send this message?\",\n    \"public_link\": \"public link\",\n    \"default_group\": \"Default group\",\n    \"destroy_account\": \"Delete your account\",\n    \"destroy_account_explain\": \"Once you delete your account, there is no going back. Please be certain.\",\n    \"are_you_sure\": \"Are you sure?\",\n    \"share_message\": \"share the message\",\n    \"users\": \"users\",\n    \"has_posted_in\": \"has posted in\",\n    \"has_commented_on\": \"has commented on\",\n    \"has_joined\": \"has joined\",\n    \"has_left\": \"has left\",\n    \"the_message_from\": \"the message from\",\n    \"in\": \"in\",\n    \"lang\": \"language\",\n    \"reply\": \"reply\",\n    \"replies_one\": \"{{count}} reply\",\n    \"replies_other\": \"{{count}} replies\",\n    \"publish_in_group\": \"publish in the group\",\n    \"search_in_group\": \"search in this group\",\n    \"changed_group_name\": \"changed the group's name\",\n    \"to\": \"to\",\n    \"notifications\": \"notifications\",\n    \"mark_all_as_read\": \"mark all as read\",\n    \"search_without_result\": \"Your search did not match any message.\",\n    \"add_bookmark\": \"Bookmark message\",\n    \"remove_bookmark\": \"Unbookmark message\",\n    \"bookmarks\": \"bookmarks\",\n    \"api_key\": \"API key\",\n    \"reset_api_key\": \"Reset the API key (you will be disconnected)\",\n    \"video_not_ready\": \"Video is not ready yet.\",\n    \"bookmark_added\": \"Message added to bookmarks !\",\n    \"bookmark_removed\": \"Message removed from bookmarks !\",\n    \"parent_message\": \"Parent message\"\n}\n","{\n    \"previous_coms\": \"Ver los comentarios anteriores\",\n    \"next_coms\": \"Ver los siguientes comentarios\",\n    \"ago\": \"Hace {{duration}}\",\n    \"groups\": \"Grupos\",\n    \"login_placeholder\": \"correo\",\n    \"password_placeholder\": \"contraseña\",\n    \"new_password_placeholder\": \"nueva contraseña\",\n    \"confirm_password_placeholder\": \"confirmar contraseña\",\n    \"connect\": \"Conectarse\",\n    \"submit\": \"Enviar\",\n    \"title_placeholder\": \"Asunto (opcional)\",\n    \"text_placeholder\": \"Escribe tu mensaje aquí\",\n    \"upload_image\": \"Añadir fotos\",\n    \"upload_video\": \"Añadir videos\",\n    \"upload_music\": \"Añadir música\",\n    \"upload_pdf\": \"Añadir pdf\",\n    \"add_date\": \"Añadir una fecha\",\n    \"logout\": \"Desconectarse\",\n    \"settings\": \"Parámetros\",\n    \"name\": \"Nombre\",\n    \"name_input\": \"Elige un nombre\",\n    \"login\": \"Usuario\",\n    \"login_input\": \"Elige un usuario\",\n    \"email\": \"Correo\",\n    \"email_input\": \"Indicar correo electrónico\",\n    \"save_changes\": \"Guardar los cambios\",\n    \"password\": \"Contraseña\",\n    \"password_input\": \"Indicar una nueva contraseña\",\n    \"Invalid login/password\": \"Usuario o contraseña incorrecto\",\n    \"edit\": \"Editar\",\n    \"delete\": \"Borrar\",\n    \"ask_delete_message\": \"¿Quieres borrar este mensaje?\",\n    \"account\": \"Cuenta\",\n    \"groups\": \"Grupos\",\n    \"forgot_password\": \"¿Olvidaste tu contraseña?\",\n    \"password_reset_mail_sent\": \"El correo ha sido enviado!\",\n    \"User not found\": \"El usuario no existe\",\n    \"reset_password_title\": \"Cambia tu contraseña\",\n    \"error\": \"Un error ocurrió. Vuelve a intentar.\",\n    \"passwords_dont_match\": \"Las contraseñas no coinciden\",\n    \"invitation_link\": \"Enlace de invitación\",\n    \"reset_invitation_link\": \"Cambiar el enlace de invitación\",\n    \"invitation_welcome\": \"Bienvenido a Zusam ! Inscribete para conectarte con un grupo.\",\n    \"signup\": \"Inscribirse\",\n    \"create_a_group\": \"Crear un grupo\",\n    \"create_the_group\": \"Crear el grupo\",\n    \"quit_group\": \"Dejar el grupo\",\n    \"settings_updated\": \"Tus preferencias han sido actualizadas!\",\n    \"group_updated\": \"El grupo ha sido actualizado!\",\n    \"group_left\": \"Has abandonado el grupo\",\n    \"multiple_photos_upload\": \"Un error ocurrió. Vuelve a intentar con solo una foto (algunos navegadores impiden añadir varias fotos al mismo tiempo).\",\n    \"error_new_message\": \"Un error desconocido ocurrió durante el envío del mensaje.\",\n    \"error_upload\": \"Un error ocurrió durante el envío.\",\n    \"cancel_write\": \"¿Quieres cancelar este nuevo mensaje?\",\n    \"empty_message\": \"No hay mensaje!\",\n    \"cancel\": \"Cancelar\",\n    \"just_now\": \"Ahora\",\n    \"notification_emails\": \"Correo de notificación\",\n    \"none\": \"Ninguno\",\n    \"hourly\": \"Cada hora\",\n    \"daily\": \"Diario\",\n    \"weekly\": \"Semanal\",\n    \"monthly\": \"Mensual\",\n    \"notification_emails_stopped\": \"Notificaciones de correo electrónico detenidas!\",\n    \"group_share_choice\": \"¿A qué grupo desea enviar este mensaje?\",\n    \"public_link\": \"enlace público\",\n    \"default_group\": \"Grupo predeterminado\",\n    \"destroy_account\": \"Borrar la cuenta\",\n    \"destroy_account_explain\": \"Una vez que elimines tu cuenta, no hay vuelta atrás.\",\n    \"are_you_sure\": \"Estás seguro ?\",\n    \"share_message\": \"comparte el mensaje\",\n    \"users\": \"usuarios\",\n    \"has_posted_in\": \"ha publicado en\",\n    \"has_commented_on\": \"ha comentado\",\n    \"has_joined\": \"se has unido\",\n    \"has_left\": \"ha dejado\",\n    \"the_message_from\": \"el mensaje de\",\n    \"in\": \"en\",\n    \"lang\": \"idioma\",\n    \"reply\": \"responder\",\n    \"replies_one\": \"{{count}} respuesta\",\n    \"replies_other\":\"{{count}} respuestas\",\n    \"publish_in_group\": \"publicar en el grupo\",\n    \"search_in_group\": \"buscar en este grupo\",\n    \"changed_group_name\": \"cambió el nombre del grupo\",\n    \"to\": \"a\",\n    \"notifications\": \"notificaciones\",\n    \"mark_all_as_read\": \"marcar todo como leido\",\n    \"search_without_result\": \"Su búsqueda no coincide con ningún mensaje.\",\n    \"add_bookmark\": \"Marcar este mensaje\",\n    \"remove_bookmark\": \"Desmarcar este mensaje\",\n    \"bookmarks\": \"marcadores\",\n    \"api_key\": \"Clave API\",\n    \"reset_api_key\": \"Restablecer la clave API (se desconectará)\",\n    \"video_not_ready\": \"El video aún no está listo\",\n    \"bookmark_added\": \"Mensaje agregado a marcadores !\",\n    \"bookmark_removed\": \"Mensaje eliminado de los marcadores !\",\n    \"parent_message\": \"Mensaje para padres\"\n\n}\n","{\n    \"previous_coms\": \"Voir les commentaires précédents\",\n    \"next_coms\": \"Voir les commentaires suivants\",\n    \"ago\": \"Il y a {{duration}}\",\n    \"groups\": \"Groupes\",\n    \"login_placeholder\": \"email\",\n    \"password_placeholder\": \"mot de passe\",\n    \"new_password_placeholder\": \"nouveau mot de passe\",\n    \"confirm_password_placeholder\": \"confirmez le mot de passe\",\n    \"connect\": \"Connexion\",\n    \"submit\": \"Envoyer\",\n    \"title_placeholder\": \"Titre de votre message (optionnel)\",\n    \"text_placeholder\": \"Ecrivez votre message ici\",\n    \"upload_image\": \"Ajouter des photos\",\n    \"upload_video\": \"Ajouter des vidéos\",\n    \"upload_music\": \"Ajouter des musiques\",\n    \"upload_pdf\": \"Ajouter un pdf\",\n    \"add_date\": \"Préciser une date\",\n    \"logout\": \"Se déconnecter\",\n    \"settings\": \"Paramètres\",\n    \"name\": \"Nom\",\n    \"name_input\": \"Choisissez un nom\",\n    \"login\": \"Identifiant\",\n    \"login_input\": \"Choisissez un identifiant\",\n    \"email\": \"Email\",\n    \"email_input\": \"Renseignez votre adresse mail ici\",\n    \"save_changes\": \"Sauvegarder les changements\",\n    \"password\": \"Mot de passe\",\n    \"password_input\": \"Entrez un nouveau mot de passe\",\n    \"Invalid login/password\": \"Identifiant et/ou mot de passe invalide\",\n    \"edit\": \"Editer\",\n    \"delete\": \"Supprimer\",\n    \"ask_delete_message\": \"Êtes-vous sûr de vouloir supprimer ce message ?\",\n    \"account\": \"Compte\",\n    \"forgot_password\": \"Mot de passe oublié ?\",\n    \"password_reset_mail_sent\": \"Le mail de réinitialisation a bien été envoyé !\",\n    \"User not found\": \"Utilisateur inexistant\",\n    \"reset_password_title\": \"Réinitialisation de votre mot de passe\",\n    \"error\": \"Une erreur s'est produite\",\n    \"passwords_dont_match\": \"Les mots de passe ne correspondent pas\",\n    \"invitation_link\": \"Lien d'invitation\",\n    \"reset_invitation_link\": \"Réinitialiser le lien d'invitation\",\n    \"invitation_welcome\": \"Bienvenue sur Zusam ! Veuillez vous inscrire avant de rejoindre le groupe.\",\n    \"signup\": \"S'inscrire\",\n    \"create_a_group\": \"Créer un groupe\",\n    \"create_the_group\": \"Créer le groupe\",\n    \"quit_group\": \"Quitter le groupe\",\n    \"settings_updated\": \"Vos paramètres ont été mis à jour\",\n    \"group_updated\": \"Le groupe a été mis à jour !\",\n    \"group_left\": \"Vous avez quitté le groupe !\",\n    \"multiple_photos_upload\": \"Une erreur s'est produite. Essayez de télécharger les images une par une (cela peut se produire dans certains navigateurs).\",\n    \"error_new_message\": \"Une erreur s’est produite lors de l’envoi de votre message.\",\n    \"error_upload\": \"Une erreur s'est produite pendant le téléversement\",\n    \"cancel_write\": \"Voulez-vous annuler l'écriture d'un nouveau message ?\",\n    \"empty_message\": \"Le message est vide et ne peut être envoyé !\",\n    \"cancel\": \"Annuler\",\n    \"just_now\": \"A l'instant\",\n    \"notification_emails\": \"Mail de notification\",\n    \"none\": \"Aucun\",\n    \"hourly\": \"Une fois par heure\",\n    \"daily\": \"Journalier\",\n    \"weekly\": \"Hebdomadaire\",\n    \"monthly\": \"Mensuel\",\n    \"notification_emails_stopped\": \"Notifications par email désactivées !\",\n    \"group_share_choice\": \"A quel groupe voulez-vous envoyer ce message ?\",\n    \"public_link\": \"lien public\",\n    \"default_group\": \"Groupe par défaut\",\n    \"destroy_account\": \"Supprimer votre compte\",\n    \"destroy_account_explain\": \"Une fois votre compte supprimé, il sera impossible d'annuler l'opération.\",\n    \"are_you_sure\": \"Etes-vous sûr ?\",\n    \"share_message\": \"partager le message\",\n    \"users\": \"utilisateurs\",\n    \"has_posted_in\": \"a posté dans\",\n    \"has_commented_on\": \"a commenté\",\n    \"has_joined\": \"a rejoint\",\n    \"has_left\": \"a quitté\",\n    \"the_message_from\": \"le message de\",\n    \"in\": \"dans\",\n    \"lang\": \"langue\",\n    \"reply\": \"répondre\",\n    \"replies_one\": \"{{count}} réponse\",\n    \"replies_other\": \"{{count}} réponses\",\n    \"publish_in_group\": \"promouvoir le message\",\n    \"search_in_group\": \"rechercher dans le groupe\",\n    \"changed_group_name\": \"a changé le nom du groupe\",\n    \"to\": \"en\",\n    \"notifications\": \"notifications\",\n    \"mark_all_as_read\": \"tout marquer comme lu\",\n    \"search_without_result\": \"Votre recherche ne correspond à aucun message.\",\n    \"add_bookmark\": \"Ajouter aux marque-pages\",\n    \"remove_bookmark\": \"Supprimer des marque-pages\",\n    \"bookmarks\": \"marque-pages\",\n    \"api_key\": \"Clef d'API\",\n    \"reset_api_key\": \"Changer votre clef d'API (vous allez être déconnecté)\",\n    \"video_not_ready\": \"La vidéo n'est pas encore prête.\",\n    \"bookmark_added\": \"Message ajouté aux marque-pages !\",\n    \"bookmark_removed\": \"Message supprimé des marque-pages !\",\n    \"parent_message\": \"Message parent\"\n}\n","{\n    \"previous_coms\": \"Zie vorige\",\n    \"next_coms\": \"Zie volgende\",\n    \"ago\": \"{{duration}} geleden\",\n    \"groups\": \"Groepen\",\n    \"login_placeholder\": \"email\",\n    \"password_placeholder\": \"wachtwoord\",\n    \"new_password_placeholder\": \"nieuw wachtwoord\",\n    \"confirm_password_placeholder\": \"bevestig wachtwoord\",\n    \"connect\": \"Verbind\",\n    \"submit\": \"Verstuur\",\n    \"title_placeholder\": \"Titel van jouw bericht (optioneel)\",\n    \"text_placeholder\": \"Schrijf jouw bericht hier\",\n    \"upload_image\": \"Voeg foto's toe\",\n    \"upload_video\": \"Voeg filmpjes toe\",\n    \"upload_music\": \"Voeg muziek toe\",\n    \"upload_pdf\": \"Voeg PDF toe\",\n    \"add_date\": \"Voeg een datum toe\",\n    \"logout\": \"Afmelden\",\n    \"settings\": \"Instellingen\",\n    \"name\": \"Naam\",\n    \"name_input\": \"Kies een naam\",\n    \"login\": \"Aanmelden\",\n    \"login_input\": \"Kies een aanmeldingsnaam\",\n    \"email\": \"Email\",\n    \"email_input\": \"Voeg uw email adres hier in\",\n    \"save_changes\": \"Wijzigingen opslaan\",\n    \"password\": \"Wachtwoord\",\n    \"password_input\": \"Kies een nieuw wachtwoord\",\n    \"Invalid login/password\": \"Ongeldige aanmeldnaam/wachtwoord combinatie\",\n    \"edit\": \"Bewerken\",\n    \"delete\": \"Verwijderen\",\n    \"ask_delete_message\": \"Bent u zeker dat u dit bericht wil verwijderen?\",\n    \"account\": \"Account\",\n    \"groups\": \"Groepen\",\n    \"forgot_password\": \"Wachtwoord vergeten?\",\n    \"password_reset_mail_sent\": \"De wachtwoord reset link is naar uw email adres verstuurd.\",\n    \"User not found\": \"Gebruiker niet gevonden\",\n    \"reset_password_title\": \"Reset uw wachtwoord\",\n    \"error\": \"Er is een fout opgetreden\",\n    \"passwords_dont_match\": \"Wachtwoorden komen niet overeen\",\n    \"invitation_link\": \"Uitnodigings link\",\n    \"reset_invitation_link\": \"Reset uitnodiging link\",\n    \"invitation_welcome\": \"Welkom op Zusam ! Gelieve aan te melden vooraleer in een groep in te schrijven.\",\n    \"signup\": \"Inschrijven\",\n    \"create_a_group\": \"Maak een groep\",\n    \"create_the_group\": \"Maak de groep\",\n    \"quit_group\": \"Verlaat de groep\",\n    \"settings_updated\": \"Uw instellingen werden aangepast\",\n    \"group_updated\": \"De groep werd aangepast !\",\n    \"group_left\": \"U heeft de groep verlaten !\",\n    \"multiple_photos_upload\": \"Er is een fout opgetreden. Probeer foto's 1 voor 1 op te laden\",\n    \"error_new_message\": \"Er is een fout opgetreden bij het doorsturen van uw bericht.\",\n    \"error_upload\": \"Er is een fout opgetreden bij het uploaden\",\n    \"cancel_write\": \"Bent u zeker dat u dit bericht wil annuleren?\",\n    \"empty_message\": \"Dit bericht is leeg en kan niet worden verzonden !\",\n    \"cancel\": \"Annuleren\",\n    \"just_now\": \"Net\",\n    \"notification_emails\": \"Email notificaties\",\n    \"none\": \"Niets\",\n    \"hourly\": \"Elk uur\",\n    \"daily\": \"Elke dag\",\n    \"weekly\": \"Elke week\",\n    \"monthly\": \"Elke maand\",\n    \"notification_emails_stopped\": \"Email notificaties zijn gestopt !\",\n    \"group_share_choice\": \"Naar welke groep wenst u dit bericht te sturen?\",\n    \"public_link\": \"publieke link\",\n    \"default_group\": \"Standaard groep\",\n    \"destroy_account\": \"Verwijder jouw account\",\n    \"destroy_account_explain\": \"Indien u uw account verwijdert, kan deze niet meer worden teruggehaald.\",\n    \"are_you_sure\": \"Bent u zeker?\",\n    \"share_message\": \"Deel bericht\",\n    \"users\": \"gebruikers\",\n    \"has_posted_in\": \"heeft gepost in\",\n    \"has_commented_on\": \"heeft commentaar gegeven op\",\n    \"has_joined\": \"is erbij gekomen\",\n    \"has_left\": \"is weggegaan\",\n    \"the_message_from\": \"het bericht van\",\n    \"in\": \"in\",\n    \"lang\": \"taal\",\n    \"reply\": \"antwoorden\",\n    \"replies_one\": \"{{count}} antwoord\",\n    \"replies_other\":\"{{count}} antwoorden\",\n    \"publish_in_group\": \"gepubliseerd in de groep\",\n    \"search_in_group\": \"zoek in deze groep\",\n    \"changed_group_name\": \"verandert de groepsnaam\",\n    \"to\": \"aan\",\n    \"notifications\": \"notificaties\",\n    \"mark_all_as_read\": \"markeer als gelezen\",\n    \"search_without_result\": \"Er werd geen enkel bericht gevonden met deze criteria\",\n    \"add_bookmark\": \"Bookmark bericht\",\n    \"remove_bookmark\": \"Unbookmark bericht\",\n    \"bookmarks\": \"bookmarks\",\n    \"api_key\": \"API key\",\n    \"reset_api_key\": \"Reset the API key (you will be disconnected)\",\n    \"video_not_ready\": \"Video is nog niet klaar.\",\n    \"bookmark_added\": \"Bericht toegevoegd aan bookmarks !\",\n    \"bookmark_removed\": \"Bericht verwijderd uit bookmarks !\",\n    \"parent_message\": \"Parent bericht\"\n}\n","{\n    \"previous_coms\": \"Pozri predchádzajúce komentáre\",\n    \"next_coms\": \"Pozri nasledujúce komentáre\",\n    \"ago\": \"{{duration}} späť\",\n    \"groups\": \"Skupiny\",\n    \"login_placeholder\": \"email\",\n    \"password_placeholder\": \"heslo\",\n    \"new_password_placeholder\": \"nové heslo\",\n    \"confirm_password_placeholder\": \"potvrdiť heslo\",\n    \"connect\": \"Connection\",\n    \"submit\": \"Odoslať\",\n    \"title_placeholder\": \"Nadpis vášho príspevku (nie je povinné)\",\n    \"text_placeholder\": \"Tu napíš príspevok\",\n    \"upload_image\": \"Pridať fotografie\",\n    \"upload_video\": \"Pridať videá\",\n    \"upload_music\": \"Pridať hudbu\",\n    \"upload_pdf\": \"Pridať pdf\",\n    \"add_date\": \"Pridať dátum\",\n    \"logout\": \"Odhlásiť\",\n    \"settings\": \"Nastavenia\",\n    \"name\": \"Meno\",\n    \"name_input\": \"Zvoľ si nejaké meno\",\n    \"login\": \"Login\",\n    \"login_input\": \"Zvoľ si nejaké prihlasovacie meno\",\n    \"email\": \"Email\",\n    \"email_input\": \"Napíš tvoj email sem\",\n    \"save_changes\": \"Uložiť zmeny\",\n    \"password\": \"Heslo\",\n    \"password_input\": \"Tu napíš heslo\",\n    \"Invalid login/password\": \"Nesprávny login alebo heslo\",\n    \"edit\": \"Upraviť\",\n    \"delete\": \"Zmazať\",\n    \"ask_delete_message\": \"Si si istý, že chceš zmazať tento príspevok?\",\n    \"account\": \"Účet\",\n    \"groups\": \"Skupiny\",\n    \"forgot_password\": \"Zabudol si svoje heslo?\",\n    \"password_reset_mail_sent\": \"Email s informáciami o nastavení nového hesla bol odoslaný!\",\n    \"User not found\": \"Neexistujúci užívateľ\",\n    \"reset_password_title\": \"Zmena hesla\",\n    \"error\": \"Chyba\",\n    \"passwords_dont_match\": \"Heslá sa nezhodujú\",\n    \"invitation_link\": \"Pozývací odkaz\",\n    \"reset_invitation_link\": \"Reset invitation link\",\n    \"invitation_welcome\": \"Vitajte v Zusam ! Zaregistrujte sa pred pripojením sa ku skupine.\",\n    \"signup\": \"Prihlásiť\",\n    \"create_a_group\": \"Vytvoriť skupinu\",\n    \"create_the_group\": \"Vytvoriť skupinu\",\n    \"quit_group\": \"Opustiť skupinu\",\n    \"settings_updated\": \"Vaše nastavenia boli zmenené\",\n    \"group_updated\": \"Nastavenia skupiny boli zmenené\",\n    \"group_left\": \"Opustili ste skupinu\",\n    \"multiple_photos_upload\": \"Objavila sa chyba. Skúste priložiť obrázky po jednom (táto chyba sa môže objavovať v niektorých prehliadačoch)\",\n    \"error_new_message\": \"Pri odosielaní príspevku sa objavila chyba\",\n    \"error_upload\": \"Objavila sa chyba počas odosielania\",\n    \"cancel_write\": \"Chcete naozaj zrušiť vytváranie nového príspevku?\",\n    \"empty_message\": \"Prázdna správa nemôže byť odoslaná\",\n    \"cancel\": \"Zrušiť\",\n    \"just_now\": \"Práve teraz\",\n    \"notification_emails\": \"Notifikačný email\",\n    \"none\": \"Žiadne\",\n    \"hourly\": \"Každú hodinu\",\n    \"daily\": \"Denne\",\n    \"weekly\": \"Týždenne\",\n    \"monthly\": \"Mesačne\",\n    \"notification_emails_stopped\": \"E-mailové upozornenia sa zastavili!\",\n    \"group_share_choice\": \"Do ktorej skupiny chcete odoslať túto správu ?\",\n    \"public_link\": \"verejné spojenie\",\n    \"default_group\": \"Predvolenú skupinu\",\n    \"destroy_account\": \"Odstráňte svoj účet\",\n    \"destroy_account_explain\": \"Po odstránení účtu sa už nevráti\",\n    \"are_you_sure\": \"Si si istý ?\",\n    \"share_message\": \"zdieľajte správu\",\n    \"users\": \"užívatelia\",\n    \"has_posted_in\": \"zverejnila v\",\n    \"has_commented_on\": \"komentoval\",\n    \"has_joined\": \"sa pripojil k\",\n    \"has_left\": \"opustil\",\n    \"the_message_from\": \"správa od\",\n    \"in\": \"v\",\n    \"lang\": \"jazyk\",\n    \"reply\": \"odpoveď\",\n    \"replies_one\": \"{{count}} odpoveď\",\n    \"replies_other\":\"{{count}} odpovedí\",\n    \"publish_in_group\": \"publikovať v skupine\",\n    \"search_in_group\": \"hľadať v tejto skupine\",\n    \"changed_group_name\": \"zmenil názov skupiny\",\n    \"to\": \"na\",\n    \"notifications\": \"oznámenia\",\n    \"mark_all_as_read\": \"označiť všetko ako prečítané\",\n    \"search_without_result\": \"Vášmu vyhľadávaniu nezodpovedá žiadna správa\",\n    \"add_bookmark\": \"Túto správu uložiť medzi záložky\",\n    \"remove_bookmark\": \"Zrušte označenie tejto správy\",\n    \"bookmarks\": \"záložky\",\n    \"api_key\": \"Kľúč API\",\n    \"reset_api_key\": \"Obnovte kľúč rozhrania API (budete odpojení)\",\n    \"video_not_ready\": \"Video ešte nie je pripravené\",\n    \"bookmark_added\": \"Správa pridaná do záložiek !\",\n    \"bookmark_removed\": \"Správa bola odstránená zo záložiek !\",\n    \"parent_message\": \"Správa rodiča\"\n\n}\n","import me from \"./me.js\";\nimport i18n from \"i18next\";\nimport { initReactI18next } from \"react-i18next\";\n\nimport en from \"/src/lang/en.json\";\nimport es from \"/src/lang/es.json\";\nimport fr from \"/src/lang/fr.json\";\nimport nl from \"/src/lang/nl.json\";\nimport sk from \"/src/lang/sk.json\";\n\nconst lang = {\n  possibleLang: {\n    en: \"English\",\n    es: \"Español\",\n    fr: \"Français\",\n    nl: \"Nederlands\",\n    sk: \"Slovenský\",\n  }, // possible dicts names to load\n  getDefaultLang: () =>\n    (document.querySelector(\"meta[name='zusam:default-lang']\") || {}).content ||\n    \"en\",\n  getCurrentLang: () => me.lang || lang.getDefaultLang(),\n};\n\ni18n.use(initReactI18next).init({\n  resources: {\n    en: {\n      translation: en\n    },\n    fr: {\n      translation: fr\n    },\n    sk: {\n      translation: sk\n    },\n    es: {\n      translation: es\n    },\n    nl: {\n      translation: nl\n    },\n  },\n  lng: lang.getCurrentLang(), // if you're using a language detector, do not define the lng option\n  fallbackLng: lang.getDefaultLang(),\n  interpolation: {\n    escapeValue: false // react already safes from xss => https://www.i18next.com/translation-function/interpolation#unescape\n  }\n});\n\nexport { lang, i18n };\n","import { i18n } from \"./lang.js\";\n// Stateless utilities\n// Should be agnostic of other components of zusam if possible\n\nconst util = {\n  // check if the input is a valid URL\n  isValidUrl: url => {\n    try {\n      new URL(url);\n      return true;\n    } catch (_) {\n      return false;\n    }\n  },\n  limitLength: (string, size = 20) => {\n    return [\n      ...string.split(\"\").slice(0, Math.floor(size/2)),\n      string.length > size ? \"...\" : \"\",\n      ...string.split(\"\").slice(Math.floor(size/2)).slice(Math.floor(size/2) * -1)].join(\"\");\n  },\n  escapeRegex: string => {\n    return string.replace(/[-/\\\\^$*+?.()|[\\]{}]/g, \"\\\\$&\");\n  },\n  getSubpath: () => new URL(document.baseURI).pathname.replace(/\\/$/, \"\"),\n  // toApp transforms an api url into an \"app\" url that the user can naviate to\n  toApp: url => {\n    if (!url || typeof url != \"string\") {\n      return \"\";\n    }\n    if (util.isValidUrl(url)) {\n      return url;\n    }\n    return location.origin + util.getSubpath() + url;\n  },\n  // genId starts with a letter to be DOM friendly\n  // seed can be used to order ids\n  // TODO improve using ideas from ai/nanoid\n  genId: seed => `z${seed || \"\"}-${Date.now().toString().slice(-5)}${Math.random().toString().slice(-5)}`,\n  // transform an id into int for the API (TODO: revisit this on 0.5)\n  id2Int: id => parseInt(id.replace(/[^\\d]/g,\"\"), 10),\n  urlRegExp: /(\\([^()]*)?https?:\\/\\/[^[\\]\\n\\r ]*[-A-Za-z0-9+&@#/%=~_()|]/i,\n  getUrl: txt => {\n    if (!txt) {\n      return \"\";\n    }\n    let url = txt.match(util.urlRegExp);\n    if (url && url[0].startsWith(\"(\")) {\n      let link = url[0].match(/https?:\\/\\//i);\n      url[\"index\"] += link[\"index\"];\n      url[0] = url[0].slice(link[\"index\"]);\n      if (url[0].endsWith(\")\")) {\n        url[0] = url[0].slice(0, -1);\n      }\n    }\n    return url;\n  },\n  limitStrSize: (str, limit) => str.length > limit ? `${str.slice(0, limit-3)}...` : str,\n  // full datetime as a string adapted to the users timezone\n  humanFullDate: timestamp => {\n    if (!timestamp) {\n      return \"\";\n    }\n    let d = new Date(timestamp * 1000);\n    d = new Date(d.getTime() + d.getTimezoneOffset() * 60000 * -1);\n    return d.toISOString().replace(\"T\", \" \").replace(/\\..*$/, \"\");\n  },\n  // duration relative to event\n  humanTime: timestamp => {\n    if (!timestamp) {\n      return null;\n    }\n    const duration = Math.abs(Math.round((Date.now() / 1000 - timestamp) / 60));\n    if (duration < 1) {\n      return i18n.t(\"just_now\");\n    }\n    if (duration < 60) {\n      return i18n.t(\"ago\", { duration: `${duration  }mn` });\n    }\n    if (duration < 60 * 24) {\n      return i18n.t(\"ago\", { duration: `${Math.floor(duration / 60)  }h` });\n    }\n    return util.humanFullDate(timestamp).split(\" \")[0];\n  },\n  // get the id of an object from an url\n  getId: e => {\n    switch (typeof e) {\n    case \"object\":\n      return e ? e.id : null;\n    case \"string\":\n      return e\n        .split(\"/\")\n        .pop()\n        .replace(/\\?.*$/, \"\")\n        .replace(/\\.\\w+$/, \"\");\n    default:\n      console.error(e);\n      throw \"Could not extract id !\";\n    }\n  },\n  // get the url to a thubmnail\n  thumbnail: (id, width, height = 99999) =>\n    typeof(id) == \"string\" && !id.startsWith(\"z\")\n      ? util.toApp(`/api/images/thumbnail/${width}/${height}/${id}`)\n      : null,\n  // same as http.thumbnail but for a crop\n  crop: (id, width, height) =>\n    typeof(id) == \"string\" && !id.startsWith(\"z\")\n      ? util.toApp(`/api/images/crop/${width}/${height}/${id}`)\n      : null,\n  // default avatar in base64\n  defaultAvatar:\n    \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAgAAAAIAAQMAAADOtka5AAAABlBMVEUAAAD///+l2Z/dAAAAAnRSTlMA/iyWEiMAAAMJSURBVHja7ZtBjpwwEEWxmIhFFmiURZZEyi6HCLkZHCXr2eQKHIUjoEiRSGRRiWB6klaDU/hDF4z+W6LuNz3+ZRvbkCSEEEIIIYQQQgghhBBCCCGEEEIIITvwGfy+kxoTpNJigkw6TJBLjwkK8ZiglMFYUInAAqwQRKRBBR0q8FhXEKwVR0GLCvxCjeo6oyzkoIxnEvj5661acPO3yvFqpxdcV+Pj88VeNZ7cGB4ul1QFkv399KT4KBIpmGEwF4i9oL6DIN/3FzToL2ju8AvsBeE2aNFfQMFJBCkF0/R+bkHyCgSVuaDcVaC5zyvMBTkqyHYVaBZDKSpw5oJgLcMC5doXFBSoIMNutjcQBHJULmlhQYUKlmNQbs9kqGC5P2o3FqBBOVjMWkEOdcZQKam3dyqkkgP/g35zxmEpLhbjir0ZFz2tXHgbPR5deI+EMPKmig/hhU/fIkOYL4iYDbIyqpCXajp2Zy4yhNuxqUfbMCaEIraQZ9swJgQBQ0jBQr6eYXrzQrYIYdtC9uaFbDKayJajyTkL+VijyWA+mnBajGpDeFrMzAu5BNvwKoQBDaFHQ+jQEBo0hBoMYUBD8GgIHRpCi44mcAiJRQhoITvzQs63LGQxL2SOJnEhiHUI296bwNOixb1JYr5kz8yX7Odf6XDfBC9kd6yVzq+np69QIY/8AEJ45kt0T4hIM0VONm5CiLlVhLflS+CwdTGEVa2AnfOFTogaVAAfcg1QivpqzLFHD4LnrR0q8FAhqlux3PPUu0EFLSrooL6kLeaQwKMCTY4OfUjVoY+IOvTxSFiw81NtnbmgRwXeXDAg08IxBPIKBPX5BQ0FBxC0+wtSCg4gcBT853nruwiqfQXNHQT/LDiGD9Old6sEL2umn3MtqxDks9NotVbwfaG+FDfL6fznsjV32365cTXrtqoPdJKYrbmreIDvT42DCMYoIUEu4FvIKSpwgr6JvYEAfJm8QgUl+j58gb6Rn4Nvcv/p0jUmcODr8IQQQgghhBBCCCGEEEIIIYQQQgghs/wGp6uYgtiKODIAAAAASUVORK5CYII=\",\n  hash: str =>\n    str.split(\"\").reduce((a, c) => ((a << 5) - a + c.charCodeAt()) | 0),\n  colorHash: str =>\n    [\n      \"#000000\",\n      \"#333366\",\n      \"#333399\",\n      \"#3333CC\",\n      \"#339933\",\n      \"#339999\",\n      \"#33CC33\",\n      \"#33CC99\",\n      \"#663333\",\n      \"#663366\",\n      \"#666633\",\n      \"#666699\",\n      \"#66CC33\",\n      \"#66CCCC\",\n      \"#993333\",\n      \"#993366\",\n      \"#993399\",\n      \"#996633\",\n      \"#999966\",\n      \"#CC3333\",\n      \"#CC3366\",\n      \"#CC3399\",\n      \"#CC33CC\",\n      \"#CC6633\",\n      \"#CC9933\",\n      \"#CC99CC\",\n      \"#CCCC33\"\n    ][Math.abs(util.hash(str)) % 27],\n  backgroundHash: str => {\n    if (!str) {\n      return \"background-color: #aaa;\";\n    }\n    let c1 = util.colorHash(str);\n    let c2 = util.colorHash(\n      str\n        .split(\"\")\n        .reverse()\n        .join(\".\")\n    );\n    let deg = 45 * (Math.abs(util.hash(str)) % 4);\n    return (\n      `background-color:${c1};background-image:linear-gradient(${deg}deg, ${c2} 15%, transparent 15% 30%, ${c2} 30% 45%, transparent 45% 60%, ${c2} 60% 75%, transparent 75% 90%, ${c2} 90%);`\n    );\n  },\n  // Accepts a keydown event and checks if it's enter. Compatibility between browsers\n  // We do it the permissive way\n  is_it_enter: e => {\n    return e.keyCode == 13 || e.keyCode == 10 || e.key == \"Enter\" || e.key == \"↵\" || e.code == \"Enter\";\n  },\n  getVersion: () => (document.querySelector(\"meta[name='zusam:version']\") || {}).content || \"unknown\",\n  getWidthBreakpoint: () => {\n    if (window.innerWidth > 1800)\n      return 1800;\n    if (window.innerWidth > 1400)\n      return 1400;\n    if (window.innerWidth > 992)\n      return 992;\n    if (window.innerWidth > 768)\n      return 768;\n    if (window.innerWidth > 576)\n      return 576;\n    return window.innerWidth;\n  },\n};\nexport default util;\n","import alert from \"./alert.js\";\nimport storage from \"./storage.js\";\nimport util from \"./util.js\";\n\nconst http = {\n  sendFile: (formData, loadFn, progressFn = null, errorFn = null) => {\n    return storage\n      .get(\"apiKey\")\n      .then(apiKey => {\n        let xhr = new XMLHttpRequest();\n        xhr.open(\"POST\", `${document.baseURI}api/files`, true);\n        xhr.setRequestHeader(\"X-AUTH-TOKEN\", apiKey);\n        xhr.addEventListener(\"load\", e => {\n          if (e.target.status > 199 && e.target.status < 300) {\n            loadFn(JSON.parse(e.target.response));\n          } else if (errorFn) {\n            errorFn(e.target.statusText);\n          } else {\n            console.error(e.target.statusText);\n          }\n        });\n        if (progressFn) {\n          xhr.upload.onprogress = e =>\n            progressFn({ loaded: e.loaded, total: e.total });\n        }\n        if (errorFn) {\n          xhr.addEventListener(\"error\", e => errorFn(e));\n        }\n        xhr.send(formData);\n      })\n      .catch(error => alert.add(error, \"alert-danger\"));\n  },\n  get: (url, nocache = false, delay = 0) => {\n    return storage\n      .get(\"apiKey\")\n      .then(x => new Promise(resolve => setTimeout(() => resolve(x), delay)))\n      .then(apiKey => {\n        url = util.toApp(url);\n        if (!url) {\n          return;\n        }\n        let h = {};\n        if (apiKey) {\n          h[\"X-AUTH-TOKEN\"] = apiKey;\n        }\n        if (nocache) {\n          h[\"X-NOCACHE\"] = \"nocache\";\n        }\n        return fetch(url, {\n          method: \"GET\",\n          headers: new Headers(h)\n        })\n          .then(res => res.ok && res.json())\n          .catch(err => console.warn(`ERROR for ${url}`, err));\n      })\n      .catch(error => alert.add(error, \"alert-danger\"));\n  },\n  post: (url, data, delay = 0, contentType = \"application/json\") =>\n    http.request(url, data, \"POST\", delay, contentType),\n  put: (url, data, delay = 0, contentType = \"application/json\") =>\n    http.request(url, data, \"PUT\", delay, contentType),\n  delete: (url, data, delay = 0, contentType = \"application/json\") =>\n    http.request(url, null, \"DELETE\", delay, contentType),\n  request: (url, data, method, delay = 0, contentType = \"application/json\") => {\n    return storage\n      .get(\"apiKey\")\n      .then(x => new Promise(resolve => setTimeout(() => resolve(x), delay)))\n      .then(apiKey => {\n        url = util.toApp(url);\n        if (!url) {\n          return;\n        }\n        let h = {};\n        if (apiKey) {\n          h[\"X-AUTH-TOKEN\"] = apiKey;\n        }\n        if (contentType) {\n          h[\"Content-type\"] = contentType;\n        }\n        let fetchOptions = {\n          method,\n          headers: new Headers(h)\n        };\n        if (data) {\n          fetchOptions.body =\n            typeof data == \"object\" && data.constructor.name == \"Object\"\n              ? JSON.stringify(data)\n              : data;\n        }\n        return fetch(url, fetchOptions)\n          .then(res => {\n            try {\n              if (method != \"DELETE\") {\n                return res.json();\n              }\n              return {};\n            } catch (exception) {\n              console.warn(exception.message);\n              return Promise.reject(exception.message);\n            }\n          })\n          .catch(err => console.warn(`ERROR for ${url}`, err));\n      })\n      .catch(error => alert.add(error, \"alert-danger\"));\n  }\n};\nexport default http;\n","import http from \"./http.js\";\nimport store from \"/src/store\";\n\nconst notifications = {\n\n  LIMIT: 20,\n\n  get() {\n    return store.get()?.notifications || [];\n  },\n\n  update() {\n    return http.get(`/api/me/notifications/${notifications.LIMIT + 1}`).then(r => {\n      store.dispatch(\"notifications/update\", r);\n    });\n  },\n\n  isNew(id) {\n    let state = store.get();\n    if (Array.isArray(state[\"notifications\"])) {\n      return state.notifications.filter(n => !n.read).some(\n        n =>\n          notifications.matchNotification(n, id) ||\n          (n.type == \"new_comment\" && n.fromMessage.id === id)\n      );\n    }\n    return false;\n  },\n\n  removeAllNotifications() {\n    let state = store.get();\n    if (Array.isArray(state[\"notifications\"])) {\n      state.notifications.forEach(n => {\n        http.delete(`/api/notifications/${n.id}`).then(() => {\n          store.dispatch(\"notifications/remove\", n);\n        });\n      });\n    }\n  },\n\n  markAllNotificationsAsRead() {\n    let state = store.get();\n    if (Array.isArray(state[\"notifications\"])) {\n      state.notifications.forEach(n => {\n        http.put(`/api/notifications/${n.id}`, {read: true}).then(() => {\n          store.dispatch(\"notifications/read\", n);\n        });\n      });\n    }\n  },\n\n  removeMatchingNotifications(id) {\n    return Promise.all(\n      store.get().notifications\n        .filter(n => notifications.matchNotification(n, id))\n        .map(n => {\n          http.delete(`/api/notifications/${n.id}`).then(() => {\n            store.dispatch(\"notifications/remove\", n);\n          });\n        })\n    );\n  },\n\n  markAsRead(id) {\n    return Promise.all(\n      store.get().notifications\n        .filter(n => notifications.matchNotification(n, id))\n        .map(n => {\n          http.put(`/api/notifications/${n.id}`, {read: true}).then(() => {\n            store.dispatch(\"notifications/read\", n);\n          });\n        })\n    );\n  },\n\n  matchNotification(notif, id) {\n    if (notif.id === id) {\n      return true;\n    }\n    if (notif.target === id) {\n      return true;\n    }\n    return false;\n  },\n};\n\nexport default notifications;\n","import http from \"./http.js\";\nimport store from \"/src/store\";\n\nconst bookmarks_utils = {\n\n  LIMIT: 1000,\n\n  get() {\n    return store.get()?.bookmarks || [];\n  },\n\n  update() {\n    return http.get(`/api/me/bookmarks/${bookmarks_utils.LIMIT + 1}`).then(r => {\n      store.dispatch(\"bookmarks/update\", r);\n    });\n  },\n};\n\nexport default bookmarks_utils;\n","import util from \"./util.js\";\nimport http from \"./http.js\";\nimport store from \"/src/store\";\n\nconst router = {\n\n  get() {\n    return store.get();\n  },\n\n  get route() {\n    try {\n      return router.removeSubpath(location.pathname).slice(1).split(\"/\")[0];\n    } catch {\n      return \"\";\n    }\n  },\n\n  get id() {\n    try {\n      return router.removeSubpath(location.pathname).slice(1).split(\"/\")[1];\n    } catch {\n      return \"\";\n    }\n  },\n\n  get action() {\n    try {\n      return router.removeSubpath(location.pathname).slice(1).split(\"/\")[2];\n    } catch {\n      return \"\";\n    }\n  },\n\n  get backUrl() {\n    console.err(\"don't use backUrl\");\n    return store.get()?.backUrl;\n  },\n\n  get search() {\n    return location.search.slice(1);\n  },\n\n  getEntity() {\n    if (router.isEntity(router.route)) {\n      return http.get(`/api/${router.route}/${router.id}`);\n    }\n    return Promise.resolve(null);\n  },\n\n  get entity() {\n    console.err(\"don't use entity\");\n    return store.get()?.entity;\n  },\n\n  removeSubpath: path =>\n    path ? path.replace(new RegExp(`^${util.getSubpath()}`), \"\") : \"\",\n\n  getParam: (param, searchParams = window.location.search.substring(1)) => {\n    let res = searchParams.split(\"&\").find(e => e.split(\"=\")[0] === param);\n    return res ? decodeURIComponent(res.split(\"=\")[1]) : \"\";\n  },\n\n  getSegments: () =>\n    router\n      .removeSubpath(window.location.pathname)\n      .slice(1)\n      .split(\"?\")[0]\n      .split(\"/\"),\n\n  // check if route is \"outside\": accessible to non connected user\n  isOutside: () =>\n    [\n      \"login\",\n      \"password-reset\",\n      \"signup\",\n      \"invitation\",\n      \"stop-notification-emails\",\n      \"public\"\n    ].includes(router.route || router.getSegments()[0]),\n\n  isEntity: () => [\"messages\", \"groups\", \"users\", \"links\", \"files\"].includes(router.getSegments()[0]),\n\n  getUrlComponents: url => {\n    let components = {};\n    if (url) {\n      components.url = new URL(url);\n      components.path = components.url.pathname;\n      components.search = components.url.search.slice(1);\n      [components.route, components.id, components.action] = router\n        .removeSubpath(components.path)\n        .slice(1)\n        .split(\"/\");\n    }\n    components.entityType = \"\";\n    components.backUrl = \"\";\n    return components;\n  },\n};\nexport default router;\n","import _alert from \"./alert.js\";\nimport _api from \"./api.js\";\nimport _http from \"./http.js\";\nimport { lang as _lang, i18n as _i18n } from \"./lang.js\";\nimport _me from \"./me.js\";\nimport _notifications from \"./notifications.js\";\nimport _bookmarks_utils from \"./bookmarks_utils.js\";\nimport _router from \"./router.js\";\nimport _storage from \"./storage.js\";\nimport _util from \"./util.js\";\n\nexport const alert = _alert;\nexport const api = _api;\nexport const http = _http;\nexport const lang = _lang;\nexport const i18n = _i18n;\nexport const me = _me;\nexport const notifications = _notifications;\nexport const bookmarks_utils = _bookmarks_utils;\nexport const router = _router;\nexport const storage = _storage;\nexport const util = _util;\n","import http from \"./http.js\";\nimport store from \"/src/store\";\n\nconst api = {\n  get info() {\n    return store.get()?.api;\n  },\n  update: () =>\n    http.get(\"/api/info\", true).then(r => {\n      if (!r) {\n        return;\n      }\n      store.dispatch(\"api/update\", Object.assign({}, r));\n      setTimeout(dispatchEvent(new CustomEvent(\"apiStateChange\")));\n      return r;\n    }),\n};\nexport default api;\n","function _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}\nmodule.exports = _arrayWithHoles, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","function _iterableToArrayLimit(arr, i) {\n  var _i = null == arr ? null : \"undefined\" != typeof Symbol && arr[Symbol.iterator] || arr[\"@@iterator\"];\n  if (null != _i) {\n    var _s,\n      _e,\n      _x,\n      _r,\n      _arr = [],\n      _n = !0,\n      _d = !1;\n    try {\n      if (_x = (_i = _i.call(arr)).next, 0 === i) {\n        if (Object(_i) !== _i) return;\n        _n = !1;\n      } else for (; !(_n = (_s = _x.call(_i)).done) && (_arr.push(_s.value), _arr.length !== i); _n = !0);\n    } catch (err) {\n      _d = !0, _e = err;\n    } finally {\n      try {\n        if (!_n && null != _i[\"return\"] && (_r = _i[\"return\"](), Object(_r) !== _r)) return;\n      } finally {\n        if (_d) throw _e;\n      }\n    }\n    return _arr;\n  }\n}\nmodule.exports = _iterableToArrayLimit, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","function _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n  for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i];\n  return arr2;\n}\nmodule.exports = _arrayLikeToArray, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","var arrayLikeToArray = require(\"./arrayLikeToArray.js\");\nfunction _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return arrayLikeToArray(o, minLen);\n}\nmodule.exports = _unsupportedIterableToArray, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","export function warn() {\n  if (console && console.warn) {\n    var _console;\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    if (typeof args[0] === 'string') args[0] = \"react-i18next:: \".concat(args[0]);\n\n    (_console = console).warn.apply(_console, args);\n  }\n}\nvar alreadyWarned = {};\nexport function warnOnce() {\n  for (var _len2 = arguments.length, args = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n    args[_key2] = arguments[_key2];\n  }\n\n  if (typeof args[0] === 'string' && alreadyWarned[args[0]]) return;\n  if (typeof args[0] === 'string') alreadyWarned[args[0]] = new Date();\n  warn.apply(void 0, args);\n}\nexport function loadNamespaces(i18n, ns, cb) {\n  i18n.loadNamespaces(ns, function () {\n    if (i18n.isInitialized) {\n      cb();\n    } else {\n      var initialized = function initialized() {\n        setTimeout(function () {\n          i18n.off('initialized', initialized);\n        }, 0);\n        cb();\n      };\n\n      i18n.on('initialized', initialized);\n    }\n  });\n}\n\nfunction oldI18nextHasLoadedNamespace(ns, i18n) {\n  var options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n  var lng = i18n.languages[0];\n  var fallbackLng = i18n.options ? i18n.options.fallbackLng : false;\n  var lastLng = i18n.languages[i18n.languages.length - 1];\n  if (lng.toLowerCase() === 'cimode') return true;\n\n  var loadNotPending = function loadNotPending(l, n) {\n    var loadState = i18n.services.backendConnector.state[\"\".concat(l, \"|\").concat(n)];\n    return loadState === -1 || loadState === 2;\n  };\n\n  if (options.bindI18n && options.bindI18n.indexOf('languageChanging') > -1 && i18n.services.backendConnector.backend && i18n.isLanguageChangingTo && !loadNotPending(i18n.isLanguageChangingTo, ns)) return false;\n  if (i18n.hasResourceBundle(lng, ns)) return true;\n  if (!i18n.services.backendConnector.backend || i18n.options.resources && !i18n.options.partialBundledLanguages) return true;\n  if (loadNotPending(lng, ns) && (!fallbackLng || loadNotPending(lastLng, ns))) return true;\n  return false;\n}\n\nexport function hasLoadedNamespace(ns, i18n) {\n  var options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n\n  if (!i18n.languages || !i18n.languages.length) {\n    warnOnce('i18n.languages were undefined or empty', i18n.languages);\n    return true;\n  }\n\n  var isNewerI18next = i18n.options.ignoreJSONStructure !== undefined;\n\n  if (!isNewerI18next) {\n    return oldI18nextHasLoadedNamespace(ns, i18n, options);\n  }\n\n  return i18n.hasLoadedNamespace(ns, {\n    precheck: function precheck(i18nInstance, loadNotPending) {\n      if (options.bindI18n && options.bindI18n.indexOf('languageChanging') > -1 && i18nInstance.services.backendConnector.backend && i18nInstance.isLanguageChangingTo && !loadNotPending(i18nInstance.isLanguageChangingTo, ns)) return false;\n    }\n  });\n}\nexport function getDisplayName(Component) {\n  return Component.displayName || Component.name || (typeof Component === 'string' && Component.length > 0 ? Component : 'Unknown');\n}","function _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\nmodule.exports = _nonIterableRest, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","var arrayWithHoles = require(\"./arrayWithHoles.js\");\nvar iterableToArrayLimit = require(\"./iterableToArrayLimit.js\");\nvar unsupportedIterableToArray = require(\"./unsupportedIterableToArray.js\");\nvar nonIterableRest = require(\"./nonIterableRest.js\");\nfunction _slicedToArray(arr, i) {\n  return arrayWithHoles(arr) || iterableToArrayLimit(arr, i) || unsupportedIterableToArray(arr, i) || nonIterableRest();\n}\nmodule.exports = _slicedToArray, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport _defineProperty from \"@babel/runtime/helpers/defineProperty\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) { symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); } keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport { useState, useEffect, useContext, useRef } from 'react';\nimport { getI18n, getDefaults, ReportNamespaces, I18nContext } from './context';\nimport { warnOnce, loadNamespaces, hasLoadedNamespace } from './utils';\n\nvar usePrevious = function usePrevious(value, ignore) {\n  var ref = useRef();\n  useEffect(function () {\n    ref.current = ignore ? ref.current : value;\n  }, [value, ignore]);\n  return ref.current;\n};\n\nexport function useTranslation(ns) {\n  var props = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  var i18nFromProps = props.i18n;\n\n  var _ref = useContext(I18nContext) || {},\n      i18nFromContext = _ref.i18n,\n      defaultNSFromContext = _ref.defaultNS;\n\n  var i18n = i18nFromProps || i18nFromContext || getI18n();\n  if (i18n && !i18n.reportNamespaces) i18n.reportNamespaces = new ReportNamespaces();\n\n  if (!i18n) {\n    warnOnce('You will need to pass in an i18next instance by using initReactI18next');\n\n    var notReadyT = function notReadyT(k) {\n      return Array.isArray(k) ? k[k.length - 1] : k;\n    };\n\n    var retNotReady = [notReadyT, {}, false];\n    retNotReady.t = notReadyT;\n    retNotReady.i18n = {};\n    retNotReady.ready = false;\n    return retNotReady;\n  }\n\n  if (i18n.options.react && i18n.options.react.wait !== undefined) warnOnce('It seems you are still using the old wait option, you may migrate to the new useSuspense behaviour.');\n\n  var i18nOptions = _objectSpread(_objectSpread(_objectSpread({}, getDefaults()), i18n.options.react), props);\n\n  var useSuspense = i18nOptions.useSuspense,\n      keyPrefix = i18nOptions.keyPrefix;\n  var namespaces = ns || defaultNSFromContext || i18n.options && i18n.options.defaultNS;\n  namespaces = typeof namespaces === 'string' ? [namespaces] : namespaces || ['translation'];\n  if (i18n.reportNamespaces.addUsedNamespaces) i18n.reportNamespaces.addUsedNamespaces(namespaces);\n  var ready = (i18n.isInitialized || i18n.initializedStoreOnce) && namespaces.every(function (n) {\n    return hasLoadedNamespace(n, i18n, i18nOptions);\n  });\n\n  function getT() {\n    return i18n.getFixedT(null, i18nOptions.nsMode === 'fallback' ? namespaces : namespaces[0], keyPrefix);\n  }\n\n  var _useState = useState(getT),\n      _useState2 = _slicedToArray(_useState, 2),\n      t = _useState2[0],\n      setT = _useState2[1];\n\n  var joinedNS = namespaces.join();\n  var previousJoinedNS = usePrevious(joinedNS);\n  var isMounted = useRef(true);\n  useEffect(function () {\n    var bindI18n = i18nOptions.bindI18n,\n        bindI18nStore = i18nOptions.bindI18nStore;\n    isMounted.current = true;\n\n    if (!ready && !useSuspense) {\n      loadNamespaces(i18n, namespaces, function () {\n        if (isMounted.current) setT(getT);\n      });\n    }\n\n    if (ready && previousJoinedNS && previousJoinedNS !== joinedNS && isMounted.current) {\n      setT(getT);\n    }\n\n    function boundReset() {\n      if (isMounted.current) setT(getT);\n    }\n\n    if (bindI18n && i18n) i18n.on(bindI18n, boundReset);\n    if (bindI18nStore && i18n) i18n.store.on(bindI18nStore, boundReset);\n    return function () {\n      isMounted.current = false;\n      if (bindI18n && i18n) bindI18n.split(' ').forEach(function (e) {\n        return i18n.off(e, boundReset);\n      });\n      if (bindI18nStore && i18n) bindI18nStore.split(' ').forEach(function (e) {\n        return i18n.store.off(e, boundReset);\n      });\n    };\n  }, [i18n, joinedNS]);\n  var isInitial = useRef(true);\n  useEffect(function () {\n    if (isMounted.current && !isInitial.current) {\n      setT(getT);\n    }\n\n    isInitial.current = false;\n  }, [i18n, keyPrefix]);\n  var ret = [t, i18n, ready];\n  ret.t = t;\n  ret.i18n = i18n;\n  ret.ready = ready;\n  if (ready) return ret;\n  if (!ready && !useSuspense) return ret;\n  throw new Promise(function (resolve) {\n    loadNamespaces(i18n, namespaces, function () {\n      resolve();\n    });\n  });\n}","////////////////////////////////////////////////////////////////////////////////\n//#region Types and Constants\n////////////////////////////////////////////////////////////////////////////////\n\n/**\n * Actions represent the type of change to a location value.\n */\nexport enum Action {\n  /**\n   * A POP indicates a change to an arbitrary index in the history stack, such\n   * as a back or forward navigation. It does not describe the direction of the\n   * navigation, only that the current index changed.\n   *\n   * Note: This is the default action for newly created history objects.\n   */\n  Pop = \"POP\",\n\n  /**\n   * A PUSH indicates a new entry being added to the history stack, such as when\n   * a link is clicked and a new page loads. When this happens, all subsequent\n   * entries in the stack are lost.\n   */\n  Push = \"PUSH\",\n\n  /**\n   * A REPLACE indicates the entry at the current index in the history stack\n   * being replaced by a new one.\n   */\n  Replace = \"REPLACE\",\n}\n\n/**\n * The pathname, search, and hash values of a URL.\n */\nexport interface Path {\n  /**\n   * A URL pathname, beginning with a /.\n   */\n  pathname: string;\n\n  /**\n   * A URL search string, beginning with a ?.\n   */\n  search: string;\n\n  /**\n   * A URL fragment identifier, beginning with a #.\n   */\n  hash: string;\n}\n\n/**\n * An entry in a history stack. A location contains information about the\n * URL path, as well as possibly some arbitrary state and a key.\n */\nexport interface Location extends Path {\n  /**\n   * A value of arbitrary data associated with this location.\n   */\n  state: any;\n\n  /**\n   * A unique string associated with this location. May be used to safely store\n   * and retrieve data in some other storage API, like `localStorage`.\n   *\n   * Note: This value is always \"default\" on the initial location.\n   */\n  key: string;\n}\n\n/**\n * A change to the current location.\n */\nexport interface Update {\n  /**\n   * The action that triggered the change.\n   */\n  action: Action;\n\n  /**\n   * The new location.\n   */\n  location: Location;\n\n  /**\n   * The delta between this location and the former location in the history stack\n   */\n  delta: number | null;\n}\n\n/**\n * A function that receives notifications about location changes.\n */\nexport interface Listener {\n  (update: Update): void;\n}\n\n/**\n * Describes a location that is the destination of some navigation, either via\n * `history.push` or `history.replace`. May be either a URL or the pieces of a\n * URL path.\n */\nexport type To = string | Partial<Path>;\n\n/**\n * A history is an interface to the navigation stack. The history serves as the\n * source of truth for the current location, as well as provides a set of\n * methods that may be used to change it.\n *\n * It is similar to the DOM's `window.history` object, but with a smaller, more\n * focused API.\n */\nexport interface History {\n  /**\n   * The last action that modified the current location. This will always be\n   * Action.Pop when a history instance is first created. This value is mutable.\n   */\n  readonly action: Action;\n\n  /**\n   * The current location. This value is mutable.\n   */\n  readonly location: Location;\n\n  /**\n   * Returns a valid href for the given `to` value that may be used as\n   * the value of an <a href> attribute.\n   *\n   * @param to - The destination URL\n   */\n  createHref(to: To): string;\n\n  /**\n   * Returns a URL for the given `to` value\n   *\n   * @param to - The destination URL\n   */\n  createURL(to: To): URL;\n\n  /**\n   * Encode a location the same way window.history would do (no-op for memory\n   * history) so we ensure our PUSH/REPLACE navigations for data routers\n   * behave the same as POP\n   *\n   * @param to Unencoded path\n   */\n  encodeLocation(to: To): Path;\n\n  /**\n   * Pushes a new location onto the history stack, increasing its length by one.\n   * If there were any entries in the stack after the current one, they are\n   * lost.\n   *\n   * @param to - The new URL\n   * @param state - Data to associate with the new location\n   */\n  push(to: To, state?: any): void;\n\n  /**\n   * Replaces the current location in the history stack with a new one.  The\n   * location that was replaced will no longer be available.\n   *\n   * @param to - The new URL\n   * @param state - Data to associate with the new location\n   */\n  replace(to: To, state?: any): void;\n\n  /**\n   * Navigates `n` entries backward/forward in the history stack relative to the\n   * current index. For example, a \"back\" navigation would use go(-1).\n   *\n   * @param delta - The delta in the stack index\n   */\n  go(delta: number): void;\n\n  /**\n   * Sets up a listener that will be called whenever the current location\n   * changes.\n   *\n   * @param listener - A function that will be called when the location changes\n   * @returns unlisten - A function that may be used to stop listening\n   */\n  listen(listener: Listener): () => void;\n}\n\ntype HistoryState = {\n  usr: any;\n  key?: string;\n  idx: number;\n};\n\nconst PopStateEventType = \"popstate\";\n//#endregion\n\n////////////////////////////////////////////////////////////////////////////////\n//#region Memory History\n////////////////////////////////////////////////////////////////////////////////\n\n/**\n * A user-supplied object that describes a location. Used when providing\n * entries to `createMemoryHistory` via its `initialEntries` option.\n */\nexport type InitialEntry = string | Partial<Location>;\n\nexport type MemoryHistoryOptions = {\n  initialEntries?: InitialEntry[];\n  initialIndex?: number;\n  v5Compat?: boolean;\n};\n\n/**\n * A memory history stores locations in memory. This is useful in stateful\n * environments where there is no web browser, such as node tests or React\n * Native.\n */\nexport interface MemoryHistory extends History {\n  /**\n   * The current index in the history stack.\n   */\n  readonly index: number;\n}\n\n/**\n * Memory history stores the current location in memory. It is designed for use\n * in stateful non-browser environments like tests and React Native.\n */\nexport function createMemoryHistory(\n  options: MemoryHistoryOptions = {}\n): MemoryHistory {\n  let { initialEntries = [\"/\"], initialIndex, v5Compat = false } = options;\n  let entries: Location[]; // Declare so we can access from createMemoryLocation\n  entries = initialEntries.map((entry, index) =>\n    createMemoryLocation(\n      entry,\n      typeof entry === \"string\" ? null : entry.state,\n      index === 0 ? \"default\" : undefined\n    )\n  );\n  let index = clampIndex(\n    initialIndex == null ? entries.length - 1 : initialIndex\n  );\n  let action = Action.Pop;\n  let listener: Listener | null = null;\n\n  function clampIndex(n: number): number {\n    return Math.min(Math.max(n, 0), entries.length - 1);\n  }\n  function getCurrentLocation(): Location {\n    return entries[index];\n  }\n  function createMemoryLocation(\n    to: To,\n    state: any = null,\n    key?: string\n  ): Location {\n    let location = createLocation(\n      entries ? getCurrentLocation().pathname : \"/\",\n      to,\n      state,\n      key\n    );\n    warning(\n      location.pathname.charAt(0) === \"/\",\n      `relative pathnames are not supported in memory history: ${JSON.stringify(\n        to\n      )}`\n    );\n    return location;\n  }\n\n  function createHref(to: To) {\n    return typeof to === \"string\" ? to : createPath(to);\n  }\n\n  let history: MemoryHistory = {\n    get index() {\n      return index;\n    },\n    get action() {\n      return action;\n    },\n    get location() {\n      return getCurrentLocation();\n    },\n    createHref,\n    createURL(to) {\n      return new URL(createHref(to), \"http://localhost\");\n    },\n    encodeLocation(to: To) {\n      let path = typeof to === \"string\" ? parsePath(to) : to;\n      return {\n        pathname: path.pathname || \"\",\n        search: path.search || \"\",\n        hash: path.hash || \"\",\n      };\n    },\n    push(to, state) {\n      action = Action.Push;\n      let nextLocation = createMemoryLocation(to, state);\n      index += 1;\n      entries.splice(index, entries.length, nextLocation);\n      if (v5Compat && listener) {\n        listener({ action, location: nextLocation, delta: 1 });\n      }\n    },\n    replace(to, state) {\n      action = Action.Replace;\n      let nextLocation = createMemoryLocation(to, state);\n      entries[index] = nextLocation;\n      if (v5Compat && listener) {\n        listener({ action, location: nextLocation, delta: 0 });\n      }\n    },\n    go(delta) {\n      action = Action.Pop;\n      let nextIndex = clampIndex(index + delta);\n      let nextLocation = entries[nextIndex];\n      index = nextIndex;\n      if (listener) {\n        listener({ action, location: nextLocation, delta });\n      }\n    },\n    listen(fn: Listener) {\n      listener = fn;\n      return () => {\n        listener = null;\n      };\n    },\n  };\n\n  return history;\n}\n//#endregion\n\n////////////////////////////////////////////////////////////////////////////////\n//#region Browser History\n////////////////////////////////////////////////////////////////////////////////\n\n/**\n * A browser history stores the current location in regular URLs in a web\n * browser environment. This is the standard for most web apps and provides the\n * cleanest URLs the browser's address bar.\n *\n * @see https://github.com/remix-run/history/tree/main/docs/api-reference.md#browserhistory\n */\nexport interface BrowserHistory extends UrlHistory {}\n\nexport type BrowserHistoryOptions = UrlHistoryOptions;\n\n/**\n * Browser history stores the location in regular URLs. This is the standard for\n * most web apps, but it requires some configuration on the server to ensure you\n * serve the same app at multiple URLs.\n *\n * @see https://github.com/remix-run/history/tree/main/docs/api-reference.md#createbrowserhistory\n */\nexport function createBrowserHistory(\n  options: BrowserHistoryOptions = {}\n): BrowserHistory {\n  function createBrowserLocation(\n    window: Window,\n    globalHistory: Window[\"history\"]\n  ) {\n    let { pathname, search, hash } = window.location;\n    return createLocation(\n      \"\",\n      { pathname, search, hash },\n      // state defaults to `null` because `window.history.state` does\n      (globalHistory.state && globalHistory.state.usr) || null,\n      (globalHistory.state && globalHistory.state.key) || \"default\"\n    );\n  }\n\n  function createBrowserHref(window: Window, to: To) {\n    return typeof to === \"string\" ? to : createPath(to);\n  }\n\n  return getUrlBasedHistory(\n    createBrowserLocation,\n    createBrowserHref,\n    null,\n    options\n  );\n}\n//#endregion\n\n////////////////////////////////////////////////////////////////////////////////\n//#region Hash History\n////////////////////////////////////////////////////////////////////////////////\n\n/**\n * A hash history stores the current location in the fragment identifier portion\n * of the URL in a web browser environment.\n *\n * This is ideal for apps that do not control the server for some reason\n * (because the fragment identifier is never sent to the server), including some\n * shared hosting environments that do not provide fine-grained controls over\n * which pages are served at which URLs.\n *\n * @see https://github.com/remix-run/history/tree/main/docs/api-reference.md#hashhistory\n */\nexport interface HashHistory extends UrlHistory {}\n\nexport type HashHistoryOptions = UrlHistoryOptions;\n\n/**\n * Hash history stores the location in window.location.hash. This makes it ideal\n * for situations where you don't want to send the location to the server for\n * some reason, either because you do cannot configure it or the URL space is\n * reserved for something else.\n *\n * @see https://github.com/remix-run/history/tree/main/docs/api-reference.md#createhashhistory\n */\nexport function createHashHistory(\n  options: HashHistoryOptions = {}\n): HashHistory {\n  function createHashLocation(\n    window: Window,\n    globalHistory: Window[\"history\"]\n  ) {\n    let {\n      pathname = \"/\",\n      search = \"\",\n      hash = \"\",\n    } = parsePath(window.location.hash.substr(1));\n    return createLocation(\n      \"\",\n      { pathname, search, hash },\n      // state defaults to `null` because `window.history.state` does\n      (globalHistory.state && globalHistory.state.usr) || null,\n      (globalHistory.state && globalHistory.state.key) || \"default\"\n    );\n  }\n\n  function createHashHref(window: Window, to: To) {\n    let base = window.document.querySelector(\"base\");\n    let href = \"\";\n\n    if (base && base.getAttribute(\"href\")) {\n      let url = window.location.href;\n      let hashIndex = url.indexOf(\"#\");\n      href = hashIndex === -1 ? url : url.slice(0, hashIndex);\n    }\n\n    return href + \"#\" + (typeof to === \"string\" ? to : createPath(to));\n  }\n\n  function validateHashLocation(location: Location, to: To) {\n    warning(\n      location.pathname.charAt(0) === \"/\",\n      `relative pathnames are not supported in hash history.push(${JSON.stringify(\n        to\n      )})`\n    );\n  }\n\n  return getUrlBasedHistory(\n    createHashLocation,\n    createHashHref,\n    validateHashLocation,\n    options\n  );\n}\n//#endregion\n\n////////////////////////////////////////////////////////////////////////////////\n//#region UTILS\n////////////////////////////////////////////////////////////////////////////////\n\n/**\n * @private\n */\nexport function invariant(value: boolean, message?: string): asserts value;\nexport function invariant<T>(\n  value: T | null | undefined,\n  message?: string\n): asserts value is T;\nexport function invariant(value: any, message?: string) {\n  if (value === false || value === null || typeof value === \"undefined\") {\n    throw new Error(message);\n  }\n}\n\nexport function warning(cond: any, message: string) {\n  if (!cond) {\n    // eslint-disable-next-line no-console\n    if (typeof console !== \"undefined\") console.warn(message);\n\n    try {\n      // Welcome to debugging history!\n      //\n      // This error is thrown as a convenience so you can more easily\n      // find the source for a warning that appears in the console by\n      // enabling \"pause on exceptions\" in your JavaScript debugger.\n      throw new Error(message);\n      // eslint-disable-next-line no-empty\n    } catch (e) {}\n  }\n}\n\nfunction createKey() {\n  return Math.random().toString(36).substr(2, 8);\n}\n\n/**\n * For browser-based histories, we combine the state and key into an object\n */\nfunction getHistoryState(location: Location, index: number): HistoryState {\n  return {\n    usr: location.state,\n    key: location.key,\n    idx: index,\n  };\n}\n\n/**\n * Creates a Location object with a unique key from the given Path\n */\nexport function createLocation(\n  current: string | Location,\n  to: To,\n  state: any = null,\n  key?: string\n): Readonly<Location> {\n  let location: Readonly<Location> = {\n    pathname: typeof current === \"string\" ? current : current.pathname,\n    search: \"\",\n    hash: \"\",\n    ...(typeof to === \"string\" ? parsePath(to) : to),\n    state,\n    // TODO: This could be cleaned up.  push/replace should probably just take\n    // full Locations now and avoid the need to run through this flow at all\n    // But that's a pretty big refactor to the current test suite so going to\n    // keep as is for the time being and just let any incoming keys take precedence\n    key: (to && (to as Location).key) || key || createKey(),\n  };\n  return location;\n}\n\n/**\n * Creates a string URL path from the given pathname, search, and hash components.\n */\nexport function createPath({\n  pathname = \"/\",\n  search = \"\",\n  hash = \"\",\n}: Partial<Path>) {\n  if (search && search !== \"?\")\n    pathname += search.charAt(0) === \"?\" ? search : \"?\" + search;\n  if (hash && hash !== \"#\")\n    pathname += hash.charAt(0) === \"#\" ? hash : \"#\" + hash;\n  return pathname;\n}\n\n/**\n * Parses a string URL path into its separate pathname, search, and hash components.\n */\nexport function parsePath(path: string): Partial<Path> {\n  let parsedPath: Partial<Path> = {};\n\n  if (path) {\n    let hashIndex = path.indexOf(\"#\");\n    if (hashIndex >= 0) {\n      parsedPath.hash = path.substr(hashIndex);\n      path = path.substr(0, hashIndex);\n    }\n\n    let searchIndex = path.indexOf(\"?\");\n    if (searchIndex >= 0) {\n      parsedPath.search = path.substr(searchIndex);\n      path = path.substr(0, searchIndex);\n    }\n\n    if (path) {\n      parsedPath.pathname = path;\n    }\n  }\n\n  return parsedPath;\n}\n\nexport interface UrlHistory extends History {}\n\nexport type UrlHistoryOptions = {\n  window?: Window;\n  v5Compat?: boolean;\n};\n\nfunction getUrlBasedHistory(\n  getLocation: (window: Window, globalHistory: Window[\"history\"]) => Location,\n  createHref: (window: Window, to: To) => string,\n  validateLocation: ((location: Location, to: To) => void) | null,\n  options: UrlHistoryOptions = {}\n): UrlHistory {\n  let { window = document.defaultView!, v5Compat = false } = options;\n  let globalHistory = window.history;\n  let action = Action.Pop;\n  let listener: Listener | null = null;\n\n  let index = getIndex()!;\n  // Index should only be null when we initialize. If not, it's because the\n  // user called history.pushState or history.replaceState directly, in which\n  // case we should log a warning as it will result in bugs.\n  if (index == null) {\n    index = 0;\n    globalHistory.replaceState({ ...globalHistory.state, idx: index }, \"\");\n  }\n\n  function getIndex(): number {\n    let state = globalHistory.state || { idx: null };\n    return state.idx;\n  }\n\n  function handlePop() {\n    action = Action.Pop;\n    let nextIndex = getIndex();\n    let delta = nextIndex == null ? null : nextIndex - index;\n    index = nextIndex;\n    if (listener) {\n      listener({ action, location: history.location, delta });\n    }\n  }\n\n  function push(to: To, state?: any) {\n    action = Action.Push;\n    let location = createLocation(history.location, to, state);\n    if (validateLocation) validateLocation(location, to);\n\n    index = getIndex() + 1;\n    let historyState = getHistoryState(location, index);\n    let url = history.createHref(location);\n\n    // try...catch because iOS limits us to 100 pushState calls :/\n    try {\n      globalHistory.pushState(historyState, \"\", url);\n    } catch (error) {\n      // They are going to lose state here, but there is no real\n      // way to warn them about it since the page will refresh...\n      window.location.assign(url);\n    }\n\n    if (v5Compat && listener) {\n      listener({ action, location: history.location, delta: 1 });\n    }\n  }\n\n  function replace(to: To, state?: any) {\n    action = Action.Replace;\n    let location = createLocation(history.location, to, state);\n    if (validateLocation) validateLocation(location, to);\n\n    index = getIndex();\n    let historyState = getHistoryState(location, index);\n    let url = history.createHref(location);\n    globalHistory.replaceState(historyState, \"\", url);\n\n    if (v5Compat && listener) {\n      listener({ action, location: history.location, delta: 0 });\n    }\n  }\n\n  function createURL(to: To): URL {\n    // window.location.origin is \"null\" (the literal string value) in Firefox\n    // under certain conditions, notably when serving from a local HTML file\n    // See https://bugzilla.mozilla.org/show_bug.cgi?id=878297\n    let base =\n      window.location.origin !== \"null\"\n        ? window.location.origin\n        : window.location.href;\n\n    let href = typeof to === \"string\" ? to : createPath(to);\n    invariant(\n      base,\n      `No window.location.(origin|href) available to create URL for href: ${href}`\n    );\n    return new URL(href, base);\n  }\n\n  let history: History = {\n    get action() {\n      return action;\n    },\n    get location() {\n      return getLocation(window, globalHistory);\n    },\n    listen(fn: Listener) {\n      if (listener) {\n        throw new Error(\"A history only accepts one active listener\");\n      }\n      window.addEventListener(PopStateEventType, handlePop);\n      listener = fn;\n\n      return () => {\n        window.removeEventListener(PopStateEventType, handlePop);\n        listener = null;\n      };\n    },\n    createHref(to) {\n      return createHref(window, to);\n    },\n    createURL,\n    encodeLocation(to) {\n      // Encode a Location the same way window.location would\n      let url = createURL(to);\n      return {\n        pathname: url.pathname,\n        search: url.search,\n        hash: url.hash,\n      };\n    },\n    push,\n    replace,\n    go(n) {\n      return globalHistory.go(n);\n    },\n  };\n\n  return history;\n}\n\n//#endregion\n","import type { Location, Path, To } from \"./history\";\nimport { warning, invariant, parsePath } from \"./history\";\n\n/**\n * Map of routeId -> data returned from a loader/action/error\n */\nexport interface RouteData {\n  [routeId: string]: any;\n}\n\nexport enum ResultType {\n  data = \"data\",\n  deferred = \"deferred\",\n  redirect = \"redirect\",\n  error = \"error\",\n}\n\n/**\n * Successful result from a loader or action\n */\nexport interface SuccessResult {\n  type: ResultType.data;\n  data: any;\n  statusCode?: number;\n  headers?: Headers;\n}\n\n/**\n * Successful defer() result from a loader or action\n */\nexport interface DeferredResult {\n  type: ResultType.deferred;\n  deferredData: DeferredData;\n  statusCode?: number;\n  headers?: Headers;\n}\n\n/**\n * Redirect result from a loader or action\n */\nexport interface RedirectResult {\n  type: ResultType.redirect;\n  status: number;\n  location: string;\n  revalidate: boolean;\n}\n\n/**\n * Unsuccessful result from a loader or action\n */\nexport interface ErrorResult {\n  type: ResultType.error;\n  error: any;\n  headers?: Headers;\n}\n\n/**\n * Result from a loader or action - potentially successful or unsuccessful\n */\nexport type DataResult =\n  | SuccessResult\n  | DeferredResult\n  | RedirectResult\n  | ErrorResult;\n\ntype LowerCaseFormMethod = \"get\" | \"post\" | \"put\" | \"patch\" | \"delete\";\ntype UpperCaseFormMethod = Uppercase<LowerCaseFormMethod>;\n\n/**\n * Users can specify either lowercase or uppercase form methods on <Form>,\n * useSubmit(), <fetcher.Form>, etc.\n */\nexport type HTMLFormMethod = LowerCaseFormMethod | UpperCaseFormMethod;\n\n/**\n * Active navigation/fetcher form methods are exposed in lowercase on the\n * RouterState\n */\nexport type FormMethod = LowerCaseFormMethod;\nexport type MutationFormMethod = Exclude<FormMethod, \"get\">;\n\n/**\n * In v7, active navigation/fetcher form methods are exposed in uppercase on the\n * RouterState.  This is to align with the normalization done via fetch().\n */\nexport type V7_FormMethod = UpperCaseFormMethod;\nexport type V7_MutationFormMethod = Exclude<V7_FormMethod, \"GET\">;\n\nexport type FormEncType =\n  | \"application/x-www-form-urlencoded\"\n  | \"multipart/form-data\";\n\n/**\n * @private\n * Internal interface to pass around for action submissions, not intended for\n * external consumption\n */\nexport interface Submission {\n  formMethod: FormMethod | V7_FormMethod;\n  formAction: string;\n  formEncType: FormEncType;\n  formData: FormData;\n}\n\n/**\n * @private\n * Arguments passed to route loader/action functions.  Same for now but we keep\n * this as a private implementation detail in case they diverge in the future.\n */\ninterface DataFunctionArgs {\n  request: Request;\n  params: Params;\n  context?: any;\n}\n\n/**\n * Arguments passed to loader functions\n */\nexport interface LoaderFunctionArgs extends DataFunctionArgs {}\n\n/**\n * Arguments passed to action functions\n */\nexport interface ActionFunctionArgs extends DataFunctionArgs {}\n\n/**\n * Route loader function signature\n */\nexport interface LoaderFunction {\n  (args: LoaderFunctionArgs): Promise<Response> | Response | Promise<any> | any;\n}\n\n/**\n * Route action function signature\n */\nexport interface ActionFunction {\n  (args: ActionFunctionArgs): Promise<Response> | Response | Promise<any> | any;\n}\n\n/**\n * Route shouldRevalidate function signature.  This runs after any submission\n * (navigation or fetcher), so we flatten the navigation/fetcher submission\n * onto the arguments.  It shouldn't matter whether it came from a navigation\n * or a fetcher, what really matters is the URLs and the formData since loaders\n * have to re-run based on the data models that were potentially mutated.\n */\nexport interface ShouldRevalidateFunction {\n  (args: {\n    currentUrl: URL;\n    currentParams: AgnosticDataRouteMatch[\"params\"];\n    nextUrl: URL;\n    nextParams: AgnosticDataRouteMatch[\"params\"];\n    formMethod?: Submission[\"formMethod\"];\n    formAction?: Submission[\"formAction\"];\n    formEncType?: Submission[\"formEncType\"];\n    formData?: Submission[\"formData\"];\n    actionResult?: DataResult;\n    defaultShouldRevalidate: boolean;\n  }): boolean;\n}\n\n/**\n * Function provided by the framework-aware layers to set `hasErrorBoundary`\n * from the framework-aware `errorElement` prop\n */\nexport interface DetectErrorBoundaryFunction {\n  (route: AgnosticRouteObject): boolean;\n}\n\n/**\n * Keys we cannot change from within a lazy() function. We spread all other keys\n * onto the route. Either they're meaningful to the router, or they'll get\n * ignored.\n */\nexport type ImmutableRouteKey =\n  | \"lazy\"\n  | \"caseSensitive\"\n  | \"path\"\n  | \"id\"\n  | \"index\"\n  | \"children\";\n\nexport const immutableRouteKeys = new Set<ImmutableRouteKey>([\n  \"lazy\",\n  \"caseSensitive\",\n  \"path\",\n  \"id\",\n  \"index\",\n  \"children\",\n]);\n\n/**\n * lazy() function to load a route definition, which can add non-matching\n * related properties to a route\n */\nexport interface LazyRouteFunction<R extends AgnosticRouteObject> {\n  (): Promise<Omit<R, ImmutableRouteKey>>;\n}\n\n/**\n * Base RouteObject with common props shared by all types of routes\n */\ntype AgnosticBaseRouteObject = {\n  caseSensitive?: boolean;\n  path?: string;\n  id?: string;\n  loader?: LoaderFunction;\n  action?: ActionFunction;\n  hasErrorBoundary?: boolean;\n  shouldRevalidate?: ShouldRevalidateFunction;\n  handle?: any;\n  lazy?: LazyRouteFunction<AgnosticBaseRouteObject>;\n};\n\n/**\n * Index routes must not have children\n */\nexport type AgnosticIndexRouteObject = AgnosticBaseRouteObject & {\n  children?: undefined;\n  index: true;\n};\n\n/**\n * Non-index routes may have children, but cannot have index\n */\nexport type AgnosticNonIndexRouteObject = AgnosticBaseRouteObject & {\n  children?: AgnosticRouteObject[];\n  index?: false;\n};\n\n/**\n * A route object represents a logical route, with (optionally) its child\n * routes organized in a tree-like structure.\n */\nexport type AgnosticRouteObject =\n  | AgnosticIndexRouteObject\n  | AgnosticNonIndexRouteObject;\n\nexport type AgnosticDataIndexRouteObject = AgnosticIndexRouteObject & {\n  id: string;\n};\n\nexport type AgnosticDataNonIndexRouteObject = AgnosticNonIndexRouteObject & {\n  children?: AgnosticDataRouteObject[];\n  id: string;\n};\n\n/**\n * A data route object, which is just a RouteObject with a required unique ID\n */\nexport type AgnosticDataRouteObject =\n  | AgnosticDataIndexRouteObject\n  | AgnosticDataNonIndexRouteObject;\n\nexport type RouteManifest = Record<string, AgnosticDataRouteObject | undefined>;\n\n// Recursive helper for finding path parameters in the absence of wildcards\ntype _PathParam<Path extends string> =\n  // split path into individual path segments\n  Path extends `${infer L}/${infer R}`\n    ? _PathParam<L> | _PathParam<R>\n    : // find params after `:`\n    Path extends `:${infer Param}`\n    ? Param extends `${infer Optional}?`\n      ? Optional\n      : Param\n    : // otherwise, there aren't any params present\n      never;\n\n/**\n * Examples:\n * \"/a/b/*\" -> \"*\"\n * \":a\" -> \"a\"\n * \"/a/:b\" -> \"b\"\n * \"/a/blahblahblah:b\" -> \"b\"\n * \"/:a/:b\" -> \"a\" | \"b\"\n * \"/:a/b/:c/*\" -> \"a\" | \"c\" | \"*\"\n */\ntype PathParam<Path extends string> =\n  // check if path is just a wildcard\n  Path extends \"*\" | \"/*\"\n    ? \"*\"\n    : // look for wildcard at the end of the path\n    Path extends `${infer Rest}/*`\n    ? \"*\" | _PathParam<Rest>\n    : // look for params in the absence of wildcards\n      _PathParam<Path>;\n\n// Attempt to parse the given string segment. If it fails, then just return the\n// plain string type as a default fallback. Otherwise return the union of the\n// parsed string literals that were referenced as dynamic segments in the route.\nexport type ParamParseKey<Segment extends string> =\n  // if could not find path params, fallback to `string`\n  [PathParam<Segment>] extends [never] ? string : PathParam<Segment>;\n\n/**\n * The parameters that were parsed from the URL path.\n */\nexport type Params<Key extends string = string> = {\n  readonly [key in Key]: string | undefined;\n};\n\n/**\n * A RouteMatch contains info about how a route matched a URL.\n */\nexport interface AgnosticRouteMatch<\n  ParamKey extends string = string,\n  RouteObjectType extends AgnosticRouteObject = AgnosticRouteObject\n> {\n  /**\n   * The names and values of dynamic parameters in the URL.\n   */\n  params: Params<ParamKey>;\n  /**\n   * The portion of the URL pathname that was matched.\n   */\n  pathname: string;\n  /**\n   * The portion of the URL pathname that was matched before child routes.\n   */\n  pathnameBase: string;\n  /**\n   * The route object that was used to match.\n   */\n  route: RouteObjectType;\n}\n\nexport interface AgnosticDataRouteMatch\n  extends AgnosticRouteMatch<string, AgnosticDataRouteObject> {}\n\nfunction isIndexRoute(\n  route: AgnosticRouteObject\n): route is AgnosticIndexRouteObject {\n  return route.index === true;\n}\n\n// Walk the route tree generating unique IDs where necessary so we are working\n// solely with AgnosticDataRouteObject's within the Router\nexport function convertRoutesToDataRoutes(\n  routes: AgnosticRouteObject[],\n  detectErrorBoundary: DetectErrorBoundaryFunction,\n  parentPath: number[] = [],\n  manifest: RouteManifest = {}\n): AgnosticDataRouteObject[] {\n  return routes.map((route, index) => {\n    let treePath = [...parentPath, index];\n    let id = typeof route.id === \"string\" ? route.id : treePath.join(\"-\");\n    invariant(\n      route.index !== true || !route.children,\n      `Cannot specify children on an index route`\n    );\n    invariant(\n      !manifest[id],\n      `Found a route id collision on id \"${id}\".  Route ` +\n        \"id's must be globally unique within Data Router usages\"\n    );\n\n    if (isIndexRoute(route)) {\n      let indexRoute: AgnosticDataIndexRouteObject = {\n        ...route,\n        hasErrorBoundary: detectErrorBoundary(route),\n        id,\n      };\n      manifest[id] = indexRoute;\n      return indexRoute;\n    } else {\n      let pathOrLayoutRoute: AgnosticDataNonIndexRouteObject = {\n        ...route,\n        id,\n        hasErrorBoundary: detectErrorBoundary(route),\n        children: undefined,\n      };\n      manifest[id] = pathOrLayoutRoute;\n\n      if (route.children) {\n        pathOrLayoutRoute.children = convertRoutesToDataRoutes(\n          route.children,\n          detectErrorBoundary,\n          treePath,\n          manifest\n        );\n      }\n\n      return pathOrLayoutRoute;\n    }\n  });\n}\n\n/**\n * Matches the given routes to a location and returns the match data.\n *\n * @see https://reactrouter.com/utils/match-routes\n */\nexport function matchRoutes<\n  RouteObjectType extends AgnosticRouteObject = AgnosticRouteObject\n>(\n  routes: RouteObjectType[],\n  locationArg: Partial<Location> | string,\n  basename = \"/\"\n): AgnosticRouteMatch<string, RouteObjectType>[] | null {\n  let location =\n    typeof locationArg === \"string\" ? parsePath(locationArg) : locationArg;\n\n  let pathname = stripBasename(location.pathname || \"/\", basename);\n\n  if (pathname == null) {\n    return null;\n  }\n\n  let branches = flattenRoutes(routes);\n  rankRouteBranches(branches);\n\n  let matches = null;\n  for (let i = 0; matches == null && i < branches.length; ++i) {\n    matches = matchRouteBranch<string, RouteObjectType>(\n      branches[i],\n      // Incoming pathnames are generally encoded from either window.location\n      // or from router.navigate, but we want to match against the unencoded\n      // paths in the route definitions.  Memory router locations won't be\n      // encoded here but there also shouldn't be anything to decode so this\n      // should be a safe operation.  This avoids needing matchRoutes to be\n      // history-aware.\n      safelyDecodeURI(pathname)\n    );\n  }\n\n  return matches;\n}\n\ninterface RouteMeta<\n  RouteObjectType extends AgnosticRouteObject = AgnosticRouteObject\n> {\n  relativePath: string;\n  caseSensitive: boolean;\n  childrenIndex: number;\n  route: RouteObjectType;\n}\n\ninterface RouteBranch<\n  RouteObjectType extends AgnosticRouteObject = AgnosticRouteObject\n> {\n  path: string;\n  score: number;\n  routesMeta: RouteMeta<RouteObjectType>[];\n}\n\nfunction flattenRoutes<\n  RouteObjectType extends AgnosticRouteObject = AgnosticRouteObject\n>(\n  routes: RouteObjectType[],\n  branches: RouteBranch<RouteObjectType>[] = [],\n  parentsMeta: RouteMeta<RouteObjectType>[] = [],\n  parentPath = \"\"\n): RouteBranch<RouteObjectType>[] {\n  let flattenRoute = (\n    route: RouteObjectType,\n    index: number,\n    relativePath?: string\n  ) => {\n    let meta: RouteMeta<RouteObjectType> = {\n      relativePath:\n        relativePath === undefined ? route.path || \"\" : relativePath,\n      caseSensitive: route.caseSensitive === true,\n      childrenIndex: index,\n      route,\n    };\n\n    if (meta.relativePath.startsWith(\"/\")) {\n      invariant(\n        meta.relativePath.startsWith(parentPath),\n        `Absolute route path \"${meta.relativePath}\" nested under path ` +\n          `\"${parentPath}\" is not valid. An absolute child route path ` +\n          `must start with the combined path of all its parent routes.`\n      );\n\n      meta.relativePath = meta.relativePath.slice(parentPath.length);\n    }\n\n    let path = joinPaths([parentPath, meta.relativePath]);\n    let routesMeta = parentsMeta.concat(meta);\n\n    // Add the children before adding this route to the array so we traverse the\n    // route tree depth-first and child routes appear before their parents in\n    // the \"flattened\" version.\n    if (route.children && route.children.length > 0) {\n      invariant(\n        // Our types know better, but runtime JS may not!\n        // @ts-expect-error\n        route.index !== true,\n        `Index routes must not have child routes. Please remove ` +\n          `all child routes from route path \"${path}\".`\n      );\n\n      flattenRoutes(route.children, branches, routesMeta, path);\n    }\n\n    // Routes without a path shouldn't ever match by themselves unless they are\n    // index routes, so don't add them to the list of possible branches.\n    if (route.path == null && !route.index) {\n      return;\n    }\n\n    branches.push({\n      path,\n      score: computeScore(path, route.index),\n      routesMeta,\n    });\n  };\n  routes.forEach((route, index) => {\n    // coarse-grain check for optional params\n    if (route.path === \"\" || !route.path?.includes(\"?\")) {\n      flattenRoute(route, index);\n    } else {\n      for (let exploded of explodeOptionalSegments(route.path)) {\n        flattenRoute(route, index, exploded);\n      }\n    }\n  });\n\n  return branches;\n}\n\n/**\n * Computes all combinations of optional path segments for a given path,\n * excluding combinations that are ambiguous and of lower priority.\n *\n * For example, `/one/:two?/three/:four?/:five?` explodes to:\n * - `/one/three`\n * - `/one/:two/three`\n * - `/one/three/:four`\n * - `/one/three/:five`\n * - `/one/:two/three/:four`\n * - `/one/:two/three/:five`\n * - `/one/three/:four/:five`\n * - `/one/:two/three/:four/:five`\n */\nfunction explodeOptionalSegments(path: string): string[] {\n  let segments = path.split(\"/\");\n  if (segments.length === 0) return [];\n\n  let [first, ...rest] = segments;\n\n  // Optional path segments are denoted by a trailing `?`\n  let isOptional = first.endsWith(\"?\");\n  // Compute the corresponding required segment: `foo?` -> `foo`\n  let required = first.replace(/\\?$/, \"\");\n\n  if (rest.length === 0) {\n    // Intepret empty string as omitting an optional segment\n    // `[\"one\", \"\", \"three\"]` corresponds to omitting `:two` from `/one/:two?/three` -> `/one/three`\n    return isOptional ? [required, \"\"] : [required];\n  }\n\n  let restExploded = explodeOptionalSegments(rest.join(\"/\"));\n\n  let result: string[] = [];\n\n  // All child paths with the prefix.  Do this for all children before the\n  // optional version for all children so we get consistent ordering where the\n  // parent optional aspect is preferred as required.  Otherwise, we can get\n  // child sections interspersed where deeper optional segments are higher than\n  // parent optional segments, where for example, /:two would explodes _earlier_\n  // then /:one.  By always including the parent as required _for all children_\n  // first, we avoid this issue\n  result.push(\n    ...restExploded.map((subpath) =>\n      subpath === \"\" ? required : [required, subpath].join(\"/\")\n    )\n  );\n\n  // Then if this is an optional value, add all child versions without\n  if (isOptional) {\n    result.push(...restExploded);\n  }\n\n  // for absolute paths, ensure `/` instead of empty segment\n  return result.map((exploded) =>\n    path.startsWith(\"/\") && exploded === \"\" ? \"/\" : exploded\n  );\n}\n\nfunction rankRouteBranches(branches: RouteBranch[]): void {\n  branches.sort((a, b) =>\n    a.score !== b.score\n      ? b.score - a.score // Higher score first\n      : compareIndexes(\n          a.routesMeta.map((meta) => meta.childrenIndex),\n          b.routesMeta.map((meta) => meta.childrenIndex)\n        )\n  );\n}\n\nconst paramRe = /^:\\w+$/;\nconst dynamicSegmentValue = 3;\nconst indexRouteValue = 2;\nconst emptySegmentValue = 1;\nconst staticSegmentValue = 10;\nconst splatPenalty = -2;\nconst isSplat = (s: string) => s === \"*\";\n\nfunction computeScore(path: string, index: boolean | undefined): number {\n  let segments = path.split(\"/\");\n  let initialScore = segments.length;\n  if (segments.some(isSplat)) {\n    initialScore += splatPenalty;\n  }\n\n  if (index) {\n    initialScore += indexRouteValue;\n  }\n\n  return segments\n    .filter((s) => !isSplat(s))\n    .reduce(\n      (score, segment) =>\n        score +\n        (paramRe.test(segment)\n          ? dynamicSegmentValue\n          : segment === \"\"\n          ? emptySegmentValue\n          : staticSegmentValue),\n      initialScore\n    );\n}\n\nfunction compareIndexes(a: number[], b: number[]): number {\n  let siblings =\n    a.length === b.length && a.slice(0, -1).every((n, i) => n === b[i]);\n\n  return siblings\n    ? // If two routes are siblings, we should try to match the earlier sibling\n      // first. This allows people to have fine-grained control over the matching\n      // behavior by simply putting routes with identical paths in the order they\n      // want them tried.\n      a[a.length - 1] - b[b.length - 1]\n    : // Otherwise, it doesn't really make sense to rank non-siblings by index,\n      // so they sort equally.\n      0;\n}\n\nfunction matchRouteBranch<\n  ParamKey extends string = string,\n  RouteObjectType extends AgnosticRouteObject = AgnosticRouteObject\n>(\n  branch: RouteBranch<RouteObjectType>,\n  pathname: string\n): AgnosticRouteMatch<ParamKey, RouteObjectType>[] | null {\n  let { routesMeta } = branch;\n\n  let matchedParams = {};\n  let matchedPathname = \"/\";\n  let matches: AgnosticRouteMatch<ParamKey, RouteObjectType>[] = [];\n  for (let i = 0; i < routesMeta.length; ++i) {\n    let meta = routesMeta[i];\n    let end = i === routesMeta.length - 1;\n    let remainingPathname =\n      matchedPathname === \"/\"\n        ? pathname\n        : pathname.slice(matchedPathname.length) || \"/\";\n    let match = matchPath(\n      { path: meta.relativePath, caseSensitive: meta.caseSensitive, end },\n      remainingPathname\n    );\n\n    if (!match) return null;\n\n    Object.assign(matchedParams, match.params);\n\n    let route = meta.route;\n\n    matches.push({\n      // TODO: Can this as be avoided?\n      params: matchedParams as Params<ParamKey>,\n      pathname: joinPaths([matchedPathname, match.pathname]),\n      pathnameBase: normalizePathname(\n        joinPaths([matchedPathname, match.pathnameBase])\n      ),\n      route,\n    });\n\n    if (match.pathnameBase !== \"/\") {\n      matchedPathname = joinPaths([matchedPathname, match.pathnameBase]);\n    }\n  }\n\n  return matches;\n}\n\n/**\n * Returns a path with params interpolated.\n *\n * @see https://reactrouter.com/utils/generate-path\n */\nexport function generatePath<Path extends string>(\n  originalPath: Path,\n  params: {\n    [key in PathParam<Path>]: string | null;\n  } = {} as any\n): string {\n  let path: string = originalPath;\n  if (path.endsWith(\"*\") && path !== \"*\" && !path.endsWith(\"/*\")) {\n    warning(\n      false,\n      `Route path \"${path}\" will be treated as if it were ` +\n        `\"${path.replace(/\\*$/, \"/*\")}\" because the \\`*\\` character must ` +\n        `always follow a \\`/\\` in the pattern. To get rid of this warning, ` +\n        `please change the route path to \"${path.replace(/\\*$/, \"/*\")}\".`\n    );\n    path = path.replace(/\\*$/, \"/*\") as Path;\n  }\n\n  // ensure `/` is added at the beginning if the path is absolute\n  const prefix = path.startsWith(\"/\") ? \"/\" : \"\";\n\n  const segments = path\n    .split(/\\/+/)\n    .map((segment, index, array) => {\n      const isLastSegment = index === array.length - 1;\n\n      // only apply the splat if it's the last segment\n      if (isLastSegment && segment === \"*\") {\n        const star = \"*\" as PathParam<Path>;\n        const starParam = params[star];\n\n        // Apply the splat\n        return starParam;\n      }\n\n      const keyMatch = segment.match(/^:(\\w+)(\\??)$/);\n      if (keyMatch) {\n        const [, key, optional] = keyMatch;\n        let param = params[key as PathParam<Path>];\n\n        if (optional === \"?\") {\n          return param == null ? \"\" : param;\n        }\n\n        if (param == null) {\n          invariant(false, `Missing \":${key}\" param`);\n        }\n\n        return param;\n      }\n\n      // Remove any optional markers from optional static segments\n      return segment.replace(/\\?$/g, \"\");\n    })\n    // Remove empty segments\n    .filter((segment) => !!segment);\n\n  return prefix + segments.join(\"/\");\n}\n\n/**\n * A PathPattern is used to match on some portion of a URL pathname.\n */\nexport interface PathPattern<Path extends string = string> {\n  /**\n   * A string to match against a URL pathname. May contain `:id`-style segments\n   * to indicate placeholders for dynamic parameters. May also end with `/*` to\n   * indicate matching the rest of the URL pathname.\n   */\n  path: Path;\n  /**\n   * Should be `true` if the static portions of the `path` should be matched in\n   * the same case.\n   */\n  caseSensitive?: boolean;\n  /**\n   * Should be `true` if this pattern should match the entire URL pathname.\n   */\n  end?: boolean;\n}\n\n/**\n * A PathMatch contains info about how a PathPattern matched on a URL pathname.\n */\nexport interface PathMatch<ParamKey extends string = string> {\n  /**\n   * The names and values of dynamic parameters in the URL.\n   */\n  params: Params<ParamKey>;\n  /**\n   * The portion of the URL pathname that was matched.\n   */\n  pathname: string;\n  /**\n   * The portion of the URL pathname that was matched before child routes.\n   */\n  pathnameBase: string;\n  /**\n   * The pattern that was used to match.\n   */\n  pattern: PathPattern;\n}\n\ntype Mutable<T> = {\n  -readonly [P in keyof T]: T[P];\n};\n\n/**\n * Performs pattern matching on a URL pathname and returns information about\n * the match.\n *\n * @see https://reactrouter.com/utils/match-path\n */\nexport function matchPath<\n  ParamKey extends ParamParseKey<Path>,\n  Path extends string\n>(\n  pattern: PathPattern<Path> | Path,\n  pathname: string\n): PathMatch<ParamKey> | null {\n  if (typeof pattern === \"string\") {\n    pattern = { path: pattern, caseSensitive: false, end: true };\n  }\n\n  let [matcher, paramNames] = compilePath(\n    pattern.path,\n    pattern.caseSensitive,\n    pattern.end\n  );\n\n  let match = pathname.match(matcher);\n  if (!match) return null;\n\n  let matchedPathname = match[0];\n  let pathnameBase = matchedPathname.replace(/(.)\\/+$/, \"$1\");\n  let captureGroups = match.slice(1);\n  let params: Params = paramNames.reduce<Mutable<Params>>(\n    (memo, paramName, index) => {\n      // We need to compute the pathnameBase here using the raw splat value\n      // instead of using params[\"*\"] later because it will be decoded then\n      if (paramName === \"*\") {\n        let splatValue = captureGroups[index] || \"\";\n        pathnameBase = matchedPathname\n          .slice(0, matchedPathname.length - splatValue.length)\n          .replace(/(.)\\/+$/, \"$1\");\n      }\n\n      memo[paramName] = safelyDecodeURIComponent(\n        captureGroups[index] || \"\",\n        paramName\n      );\n      return memo;\n    },\n    {}\n  );\n\n  return {\n    params,\n    pathname: matchedPathname,\n    pathnameBase,\n    pattern,\n  };\n}\n\nfunction compilePath(\n  path: string,\n  caseSensitive = false,\n  end = true\n): [RegExp, string[]] {\n  warning(\n    path === \"*\" || !path.endsWith(\"*\") || path.endsWith(\"/*\"),\n    `Route path \"${path}\" will be treated as if it were ` +\n      `\"${path.replace(/\\*$/, \"/*\")}\" because the \\`*\\` character must ` +\n      `always follow a \\`/\\` in the pattern. To get rid of this warning, ` +\n      `please change the route path to \"${path.replace(/\\*$/, \"/*\")}\".`\n  );\n\n  let paramNames: string[] = [];\n  let regexpSource =\n    \"^\" +\n    path\n      .replace(/\\/*\\*?$/, \"\") // Ignore trailing / and /*, we'll handle it below\n      .replace(/^\\/*/, \"/\") // Make sure it has a leading /\n      .replace(/[\\\\.*+^$?{}|()[\\]]/g, \"\\\\$&\") // Escape special regex chars\n      .replace(/\\/:(\\w+)/g, (_: string, paramName: string) => {\n        paramNames.push(paramName);\n        return \"/([^\\\\/]+)\";\n      });\n\n  if (path.endsWith(\"*\")) {\n    paramNames.push(\"*\");\n    regexpSource +=\n      path === \"*\" || path === \"/*\"\n        ? \"(.*)$\" // Already matched the initial /, just match the rest\n        : \"(?:\\\\/(.+)|\\\\/*)$\"; // Don't include the / in params[\"*\"]\n  } else if (end) {\n    // When matching to the end, ignore trailing slashes\n    regexpSource += \"\\\\/*$\";\n  } else if (path !== \"\" && path !== \"/\") {\n    // If our path is non-empty and contains anything beyond an initial slash,\n    // then we have _some_ form of path in our regex so we should expect to\n    // match only if we find the end of this path segment.  Look for an optional\n    // non-captured trailing slash (to match a portion of the URL) or the end\n    // of the path (if we've matched to the end).  We used to do this with a\n    // word boundary but that gives false positives on routes like\n    // /user-preferences since `-` counts as a word boundary.\n    regexpSource += \"(?:(?=\\\\/|$))\";\n  } else {\n    // Nothing to match for \"\" or \"/\"\n  }\n\n  let matcher = new RegExp(regexpSource, caseSensitive ? undefined : \"i\");\n\n  return [matcher, paramNames];\n}\n\nfunction safelyDecodeURI(value: string) {\n  try {\n    return decodeURI(value);\n  } catch (error) {\n    warning(\n      false,\n      `The URL path \"${value}\" could not be decoded because it is is a ` +\n        `malformed URL segment. This is probably due to a bad percent ` +\n        `encoding (${error}).`\n    );\n\n    return value;\n  }\n}\n\nfunction safelyDecodeURIComponent(value: string, paramName: string) {\n  try {\n    return decodeURIComponent(value);\n  } catch (error) {\n    warning(\n      false,\n      `The value for the URL param \"${paramName}\" will not be decoded because` +\n        ` the string \"${value}\" is a malformed URL segment. This is probably` +\n        ` due to a bad percent encoding (${error}).`\n    );\n\n    return value;\n  }\n}\n\n/**\n * @private\n */\nexport function stripBasename(\n  pathname: string,\n  basename: string\n): string | null {\n  if (basename === \"/\") return pathname;\n\n  if (!pathname.toLowerCase().startsWith(basename.toLowerCase())) {\n    return null;\n  }\n\n  // We want to leave trailing slash behavior in the user's control, so if they\n  // specify a basename with a trailing slash, we should support it\n  let startIndex = basename.endsWith(\"/\")\n    ? basename.length - 1\n    : basename.length;\n  let nextChar = pathname.charAt(startIndex);\n  if (nextChar && nextChar !== \"/\") {\n    // pathname does not start with basename/\n    return null;\n  }\n\n  return pathname.slice(startIndex) || \"/\";\n}\n\n/**\n * Returns a resolved path object relative to the given pathname.\n *\n * @see https://reactrouter.com/utils/resolve-path\n */\nexport function resolvePath(to: To, fromPathname = \"/\"): Path {\n  let {\n    pathname: toPathname,\n    search = \"\",\n    hash = \"\",\n  } = typeof to === \"string\" ? parsePath(to) : to;\n\n  let pathname = toPathname\n    ? toPathname.startsWith(\"/\")\n      ? toPathname\n      : resolvePathname(toPathname, fromPathname)\n    : fromPathname;\n\n  return {\n    pathname,\n    search: normalizeSearch(search),\n    hash: normalizeHash(hash),\n  };\n}\n\nfunction resolvePathname(relativePath: string, fromPathname: string): string {\n  let segments = fromPathname.replace(/\\/+$/, \"\").split(\"/\");\n  let relativeSegments = relativePath.split(\"/\");\n\n  relativeSegments.forEach((segment) => {\n    if (segment === \"..\") {\n      // Keep the root \"\" segment so the pathname starts at /\n      if (segments.length > 1) segments.pop();\n    } else if (segment !== \".\") {\n      segments.push(segment);\n    }\n  });\n\n  return segments.length > 1 ? segments.join(\"/\") : \"/\";\n}\n\nfunction getInvalidPathError(\n  char: string,\n  field: string,\n  dest: string,\n  path: Partial<Path>\n) {\n  return (\n    `Cannot include a '${char}' character in a manually specified ` +\n    `\\`to.${field}\\` field [${JSON.stringify(\n      path\n    )}].  Please separate it out to the ` +\n    `\\`to.${dest}\\` field. Alternatively you may provide the full path as ` +\n    `a string in <Link to=\"...\"> and the router will parse it for you.`\n  );\n}\n\n/**\n * @private\n *\n * When processing relative navigation we want to ignore ancestor routes that\n * do not contribute to the path, such that index/pathless layout routes don't\n * interfere.\n *\n * For example, when moving a route element into an index route and/or a\n * pathless layout route, relative link behavior contained within should stay\n * the same.  Both of the following examples should link back to the root:\n *\n *   <Route path=\"/\">\n *     <Route path=\"accounts\" element={<Link to=\"..\"}>\n *   </Route>\n *\n *   <Route path=\"/\">\n *     <Route path=\"accounts\">\n *       <Route element={<AccountsLayout />}>       // <-- Does not contribute\n *         <Route index element={<Link to=\"..\"} />  // <-- Does not contribute\n *       </Route\n *     </Route>\n *   </Route>\n */\nexport function getPathContributingMatches<\n  T extends AgnosticRouteMatch = AgnosticRouteMatch\n>(matches: T[]) {\n  return matches.filter(\n    (match, index) =>\n      index === 0 || (match.route.path && match.route.path.length > 0)\n  );\n}\n\n/**\n * @private\n */\nexport function resolveTo(\n  toArg: To,\n  routePathnames: string[],\n  locationPathname: string,\n  isPathRelative = false\n): Path {\n  let to: Partial<Path>;\n  if (typeof toArg === \"string\") {\n    to = parsePath(toArg);\n  } else {\n    to = { ...toArg };\n\n    invariant(\n      !to.pathname || !to.pathname.includes(\"?\"),\n      getInvalidPathError(\"?\", \"pathname\", \"search\", to)\n    );\n    invariant(\n      !to.pathname || !to.pathname.includes(\"#\"),\n      getInvalidPathError(\"#\", \"pathname\", \"hash\", to)\n    );\n    invariant(\n      !to.search || !to.search.includes(\"#\"),\n      getInvalidPathError(\"#\", \"search\", \"hash\", to)\n    );\n  }\n\n  let isEmptyPath = toArg === \"\" || to.pathname === \"\";\n  let toPathname = isEmptyPath ? \"/\" : to.pathname;\n\n  let from: string;\n\n  // Routing is relative to the current pathname if explicitly requested.\n  //\n  // If a pathname is explicitly provided in `to`, it should be relative to the\n  // route context. This is explained in `Note on `<Link to>` values` in our\n  // migration guide from v5 as a means of disambiguation between `to` values\n  // that begin with `/` and those that do not. However, this is problematic for\n  // `to` values that do not provide a pathname. `to` can simply be a search or\n  // hash string, in which case we should assume that the navigation is relative\n  // to the current location's pathname and *not* the route pathname.\n  if (isPathRelative || toPathname == null) {\n    from = locationPathname;\n  } else {\n    let routePathnameIndex = routePathnames.length - 1;\n\n    if (toPathname.startsWith(\"..\")) {\n      let toSegments = toPathname.split(\"/\");\n\n      // Each leading .. segment means \"go up one route\" instead of \"go up one\n      // URL segment\".  This is a key difference from how <a href> works and a\n      // major reason we call this a \"to\" value instead of a \"href\".\n      while (toSegments[0] === \"..\") {\n        toSegments.shift();\n        routePathnameIndex -= 1;\n      }\n\n      to.pathname = toSegments.join(\"/\");\n    }\n\n    // If there are more \"..\" segments than parent routes, resolve relative to\n    // the root / URL.\n    from = routePathnameIndex >= 0 ? routePathnames[routePathnameIndex] : \"/\";\n  }\n\n  let path = resolvePath(to, from);\n\n  // Ensure the pathname has a trailing slash if the original \"to\" had one\n  let hasExplicitTrailingSlash =\n    toPathname && toPathname !== \"/\" && toPathname.endsWith(\"/\");\n  // Or if this was a link to the current path which has a trailing slash\n  let hasCurrentTrailingSlash =\n    (isEmptyPath || toPathname === \".\") && locationPathname.endsWith(\"/\");\n  if (\n    !path.pathname.endsWith(\"/\") &&\n    (hasExplicitTrailingSlash || hasCurrentTrailingSlash)\n  ) {\n    path.pathname += \"/\";\n  }\n\n  return path;\n}\n\n/**\n * @private\n */\nexport function getToPathname(to: To): string | undefined {\n  // Empty strings should be treated the same as / paths\n  return to === \"\" || (to as Path).pathname === \"\"\n    ? \"/\"\n    : typeof to === \"string\"\n    ? parsePath(to).pathname\n    : to.pathname;\n}\n\n/**\n * @private\n */\nexport const joinPaths = (paths: string[]): string =>\n  paths.join(\"/\").replace(/\\/\\/+/g, \"/\");\n\n/**\n * @private\n */\nexport const normalizePathname = (pathname: string): string =>\n  pathname.replace(/\\/+$/, \"\").replace(/^\\/*/, \"/\");\n\n/**\n * @private\n */\nexport const normalizeSearch = (search: string): string =>\n  !search || search === \"?\"\n    ? \"\"\n    : search.startsWith(\"?\")\n    ? search\n    : \"?\" + search;\n\n/**\n * @private\n */\nexport const normalizeHash = (hash: string): string =>\n  !hash || hash === \"#\" ? \"\" : hash.startsWith(\"#\") ? hash : \"#\" + hash;\n\nexport type JsonFunction = <Data>(\n  data: Data,\n  init?: number | ResponseInit\n) => Response;\n\n/**\n * This is a shortcut for creating `application/json` responses. Converts `data`\n * to JSON and sets the `Content-Type` header.\n */\nexport const json: JsonFunction = (data, init = {}) => {\n  let responseInit = typeof init === \"number\" ? { status: init } : init;\n\n  let headers = new Headers(responseInit.headers);\n  if (!headers.has(\"Content-Type\")) {\n    headers.set(\"Content-Type\", \"application/json; charset=utf-8\");\n  }\n\n  return new Response(JSON.stringify(data), {\n    ...responseInit,\n    headers,\n  });\n};\n\nexport interface TrackedPromise extends Promise<any> {\n  _tracked?: boolean;\n  _data?: any;\n  _error?: any;\n}\n\nexport class AbortedDeferredError extends Error {}\n\nexport class DeferredData {\n  private pendingKeysSet: Set<string> = new Set<string>();\n  private controller: AbortController;\n  private abortPromise: Promise<void>;\n  private unlistenAbortSignal: () => void;\n  private subscribers: Set<(aborted: boolean, settledKey?: string) => void> =\n    new Set();\n  data: Record<string, unknown>;\n  init?: ResponseInit;\n  deferredKeys: string[] = [];\n\n  constructor(data: Record<string, unknown>, responseInit?: ResponseInit) {\n    invariant(\n      data && typeof data === \"object\" && !Array.isArray(data),\n      \"defer() only accepts plain objects\"\n    );\n\n    // Set up an AbortController + Promise we can race against to exit early\n    // cancellation\n    let reject: (e: AbortedDeferredError) => void;\n    this.abortPromise = new Promise((_, r) => (reject = r));\n    this.controller = new AbortController();\n    let onAbort = () =>\n      reject(new AbortedDeferredError(\"Deferred data aborted\"));\n    this.unlistenAbortSignal = () =>\n      this.controller.signal.removeEventListener(\"abort\", onAbort);\n    this.controller.signal.addEventListener(\"abort\", onAbort);\n\n    this.data = Object.entries(data).reduce(\n      (acc, [key, value]) =>\n        Object.assign(acc, {\n          [key]: this.trackPromise(key, value),\n        }),\n      {}\n    );\n\n    if (this.done) {\n      // All incoming values were resolved\n      this.unlistenAbortSignal();\n    }\n\n    this.init = responseInit;\n  }\n\n  private trackPromise(\n    key: string,\n    value: Promise<unknown> | unknown\n  ): TrackedPromise | unknown {\n    if (!(value instanceof Promise)) {\n      return value;\n    }\n\n    this.deferredKeys.push(key);\n    this.pendingKeysSet.add(key);\n\n    // We store a little wrapper promise that will be extended with\n    // _data/_error props upon resolve/reject\n    let promise: TrackedPromise = Promise.race([value, this.abortPromise]).then(\n      (data) => this.onSettle(promise, key, null, data as unknown),\n      (error) => this.onSettle(promise, key, error as unknown)\n    );\n\n    // Register rejection listeners to avoid uncaught promise rejections on\n    // errors or aborted deferred values\n    promise.catch(() => {});\n\n    Object.defineProperty(promise, \"_tracked\", { get: () => true });\n    return promise;\n  }\n\n  private onSettle(\n    promise: TrackedPromise,\n    key: string,\n    error: unknown,\n    data?: unknown\n  ): unknown {\n    if (\n      this.controller.signal.aborted &&\n      error instanceof AbortedDeferredError\n    ) {\n      this.unlistenAbortSignal();\n      Object.defineProperty(promise, \"_error\", { get: () => error });\n      return Promise.reject(error);\n    }\n\n    this.pendingKeysSet.delete(key);\n\n    if (this.done) {\n      // Nothing left to abort!\n      this.unlistenAbortSignal();\n    }\n\n    if (error) {\n      Object.defineProperty(promise, \"_error\", { get: () => error });\n      this.emit(false, key);\n      return Promise.reject(error);\n    }\n\n    Object.defineProperty(promise, \"_data\", { get: () => data });\n    this.emit(false, key);\n    return data;\n  }\n\n  private emit(aborted: boolean, settledKey?: string) {\n    this.subscribers.forEach((subscriber) => subscriber(aborted, settledKey));\n  }\n\n  subscribe(fn: (aborted: boolean, settledKey?: string) => void) {\n    this.subscribers.add(fn);\n    return () => this.subscribers.delete(fn);\n  }\n\n  cancel() {\n    this.controller.abort();\n    this.pendingKeysSet.forEach((v, k) => this.pendingKeysSet.delete(k));\n    this.emit(true);\n  }\n\n  async resolveData(signal: AbortSignal) {\n    let aborted = false;\n    if (!this.done) {\n      let onAbort = () => this.cancel();\n      signal.addEventListener(\"abort\", onAbort);\n      aborted = await new Promise((resolve) => {\n        this.subscribe((aborted) => {\n          signal.removeEventListener(\"abort\", onAbort);\n          if (aborted || this.done) {\n            resolve(aborted);\n          }\n        });\n      });\n    }\n    return aborted;\n  }\n\n  get done() {\n    return this.pendingKeysSet.size === 0;\n  }\n\n  get unwrappedData() {\n    invariant(\n      this.data !== null && this.done,\n      \"Can only unwrap data on initialized and settled deferreds\"\n    );\n\n    return Object.entries(this.data).reduce(\n      (acc, [key, value]) =>\n        Object.assign(acc, {\n          [key]: unwrapTrackedPromise(value),\n        }),\n      {}\n    );\n  }\n\n  get pendingKeys() {\n    return Array.from(this.pendingKeysSet);\n  }\n}\n\nfunction isTrackedPromise(value: any): value is TrackedPromise {\n  return (\n    value instanceof Promise && (value as TrackedPromise)._tracked === true\n  );\n}\n\nfunction unwrapTrackedPromise(value: any) {\n  if (!isTrackedPromise(value)) {\n    return value;\n  }\n\n  if (value._error) {\n    throw value._error;\n  }\n  return value._data;\n}\n\nexport type DeferFunction = (\n  data: Record<string, unknown>,\n  init?: number | ResponseInit\n) => DeferredData;\n\nexport const defer: DeferFunction = (data, init = {}) => {\n  let responseInit = typeof init === \"number\" ? { status: init } : init;\n\n  return new DeferredData(data, responseInit);\n};\n\nexport type RedirectFunction = (\n  url: string,\n  init?: number | ResponseInit\n) => Response;\n\n/**\n * A redirect response. Sets the status code and the `Location` header.\n * Defaults to \"302 Found\".\n */\nexport const redirect: RedirectFunction = (url, init = 302) => {\n  let responseInit = init;\n  if (typeof responseInit === \"number\") {\n    responseInit = { status: responseInit };\n  } else if (typeof responseInit.status === \"undefined\") {\n    responseInit.status = 302;\n  }\n\n  let headers = new Headers(responseInit.headers);\n  headers.set(\"Location\", url);\n\n  return new Response(null, {\n    ...responseInit,\n    headers,\n  });\n};\n\n/**\n * @private\n * Utility class we use to hold auto-unwrapped 4xx/5xx Response bodies\n */\nexport class ErrorResponse {\n  status: number;\n  statusText: string;\n  data: any;\n  error?: Error;\n  internal: boolean;\n\n  constructor(\n    status: number,\n    statusText: string | undefined,\n    data: any,\n    internal = false\n  ) {\n    this.status = status;\n    this.statusText = statusText || \"\";\n    this.internal = internal;\n    if (data instanceof Error) {\n      this.data = data.toString();\n      this.error = data;\n    } else {\n      this.data = data;\n    }\n  }\n}\n\n/**\n * Check if the given error is an ErrorResponse generated from a 4xx/5xx\n * Response thrown from an action/loader\n */\nexport function isRouteErrorResponse(error: any): error is ErrorResponse {\n  return (\n    error != null &&\n    typeof error.status === \"number\" &&\n    typeof error.statusText === \"string\" &&\n    typeof error.internal === \"boolean\" &&\n    \"data\" in error\n  );\n}\n","import type { History, Location, Path, To } from \"./history\";\nimport {\n  Action as HistoryAction,\n  createLocation,\n  createPath,\n  invariant,\n  parsePath,\n  warning,\n} from \"./history\";\nimport type {\n  DataResult,\n  DeferredData,\n  AgnosticDataRouteMatch,\n  AgnosticDataRouteObject,\n  DeferredResult,\n  ErrorResult,\n  FormEncType,\n  FormMethod,\n  DetectErrorBoundaryFunction,\n  RedirectResult,\n  RouteData,\n  AgnosticRouteObject,\n  Submission,\n  SuccessResult,\n  AgnosticRouteMatch,\n  ShouldRevalidateFunction,\n  RouteManifest,\n  ImmutableRouteKey,\n  ActionFunction,\n  LoaderFunction,\n  V7_MutationFormMethod,\n  V7_FormMethod,\n  HTMLFormMethod,\n  MutationFormMethod,\n} from \"./utils\";\nimport {\n  ErrorResponse,\n  ResultType,\n  convertRoutesToDataRoutes,\n  getPathContributingMatches,\n  immutableRouteKeys,\n  isRouteErrorResponse,\n  joinPaths,\n  matchRoutes,\n  resolveTo,\n  stripBasename,\n} from \"./utils\";\n\n////////////////////////////////////////////////////////////////////////////////\n//#region Types and Constants\n////////////////////////////////////////////////////////////////////////////////\n\n/**\n * A Router instance manages all navigation and data loading/mutations\n */\nexport interface Router {\n  /**\n   * @internal\n   * PRIVATE - DO NOT USE\n   *\n   * Return the basename for the router\n   */\n  get basename(): RouterInit[\"basename\"];\n\n  /**\n   * @internal\n   * PRIVATE - DO NOT USE\n   *\n   * Return the current state of the router\n   */\n  get state(): RouterState;\n\n  /**\n   * @internal\n   * PRIVATE - DO NOT USE\n   *\n   * Return the routes for this router instance\n   */\n  get routes(): AgnosticDataRouteObject[];\n\n  /**\n   * @internal\n   * PRIVATE - DO NOT USE\n   *\n   * Initialize the router, including adding history listeners and kicking off\n   * initial data fetches.  Returns a function to cleanup listeners and abort\n   * any in-progress loads\n   */\n  initialize(): Router;\n\n  /**\n   * @internal\n   * PRIVATE - DO NOT USE\n   *\n   * Subscribe to router.state updates\n   *\n   * @param fn function to call with the new state\n   */\n  subscribe(fn: RouterSubscriber): () => void;\n\n  /**\n   * @internal\n   * PRIVATE - DO NOT USE\n   *\n   * Enable scroll restoration behavior in the router\n   *\n   * @param savedScrollPositions Object that will manage positions, in case\n   *                             it's being restored from sessionStorage\n   * @param getScrollPosition    Function to get the active Y scroll position\n   * @param getKey               Function to get the key to use for restoration\n   */\n  enableScrollRestoration(\n    savedScrollPositions: Record<string, number>,\n    getScrollPosition: GetScrollPositionFunction,\n    getKey?: GetScrollRestorationKeyFunction\n  ): () => void;\n\n  /**\n   * @internal\n   * PRIVATE - DO NOT USE\n   *\n   * Navigate forward/backward in the history stack\n   * @param to Delta to move in the history stack\n   */\n  navigate(to: number): Promise<void>;\n\n  /**\n   * Navigate to the given path\n   * @param to Path to navigate to\n   * @param opts Navigation options (method, submission, etc.)\n   */\n  navigate(to: To, opts?: RouterNavigateOptions): Promise<void>;\n\n  /**\n   * @internal\n   * PRIVATE - DO NOT USE\n   *\n   * Trigger a fetcher load/submission\n   *\n   * @param key     Fetcher key\n   * @param routeId Route that owns the fetcher\n   * @param href    href to fetch\n   * @param opts    Fetcher options, (method, submission, etc.)\n   */\n  fetch(\n    key: string,\n    routeId: string,\n    href: string,\n    opts?: RouterNavigateOptions\n  ): void;\n\n  /**\n   * @internal\n   * PRIVATE - DO NOT USE\n   *\n   * Trigger a revalidation of all current route loaders and fetcher loads\n   */\n  revalidate(): void;\n\n  /**\n   * @internal\n   * PRIVATE - DO NOT USE\n   *\n   * Utility function to create an href for the given location\n   * @param location\n   */\n  createHref(location: Location | URL): string;\n\n  /**\n   * @internal\n   * PRIVATE - DO NOT USE\n   *\n   * Utility function to URL encode a destination path according to the internal\n   * history implementation\n   * @param to\n   */\n  encodeLocation(to: To): Path;\n\n  /**\n   * @internal\n   * PRIVATE - DO NOT USE\n   *\n   * Get/create a fetcher for the given key\n   * @param key\n   */\n  getFetcher<TData = any>(key?: string): Fetcher<TData>;\n\n  /**\n   * @internal\n   * PRIVATE - DO NOT USE\n   *\n   * Delete the fetcher for a given key\n   * @param key\n   */\n  deleteFetcher(key?: string): void;\n\n  /**\n   * @internal\n   * PRIVATE - DO NOT USE\n   *\n   * Cleanup listeners and abort any in-progress loads\n   */\n  dispose(): void;\n\n  /**\n   * @internal\n   * PRIVATE - DO NOT USE\n   *\n   * Get a navigation blocker\n   * @param key The identifier for the blocker\n   * @param fn The blocker function implementation\n   */\n  getBlocker(key: string, fn: BlockerFunction): Blocker;\n\n  /**\n   * @internal\n   * PRIVATE - DO NOT USE\n   *\n   * Delete a navigation blocker\n   * @param key The identifier for the blocker\n   */\n  deleteBlocker(key: string): void;\n\n  /**\n   * @internal\n   * PRIVATE - DO NOT USE\n   *\n   * HMR needs to pass in-flight route updates to React Router\n   * TODO: Replace this with granular route update APIs (addRoute, updateRoute, deleteRoute)\n   */\n  _internalSetRoutes(routes: AgnosticRouteObject[]): void;\n\n  /**\n   * @internal\n   * PRIVATE - DO NOT USE\n   *\n   * Internal fetch AbortControllers accessed by unit tests\n   */\n  _internalFetchControllers: Map<string, AbortController>;\n\n  /**\n   * @internal\n   * PRIVATE - DO NOT USE\n   *\n   * Internal pending DeferredData instances accessed by unit tests\n   */\n  _internalActiveDeferreds: Map<string, DeferredData>;\n}\n\n/**\n * State maintained internally by the router.  During a navigation, all states\n * reflect the the \"old\" location unless otherwise noted.\n */\nexport interface RouterState {\n  /**\n   * The action of the most recent navigation\n   */\n  historyAction: HistoryAction;\n\n  /**\n   * The current location reflected by the router\n   */\n  location: Location;\n\n  /**\n   * The current set of route matches\n   */\n  matches: AgnosticDataRouteMatch[];\n\n  /**\n   * Tracks whether we've completed our initial data load\n   */\n  initialized: boolean;\n\n  /**\n   * Current scroll position we should start at for a new view\n   *  - number -> scroll position to restore to\n   *  - false -> do not restore scroll at all (used during submissions)\n   *  - null -> don't have a saved position, scroll to hash or top of page\n   */\n  restoreScrollPosition: number | false | null;\n\n  /**\n   * Indicate whether this navigation should skip resetting the scroll position\n   * if we are unable to restore the scroll position\n   */\n  preventScrollReset: boolean;\n\n  /**\n   * Tracks the state of the current navigation\n   */\n  navigation: Navigation;\n\n  /**\n   * Tracks any in-progress revalidations\n   */\n  revalidation: RevalidationState;\n\n  /**\n   * Data from the loaders for the current matches\n   */\n  loaderData: RouteData;\n\n  /**\n   * Data from the action for the current matches\n   */\n  actionData: RouteData | null;\n\n  /**\n   * Errors caught from loaders for the current matches\n   */\n  errors: RouteData | null;\n\n  /**\n   * Map of current fetchers\n   */\n  fetchers: Map<string, Fetcher>;\n\n  /**\n   * Map of current blockers\n   */\n  blockers: Map<string, Blocker>;\n}\n\n/**\n * Data that can be passed into hydrate a Router from SSR\n */\nexport type HydrationState = Partial<\n  Pick<RouterState, \"loaderData\" | \"actionData\" | \"errors\">\n>;\n\n/**\n * Future flags to toggle new feature behavior\n */\nexport interface FutureConfig {\n  v7_normalizeFormMethod: boolean;\n}\n\n/**\n * Initialization options for createRouter\n */\nexport interface RouterInit {\n  routes: AgnosticRouteObject[];\n  history: History;\n  basename?: string;\n  detectErrorBoundary?: DetectErrorBoundaryFunction;\n  future?: FutureConfig;\n  hydrationData?: HydrationState;\n}\n\n/**\n * State returned from a server-side query() call\n */\nexport interface StaticHandlerContext {\n  basename: Router[\"basename\"];\n  location: RouterState[\"location\"];\n  matches: RouterState[\"matches\"];\n  loaderData: RouterState[\"loaderData\"];\n  actionData: RouterState[\"actionData\"];\n  errors: RouterState[\"errors\"];\n  statusCode: number;\n  loaderHeaders: Record<string, Headers>;\n  actionHeaders: Record<string, Headers>;\n  activeDeferreds: Record<string, DeferredData> | null;\n  _deepestRenderedBoundaryId?: string | null;\n}\n\n/**\n * A StaticHandler instance manages a singular SSR navigation/fetch event\n */\nexport interface StaticHandler {\n  dataRoutes: AgnosticDataRouteObject[];\n  query(\n    request: Request,\n    opts?: { requestContext?: unknown }\n  ): Promise<StaticHandlerContext | Response>;\n  queryRoute(\n    request: Request,\n    opts?: { routeId?: string; requestContext?: unknown }\n  ): Promise<any>;\n}\n\n/**\n * Subscriber function signature for changes to router state\n */\nexport interface RouterSubscriber {\n  (state: RouterState): void;\n}\n\ninterface UseMatchesMatch {\n  id: string;\n  pathname: string;\n  params: AgnosticRouteMatch[\"params\"];\n  data: unknown;\n  handle: unknown;\n}\n\n/**\n * Function signature for determining the key to be used in scroll restoration\n * for a given location\n */\nexport interface GetScrollRestorationKeyFunction {\n  (location: Location, matches: UseMatchesMatch[]): string | null;\n}\n\n/**\n * Function signature for determining the current scroll position\n */\nexport interface GetScrollPositionFunction {\n  (): number;\n}\n\n/**\n * Options for a navigate() call for a Link navigation\n */\ntype LinkNavigateOptions = {\n  replace?: boolean;\n  state?: any;\n  preventScrollReset?: boolean;\n};\n\n/**\n * Options for a navigate() call for a Form navigation\n */\ntype SubmissionNavigateOptions = {\n  replace?: boolean;\n  state?: any;\n  preventScrollReset?: boolean;\n  formMethod?: HTMLFormMethod;\n  formEncType?: FormEncType;\n  formData: FormData;\n};\n\n/**\n * Options to pass to navigate() for either a Link or Form navigation\n */\nexport type RouterNavigateOptions =\n  | LinkNavigateOptions\n  | SubmissionNavigateOptions;\n\n/**\n * Options to pass to fetch()\n */\nexport type RouterFetchOptions =\n  | Omit<LinkNavigateOptions, \"replace\">\n  | Omit<SubmissionNavigateOptions, \"replace\">;\n\n/**\n * Potential states for state.navigation\n */\nexport type NavigationStates = {\n  Idle: {\n    state: \"idle\";\n    location: undefined;\n    formMethod: undefined;\n    formAction: undefined;\n    formEncType: undefined;\n    formData: undefined;\n  };\n  Loading: {\n    state: \"loading\";\n    location: Location;\n    formMethod: FormMethod | V7_FormMethod | undefined;\n    formAction: string | undefined;\n    formEncType: FormEncType | undefined;\n    formData: FormData | undefined;\n  };\n  Submitting: {\n    state: \"submitting\";\n    location: Location;\n    formMethod: FormMethod | V7_FormMethod;\n    formAction: string;\n    formEncType: FormEncType;\n    formData: FormData;\n  };\n};\n\nexport type Navigation = NavigationStates[keyof NavigationStates];\n\nexport type RevalidationState = \"idle\" | \"loading\";\n\n/**\n * Potential states for fetchers\n */\ntype FetcherStates<TData = any> = {\n  Idle: {\n    state: \"idle\";\n    formMethod: undefined;\n    formAction: undefined;\n    formEncType: undefined;\n    formData: undefined;\n    data: TData | undefined;\n    \" _hasFetcherDoneAnything \"?: boolean;\n  };\n  Loading: {\n    state: \"loading\";\n    formMethod: FormMethod | V7_FormMethod | undefined;\n    formAction: string | undefined;\n    formEncType: FormEncType | undefined;\n    formData: FormData | undefined;\n    data: TData | undefined;\n    \" _hasFetcherDoneAnything \"?: boolean;\n  };\n  Submitting: {\n    state: \"submitting\";\n    formMethod: FormMethod | V7_FormMethod;\n    formAction: string;\n    formEncType: FormEncType;\n    formData: FormData;\n    data: TData | undefined;\n    \" _hasFetcherDoneAnything \"?: boolean;\n  };\n};\n\nexport type Fetcher<TData = any> =\n  FetcherStates<TData>[keyof FetcherStates<TData>];\n\ninterface BlockerBlocked {\n  state: \"blocked\";\n  reset(): void;\n  proceed(): void;\n  location: Location;\n}\n\ninterface BlockerUnblocked {\n  state: \"unblocked\";\n  reset: undefined;\n  proceed: undefined;\n  location: undefined;\n}\n\ninterface BlockerProceeding {\n  state: \"proceeding\";\n  reset: undefined;\n  proceed: undefined;\n  location: Location;\n}\n\nexport type Blocker = BlockerUnblocked | BlockerBlocked | BlockerProceeding;\n\nexport type BlockerFunction = (args: {\n  currentLocation: Location;\n  nextLocation: Location;\n  historyAction: HistoryAction;\n}) => boolean;\n\ninterface ShortCircuitable {\n  /**\n   * startNavigation does not need to complete the navigation because we\n   * redirected or got interrupted\n   */\n  shortCircuited?: boolean;\n}\n\ninterface HandleActionResult extends ShortCircuitable {\n  /**\n   * Error thrown from the current action, keyed by the route containing the\n   * error boundary to render the error.  To be committed to the state after\n   * loaders have completed\n   */\n  pendingActionError?: RouteData;\n  /**\n   * Data returned from the current action, keyed by the route owning the action.\n   * To be committed to the state after loaders have completed\n   */\n  pendingActionData?: RouteData;\n}\n\ninterface HandleLoadersResult extends ShortCircuitable {\n  /**\n   * loaderData returned from the current set of loaders\n   */\n  loaderData?: RouterState[\"loaderData\"];\n  /**\n   * errors thrown from the current set of loaders\n   */\n  errors?: RouterState[\"errors\"];\n}\n\n/**\n * Cached info for active fetcher.load() instances so they can participate\n * in revalidation\n */\ninterface FetchLoadMatch {\n  routeId: string;\n  path: string;\n}\n\n/**\n * Identified fetcher.load() calls that need to be revalidated\n */\ninterface RevalidatingFetcher extends FetchLoadMatch {\n  key: string;\n  match: AgnosticDataRouteMatch | null;\n  matches: AgnosticDataRouteMatch[] | null;\n}\n\n/**\n * Wrapper object to allow us to throw any response out from callLoaderOrAction\n * for queryRouter while preserving whether or not it was thrown or returned\n * from the loader/action\n */\ninterface QueryRouteResponse {\n  type: ResultType.data | ResultType.error;\n  response: Response;\n}\n\nconst validMutationMethodsArr: MutationFormMethod[] = [\n  \"post\",\n  \"put\",\n  \"patch\",\n  \"delete\",\n];\nconst validMutationMethods = new Set<MutationFormMethod>(\n  validMutationMethodsArr\n);\n\nconst validRequestMethodsArr: FormMethod[] = [\n  \"get\",\n  ...validMutationMethodsArr,\n];\nconst validRequestMethods = new Set<FormMethod>(validRequestMethodsArr);\n\nconst redirectStatusCodes = new Set([301, 302, 303, 307, 308]);\nconst redirectPreserveMethodStatusCodes = new Set([307, 308]);\n\nexport const IDLE_NAVIGATION: NavigationStates[\"Idle\"] = {\n  state: \"idle\",\n  location: undefined,\n  formMethod: undefined,\n  formAction: undefined,\n  formEncType: undefined,\n  formData: undefined,\n};\n\nexport const IDLE_FETCHER: FetcherStates[\"Idle\"] = {\n  state: \"idle\",\n  data: undefined,\n  formMethod: undefined,\n  formAction: undefined,\n  formEncType: undefined,\n  formData: undefined,\n};\n\nexport const IDLE_BLOCKER: BlockerUnblocked = {\n  state: \"unblocked\",\n  proceed: undefined,\n  reset: undefined,\n  location: undefined,\n};\n\nconst ABSOLUTE_URL_REGEX = /^(?:[a-z][a-z0-9+.-]*:|\\/\\/)/i;\n\nconst isBrowser =\n  typeof window !== \"undefined\" &&\n  typeof window.document !== \"undefined\" &&\n  typeof window.document.createElement !== \"undefined\";\nconst isServer = !isBrowser;\n\nconst defaultDetectErrorBoundary = (route: AgnosticRouteObject) =>\n  Boolean(route.hasErrorBoundary);\n//#endregion\n\n////////////////////////////////////////////////////////////////////////////////\n//#region createRouter\n////////////////////////////////////////////////////////////////////////////////\n\n/**\n * Create a router and listen to history POP navigations\n */\nexport function createRouter(init: RouterInit): Router {\n  invariant(\n    init.routes.length > 0,\n    \"You must provide a non-empty routes array to createRouter\"\n  );\n\n  let detectErrorBoundary =\n    init.detectErrorBoundary || defaultDetectErrorBoundary;\n\n  // Routes keyed by ID\n  let manifest: RouteManifest = {};\n  // Routes in tree format for matching\n  let dataRoutes = convertRoutesToDataRoutes(\n    init.routes,\n    detectErrorBoundary,\n    undefined,\n    manifest\n  );\n  let inFlightDataRoutes: AgnosticDataRouteObject[] | undefined;\n  // Config driven behavior flags\n  let future: FutureConfig = {\n    v7_normalizeFormMethod: false,\n    ...init.future,\n  };\n  // Cleanup function for history\n  let unlistenHistory: (() => void) | null = null;\n  // Externally-provided functions to call on all state changes\n  let subscribers = new Set<RouterSubscriber>();\n  // Externally-provided object to hold scroll restoration locations during routing\n  let savedScrollPositions: Record<string, number> | null = null;\n  // Externally-provided function to get scroll restoration keys\n  let getScrollRestorationKey: GetScrollRestorationKeyFunction | null = null;\n  // Externally-provided function to get current scroll position\n  let getScrollPosition: GetScrollPositionFunction | null = null;\n  // One-time flag to control the initial hydration scroll restoration.  Because\n  // we don't get the saved positions from <ScrollRestoration /> until _after_\n  // the initial render, we need to manually trigger a separate updateState to\n  // send along the restoreScrollPosition\n  // Set to true if we have `hydrationData` since we assume we were SSR'd and that\n  // SSR did the initial scroll restoration.\n  let initialScrollRestored = init.hydrationData != null;\n\n  let initialMatches = matchRoutes(\n    dataRoutes,\n    init.history.location,\n    init.basename\n  );\n  let initialErrors: RouteData | null = null;\n\n  if (initialMatches == null) {\n    // If we do not match a user-provided-route, fall back to the root\n    // to allow the error boundary to take over\n    let error = getInternalRouterError(404, {\n      pathname: init.history.location.pathname,\n    });\n    let { matches, route } = getShortCircuitMatches(dataRoutes);\n    initialMatches = matches;\n    initialErrors = { [route.id]: error };\n  }\n\n  let initialized =\n    // All initialMatches need to be loaded before we're ready.  If we have lazy\n    // functions around still then we'll need to run them in initialize()\n    !initialMatches.some((m) => m.route.lazy) &&\n    // And we have to either have no loaders or have been provided hydrationData\n    (!initialMatches.some((m) => m.route.loader) || init.hydrationData != null);\n\n  let router: Router;\n  let state: RouterState = {\n    historyAction: init.history.action,\n    location: init.history.location,\n    matches: initialMatches,\n    initialized,\n    navigation: IDLE_NAVIGATION,\n    // Don't restore on initial updateState() if we were SSR'd\n    restoreScrollPosition: init.hydrationData != null ? false : null,\n    preventScrollReset: false,\n    revalidation: \"idle\",\n    loaderData: (init.hydrationData && init.hydrationData.loaderData) || {},\n    actionData: (init.hydrationData && init.hydrationData.actionData) || null,\n    errors: (init.hydrationData && init.hydrationData.errors) || initialErrors,\n    fetchers: new Map(),\n    blockers: new Map(),\n  };\n\n  // -- Stateful internal variables to manage navigations --\n  // Current navigation in progress (to be committed in completeNavigation)\n  let pendingAction: HistoryAction = HistoryAction.Pop;\n\n  // Should the current navigation prevent the scroll reset if scroll cannot\n  // be restored?\n  let pendingPreventScrollReset = false;\n\n  // AbortController for the active navigation\n  let pendingNavigationController: AbortController | null;\n\n  // We use this to avoid touching history in completeNavigation if a\n  // revalidation is entirely uninterrupted\n  let isUninterruptedRevalidation = false;\n\n  // Use this internal flag to force revalidation of all loaders:\n  //  - submissions (completed or interrupted)\n  //  - useRevalidate()\n  //  - X-Remix-Revalidate (from redirect)\n  let isRevalidationRequired = false;\n\n  // Use this internal array to capture routes that require revalidation due\n  // to a cancelled deferred on action submission\n  let cancelledDeferredRoutes: string[] = [];\n\n  // Use this internal array to capture fetcher loads that were cancelled by an\n  // action navigation and require revalidation\n  let cancelledFetcherLoads: string[] = [];\n\n  // AbortControllers for any in-flight fetchers\n  let fetchControllers = new Map<string, AbortController>();\n\n  // Track loads based on the order in which they started\n  let incrementingLoadId = 0;\n\n  // Track the outstanding pending navigation data load to be compared against\n  // the globally incrementing load when a fetcher load lands after a completed\n  // navigation\n  let pendingNavigationLoadId = -1;\n\n  // Fetchers that triggered data reloads as a result of their actions\n  let fetchReloadIds = new Map<string, number>();\n\n  // Fetchers that triggered redirect navigations from their actions\n  let fetchRedirectIds = new Set<string>();\n\n  // Most recent href/match for fetcher.load calls for fetchers\n  let fetchLoadMatches = new Map<string, FetchLoadMatch>();\n\n  // Store DeferredData instances for active route matches.  When a\n  // route loader returns defer() we stick one in here.  Then, when a nested\n  // promise resolves we update loaderData.  If a new navigation starts we\n  // cancel active deferreds for eliminated routes.\n  let activeDeferreds = new Map<string, DeferredData>();\n\n  // Store blocker functions in a separate Map outside of router state since\n  // we don't need to update UI state if they change\n  let blockerFunctions = new Map<string, BlockerFunction>();\n\n  // Flag to ignore the next history update, so we can revert the URL change on\n  // a POP navigation that was blocked by the user without touching router state\n  let ignoreNextHistoryUpdate = false;\n\n  // Initialize the router, all side effects should be kicked off from here.\n  // Implemented as a Fluent API for ease of:\n  //   let router = createRouter(init).initialize();\n  function initialize() {\n    // If history informs us of a POP navigation, start the navigation but do not update\n    // state.  We'll update our own state once the navigation completes\n    unlistenHistory = init.history.listen(\n      ({ action: historyAction, location, delta }) => {\n        // Ignore this event if it was just us resetting the URL from a\n        // blocked POP navigation\n        if (ignoreNextHistoryUpdate) {\n          ignoreNextHistoryUpdate = false;\n          return;\n        }\n\n        warning(\n          blockerFunctions.size === 0 || delta != null,\n          \"You are trying to use a blocker on a POP navigation to a location \" +\n            \"that was not created by @remix-run/router. This will fail silently in \" +\n            \"production. This can happen if you are navigating outside the router \" +\n            \"via `window.history.pushState`/`window.location.hash` instead of using \" +\n            \"router navigation APIs.  This can also happen if you are using \" +\n            \"createHashRouter and the user manually changes the URL.\"\n        );\n\n        let blockerKey = shouldBlockNavigation({\n          currentLocation: state.location,\n          nextLocation: location,\n          historyAction,\n        });\n\n        if (blockerKey && delta != null) {\n          // Restore the URL to match the current UI, but don't update router state\n          ignoreNextHistoryUpdate = true;\n          init.history.go(delta * -1);\n\n          // Put the blocker into a blocked state\n          updateBlocker(blockerKey, {\n            state: \"blocked\",\n            location,\n            proceed() {\n              updateBlocker(blockerKey!, {\n                state: \"proceeding\",\n                proceed: undefined,\n                reset: undefined,\n                location,\n              });\n              // Re-do the same POP navigation we just blocked\n              init.history.go(delta);\n            },\n            reset() {\n              deleteBlocker(blockerKey!);\n              updateState({ blockers: new Map(router.state.blockers) });\n            },\n          });\n          return;\n        }\n\n        return startNavigation(historyAction, location);\n      }\n    );\n\n    // Kick off initial data load if needed.  Use Pop to avoid modifying history\n    // Note we don't do any handling of lazy here.  For SPA's it'll get handled\n    // in the normal navigation flow.  For SSR it's expected that lazy modules are\n    // resolved prior to router creation since we can't go into a fallbackElement\n    // UI for SSR'd apps\n    if (!state.initialized) {\n      startNavigation(HistoryAction.Pop, state.location);\n    }\n\n    return router;\n  }\n\n  // Clean up a router and it's side effects\n  function dispose() {\n    if (unlistenHistory) {\n      unlistenHistory();\n    }\n    subscribers.clear();\n    pendingNavigationController && pendingNavigationController.abort();\n    state.fetchers.forEach((_, key) => deleteFetcher(key));\n    state.blockers.forEach((_, key) => deleteBlocker(key));\n  }\n\n  // Subscribe to state updates for the router\n  function subscribe(fn: RouterSubscriber) {\n    subscribers.add(fn);\n    return () => subscribers.delete(fn);\n  }\n\n  // Update our state and notify the calling context of the change\n  function updateState(newState: Partial<RouterState>): void {\n    state = {\n      ...state,\n      ...newState,\n    };\n    subscribers.forEach((subscriber) => subscriber(state));\n  }\n\n  // Complete a navigation returning the state.navigation back to the IDLE_NAVIGATION\n  // and setting state.[historyAction/location/matches] to the new route.\n  // - Location is a required param\n  // - Navigation will always be set to IDLE_NAVIGATION\n  // - Can pass any other state in newState\n  function completeNavigation(\n    location: Location,\n    newState: Partial<Omit<RouterState, \"action\" | \"location\" | \"navigation\">>\n  ): void {\n    // Deduce if we're in a loading/actionReload state:\n    // - We have committed actionData in the store\n    // - The current navigation was a mutation submission\n    // - We're past the submitting state and into the loading state\n    // - The location being loaded is not the result of a redirect\n    let isActionReload =\n      state.actionData != null &&\n      state.navigation.formMethod != null &&\n      isMutationMethod(state.navigation.formMethod) &&\n      state.navigation.state === \"loading\" &&\n      location.state?._isRedirect !== true;\n\n    let actionData: RouteData | null;\n    if (newState.actionData) {\n      if (Object.keys(newState.actionData).length > 0) {\n        actionData = newState.actionData;\n      } else {\n        // Empty actionData -> clear prior actionData due to an action error\n        actionData = null;\n      }\n    } else if (isActionReload) {\n      // Keep the current data if we're wrapping up the action reload\n      actionData = state.actionData;\n    } else {\n      // Clear actionData on any other completed navigations\n      actionData = null;\n    }\n\n    // Always preserve any existing loaderData from re-used routes\n    let loaderData = newState.loaderData\n      ? mergeLoaderData(\n          state.loaderData,\n          newState.loaderData,\n          newState.matches || [],\n          newState.errors\n        )\n      : state.loaderData;\n\n    // On a successful navigation we can assume we got through all blockers\n    // so we can start fresh\n    for (let [key] of blockerFunctions) {\n      deleteBlocker(key);\n    }\n\n    // Always respect the user flag.  Otherwise don't reset on mutation\n    // submission navigations unless they redirect\n    let preventScrollReset =\n      pendingPreventScrollReset === true ||\n      (state.navigation.formMethod != null &&\n        isMutationMethod(state.navigation.formMethod) &&\n        location.state?._isRedirect !== true);\n\n    if (inFlightDataRoutes) {\n      dataRoutes = inFlightDataRoutes;\n      inFlightDataRoutes = undefined;\n    }\n\n    updateState({\n      ...newState, // matches, errors, fetchers go through as-is\n      actionData,\n      loaderData,\n      historyAction: pendingAction,\n      location,\n      initialized: true,\n      navigation: IDLE_NAVIGATION,\n      revalidation: \"idle\",\n      restoreScrollPosition: getSavedScrollPosition(\n        location,\n        newState.matches || state.matches\n      ),\n      preventScrollReset,\n      blockers: new Map(state.blockers),\n    });\n\n    if (isUninterruptedRevalidation) {\n      // If this was an uninterrupted revalidation then do not touch history\n    } else if (pendingAction === HistoryAction.Pop) {\n      // Do nothing for POP - URL has already been updated\n    } else if (pendingAction === HistoryAction.Push) {\n      init.history.push(location, location.state);\n    } else if (pendingAction === HistoryAction.Replace) {\n      init.history.replace(location, location.state);\n    }\n\n    // Reset stateful navigation vars\n    pendingAction = HistoryAction.Pop;\n    pendingPreventScrollReset = false;\n    isUninterruptedRevalidation = false;\n    isRevalidationRequired = false;\n    cancelledDeferredRoutes = [];\n    cancelledFetcherLoads = [];\n  }\n\n  // Trigger a navigation event, which can either be a numerical POP or a PUSH\n  // replace with an optional submission\n  async function navigate(\n    to: number | To,\n    opts?: RouterNavigateOptions\n  ): Promise<void> {\n    if (typeof to === \"number\") {\n      init.history.go(to);\n      return;\n    }\n\n    let { path, submission, error } = normalizeNavigateOptions(\n      to,\n      future,\n      opts\n    );\n\n    let currentLocation = state.location;\n    let nextLocation = createLocation(state.location, path, opts && opts.state);\n\n    // When using navigate as a PUSH/REPLACE we aren't reading an already-encoded\n    // URL from window.location, so we need to encode it here so the behavior\n    // remains the same as POP and non-data-router usages.  new URL() does all\n    // the same encoding we'd get from a history.pushState/window.location read\n    // without having to touch history\n    nextLocation = {\n      ...nextLocation,\n      ...init.history.encodeLocation(nextLocation),\n    };\n\n    let userReplace = opts && opts.replace != null ? opts.replace : undefined;\n\n    let historyAction = HistoryAction.Push;\n\n    if (userReplace === true) {\n      historyAction = HistoryAction.Replace;\n    } else if (userReplace === false) {\n      // no-op\n    } else if (\n      submission != null &&\n      isMutationMethod(submission.formMethod) &&\n      submission.formAction === state.location.pathname + state.location.search\n    ) {\n      // By default on submissions to the current location we REPLACE so that\n      // users don't have to double-click the back button to get to the prior\n      // location.  If the user redirects to a different location from the\n      // action/loader this will be ignored and the redirect will be a PUSH\n      historyAction = HistoryAction.Replace;\n    }\n\n    let preventScrollReset =\n      opts && \"preventScrollReset\" in opts\n        ? opts.preventScrollReset === true\n        : undefined;\n\n    let blockerKey = shouldBlockNavigation({\n      currentLocation,\n      nextLocation,\n      historyAction,\n    });\n    if (blockerKey) {\n      // Put the blocker into a blocked state\n      updateBlocker(blockerKey, {\n        state: \"blocked\",\n        location: nextLocation,\n        proceed() {\n          updateBlocker(blockerKey!, {\n            state: \"proceeding\",\n            proceed: undefined,\n            reset: undefined,\n            location: nextLocation,\n          });\n          // Send the same navigation through\n          navigate(to, opts);\n        },\n        reset() {\n          deleteBlocker(blockerKey!);\n          updateState({ blockers: new Map(state.blockers) });\n        },\n      });\n      return;\n    }\n\n    return await startNavigation(historyAction, nextLocation, {\n      submission,\n      // Send through the formData serialization error if we have one so we can\n      // render at the right error boundary after we match routes\n      pendingError: error,\n      preventScrollReset,\n      replace: opts && opts.replace,\n    });\n  }\n\n  // Revalidate all current loaders.  If a navigation is in progress or if this\n  // is interrupted by a navigation, allow this to \"succeed\" by calling all\n  // loaders during the next loader round\n  function revalidate() {\n    interruptActiveLoads();\n    updateState({ revalidation: \"loading\" });\n\n    // If we're currently submitting an action, we don't need to start a new\n    // navigation, we'll just let the follow up loader execution call all loaders\n    if (state.navigation.state === \"submitting\") {\n      return;\n    }\n\n    // If we're currently in an idle state, start a new navigation for the current\n    // action/location and mark it as uninterrupted, which will skip the history\n    // update in completeNavigation\n    if (state.navigation.state === \"idle\") {\n      startNavigation(state.historyAction, state.location, {\n        startUninterruptedRevalidation: true,\n      });\n      return;\n    }\n\n    // Otherwise, if we're currently in a loading state, just start a new\n    // navigation to the navigation.location but do not trigger an uninterrupted\n    // revalidation so that history correctly updates once the navigation completes\n    startNavigation(\n      pendingAction || state.historyAction,\n      state.navigation.location,\n      { overrideNavigation: state.navigation }\n    );\n  }\n\n  // Start a navigation to the given action/location.  Can optionally provide a\n  // overrideNavigation which will override the normalLoad in the case of a redirect\n  // navigation\n  async function startNavigation(\n    historyAction: HistoryAction,\n    location: Location,\n    opts?: {\n      submission?: Submission;\n      fetcherSubmission?: Submission;\n      overrideNavigation?: Navigation;\n      pendingError?: ErrorResponse;\n      startUninterruptedRevalidation?: boolean;\n      preventScrollReset?: boolean;\n      replace?: boolean;\n    }\n  ): Promise<void> {\n    // Abort any in-progress navigations and start a new one. Unset any ongoing\n    // uninterrupted revalidations unless told otherwise, since we want this\n    // new navigation to update history normally\n    pendingNavigationController && pendingNavigationController.abort();\n    pendingNavigationController = null;\n    pendingAction = historyAction;\n    isUninterruptedRevalidation =\n      (opts && opts.startUninterruptedRevalidation) === true;\n\n    // Save the current scroll position every time we start a new navigation,\n    // and track whether we should reset scroll on completion\n    saveScrollPosition(state.location, state.matches);\n    pendingPreventScrollReset = (opts && opts.preventScrollReset) === true;\n\n    let routesToUse = inFlightDataRoutes || dataRoutes;\n    let loadingNavigation = opts && opts.overrideNavigation;\n    let matches = matchRoutes(routesToUse, location, init.basename);\n\n    // Short circuit with a 404 on the root error boundary if we match nothing\n    if (!matches) {\n      let error = getInternalRouterError(404, { pathname: location.pathname });\n      let { matches: notFoundMatches, route } =\n        getShortCircuitMatches(routesToUse);\n      // Cancel all pending deferred on 404s since we don't keep any routes\n      cancelActiveDeferreds();\n      completeNavigation(location, {\n        matches: notFoundMatches,\n        loaderData: {},\n        errors: {\n          [route.id]: error,\n        },\n      });\n      return;\n    }\n\n    // Short circuit if it's only a hash change and not a mutation submission\n    // For example, on /page#hash and submit a <Form method=\"post\"> which will\n    // default to a navigation to /page\n    if (\n      isHashChangeOnly(state.location, location) &&\n      !(opts && opts.submission && isMutationMethod(opts.submission.formMethod))\n    ) {\n      completeNavigation(location, { matches });\n      return;\n    }\n\n    // Create a controller/Request for this navigation\n    pendingNavigationController = new AbortController();\n    let request = createClientSideRequest(\n      init.history,\n      location,\n      pendingNavigationController.signal,\n      opts && opts.submission\n    );\n    let pendingActionData: RouteData | undefined;\n    let pendingError: RouteData | undefined;\n\n    if (opts && opts.pendingError) {\n      // If we have a pendingError, it means the user attempted a GET submission\n      // with binary FormData so assign here and skip to handleLoaders.  That\n      // way we handle calling loaders above the boundary etc.  It's not really\n      // different from an actionError in that sense.\n      pendingError = {\n        [findNearestBoundary(matches).route.id]: opts.pendingError,\n      };\n    } else if (\n      opts &&\n      opts.submission &&\n      isMutationMethod(opts.submission.formMethod)\n    ) {\n      // Call action if we received an action submission\n      let actionOutput = await handleAction(\n        request,\n        location,\n        opts.submission,\n        matches,\n        { replace: opts.replace }\n      );\n\n      if (actionOutput.shortCircuited) {\n        return;\n      }\n\n      pendingActionData = actionOutput.pendingActionData;\n      pendingError = actionOutput.pendingActionError;\n\n      let navigation: NavigationStates[\"Loading\"] = {\n        state: \"loading\",\n        location,\n        ...opts.submission,\n      };\n      loadingNavigation = navigation;\n\n      // Create a GET request for the loaders\n      request = new Request(request.url, { signal: request.signal });\n    }\n\n    // Call loaders\n    let { shortCircuited, loaderData, errors } = await handleLoaders(\n      request,\n      location,\n      matches,\n      loadingNavigation,\n      opts && opts.submission,\n      opts && opts.fetcherSubmission,\n      opts && opts.replace,\n      pendingActionData,\n      pendingError\n    );\n\n    if (shortCircuited) {\n      return;\n    }\n\n    // Clean up now that the action/loaders have completed.  Don't clean up if\n    // we short circuited because pendingNavigationController will have already\n    // been assigned to a new controller for the next navigation\n    pendingNavigationController = null;\n\n    completeNavigation(location, {\n      matches,\n      ...(pendingActionData ? { actionData: pendingActionData } : {}),\n      loaderData,\n      errors,\n    });\n  }\n\n  // Call the action matched by the leaf route for this navigation and handle\n  // redirects/errors\n  async function handleAction(\n    request: Request,\n    location: Location,\n    submission: Submission,\n    matches: AgnosticDataRouteMatch[],\n    opts?: { replace?: boolean }\n  ): Promise<HandleActionResult> {\n    interruptActiveLoads();\n\n    // Put us in a submitting state\n    let navigation: NavigationStates[\"Submitting\"] = {\n      state: \"submitting\",\n      location,\n      ...submission,\n    };\n    updateState({ navigation });\n\n    // Call our action and get the result\n    let result: DataResult;\n    let actionMatch = getTargetMatch(matches, location);\n\n    if (!actionMatch.route.action && !actionMatch.route.lazy) {\n      result = {\n        type: ResultType.error,\n        error: getInternalRouterError(405, {\n          method: request.method,\n          pathname: location.pathname,\n          routeId: actionMatch.route.id,\n        }),\n      };\n    } else {\n      result = await callLoaderOrAction(\n        \"action\",\n        request,\n        actionMatch,\n        matches,\n        manifest,\n        detectErrorBoundary,\n        router.basename\n      );\n\n      if (request.signal.aborted) {\n        return { shortCircuited: true };\n      }\n    }\n\n    if (isRedirectResult(result)) {\n      let replace: boolean;\n      if (opts && opts.replace != null) {\n        replace = opts.replace;\n      } else {\n        // If the user didn't explicity indicate replace behavior, replace if\n        // we redirected to the exact same location we're currently at to avoid\n        // double back-buttons\n        replace =\n          result.location === state.location.pathname + state.location.search;\n      }\n      await startRedirectNavigation(state, result, { submission, replace });\n      return { shortCircuited: true };\n    }\n\n    if (isErrorResult(result)) {\n      // Store off the pending error - we use it to determine which loaders\n      // to call and will commit it when we complete the navigation\n      let boundaryMatch = findNearestBoundary(matches, actionMatch.route.id);\n\n      // By default, all submissions are REPLACE navigations, but if the\n      // action threw an error that'll be rendered in an errorElement, we fall\n      // back to PUSH so that the user can use the back button to get back to\n      // the pre-submission form location to try again\n      if ((opts && opts.replace) !== true) {\n        pendingAction = HistoryAction.Push;\n      }\n\n      return {\n        // Send back an empty object we can use to clear out any prior actionData\n        pendingActionData: {},\n        pendingActionError: { [boundaryMatch.route.id]: result.error },\n      };\n    }\n\n    if (isDeferredResult(result)) {\n      throw getInternalRouterError(400, { type: \"defer-action\" });\n    }\n\n    return {\n      pendingActionData: { [actionMatch.route.id]: result.data },\n    };\n  }\n\n  // Call all applicable loaders for the given matches, handling redirects,\n  // errors, etc.\n  async function handleLoaders(\n    request: Request,\n    location: Location,\n    matches: AgnosticDataRouteMatch[],\n    overrideNavigation?: Navigation,\n    submission?: Submission,\n    fetcherSubmission?: Submission,\n    replace?: boolean,\n    pendingActionData?: RouteData,\n    pendingError?: RouteData\n  ): Promise<HandleLoadersResult> {\n    // Figure out the right navigation we want to use for data loading\n    let loadingNavigation = overrideNavigation;\n    if (!loadingNavigation) {\n      let navigation: NavigationStates[\"Loading\"] = {\n        state: \"loading\",\n        location,\n        formMethod: undefined,\n        formAction: undefined,\n        formEncType: undefined,\n        formData: undefined,\n        ...submission,\n      };\n      loadingNavigation = navigation;\n    }\n\n    // If this was a redirect from an action we don't have a \"submission\" but\n    // we have it on the loading navigation so use that if available\n    let activeSubmission =\n      submission || fetcherSubmission\n        ? submission || fetcherSubmission\n        : loadingNavigation.formMethod &&\n          loadingNavigation.formAction &&\n          loadingNavigation.formData &&\n          loadingNavigation.formEncType\n        ? {\n            formMethod: loadingNavigation.formMethod,\n            formAction: loadingNavigation.formAction,\n            formData: loadingNavigation.formData,\n            formEncType: loadingNavigation.formEncType,\n          }\n        : undefined;\n\n    let routesToUse = inFlightDataRoutes || dataRoutes;\n    let [matchesToLoad, revalidatingFetchers] = getMatchesToLoad(\n      init.history,\n      state,\n      matches,\n      activeSubmission,\n      location,\n      isRevalidationRequired,\n      cancelledDeferredRoutes,\n      cancelledFetcherLoads,\n      fetchLoadMatches,\n      routesToUse,\n      init.basename,\n      pendingActionData,\n      pendingError\n    );\n\n    // Cancel pending deferreds for no-longer-matched routes or routes we're\n    // about to reload.  Note that if this is an action reload we would have\n    // already cancelled all pending deferreds so this would be a no-op\n    cancelActiveDeferreds(\n      (routeId) =>\n        !(matches && matches.some((m) => m.route.id === routeId)) ||\n        (matchesToLoad && matchesToLoad.some((m) => m.route.id === routeId))\n    );\n\n    // Short circuit if we have no loaders to run\n    if (matchesToLoad.length === 0 && revalidatingFetchers.length === 0) {\n      completeNavigation(location, {\n        matches,\n        loaderData: {},\n        // Commit pending error if we're short circuiting\n        errors: pendingError || null,\n        ...(pendingActionData ? { actionData: pendingActionData } : {}),\n      });\n      return { shortCircuited: true };\n    }\n\n    // If this is an uninterrupted revalidation, we remain in our current idle\n    // state.  If not, we need to switch to our loading state and load data,\n    // preserving any new action data or existing action data (in the case of\n    // a revalidation interrupting an actionReload)\n    if (!isUninterruptedRevalidation) {\n      revalidatingFetchers.forEach((rf) => {\n        let fetcher = state.fetchers.get(rf.key);\n        let revalidatingFetcher: FetcherStates[\"Loading\"] = {\n          state: \"loading\",\n          data: fetcher && fetcher.data,\n          formMethod: undefined,\n          formAction: undefined,\n          formEncType: undefined,\n          formData: undefined,\n          \" _hasFetcherDoneAnything \": true,\n        };\n        state.fetchers.set(rf.key, revalidatingFetcher);\n      });\n      let actionData = pendingActionData || state.actionData;\n      updateState({\n        navigation: loadingNavigation,\n        ...(actionData\n          ? Object.keys(actionData).length === 0\n            ? { actionData: null }\n            : { actionData }\n          : {}),\n        ...(revalidatingFetchers.length > 0\n          ? { fetchers: new Map(state.fetchers) }\n          : {}),\n      });\n    }\n\n    pendingNavigationLoadId = ++incrementingLoadId;\n    revalidatingFetchers.forEach((rf) =>\n      fetchControllers.set(rf.key, pendingNavigationController!)\n    );\n\n    let { results, loaderResults, fetcherResults } =\n      await callLoadersAndMaybeResolveData(\n        state.matches,\n        matches,\n        matchesToLoad,\n        revalidatingFetchers,\n        request\n      );\n\n    if (request.signal.aborted) {\n      return { shortCircuited: true };\n    }\n\n    // Clean up _after_ loaders have completed.  Don't clean up if we short\n    // circuited because fetchControllers would have been aborted and\n    // reassigned to new controllers for the next navigation\n    revalidatingFetchers.forEach((rf) => fetchControllers.delete(rf.key));\n\n    // If any loaders returned a redirect Response, start a new REPLACE navigation\n    let redirect = findRedirect(results);\n    if (redirect) {\n      await startRedirectNavigation(state, redirect, { replace });\n      return { shortCircuited: true };\n    }\n\n    // Process and commit output from loaders\n    let { loaderData, errors } = processLoaderData(\n      state,\n      matches,\n      matchesToLoad,\n      loaderResults,\n      pendingError,\n      revalidatingFetchers,\n      fetcherResults,\n      activeDeferreds\n    );\n\n    // Wire up subscribers to update loaderData as promises settle\n    activeDeferreds.forEach((deferredData, routeId) => {\n      deferredData.subscribe((aborted) => {\n        // Note: No need to updateState here since the TrackedPromise on\n        // loaderData is stable across resolve/reject\n        // Remove this instance if we were aborted or if promises have settled\n        if (aborted || deferredData.done) {\n          activeDeferreds.delete(routeId);\n        }\n      });\n    });\n\n    markFetchRedirectsDone();\n    let didAbortFetchLoads = abortStaleFetchLoads(pendingNavigationLoadId);\n\n    return {\n      loaderData,\n      errors,\n      ...(didAbortFetchLoads || revalidatingFetchers.length > 0\n        ? { fetchers: new Map(state.fetchers) }\n        : {}),\n    };\n  }\n\n  function getFetcher<TData = any>(key: string): Fetcher<TData> {\n    return state.fetchers.get(key) || IDLE_FETCHER;\n  }\n\n  // Trigger a fetcher load/submit for the given fetcher key\n  function fetch(\n    key: string,\n    routeId: string,\n    href: string,\n    opts?: RouterFetchOptions\n  ) {\n    if (isServer) {\n      throw new Error(\n        \"router.fetch() was called during the server render, but it shouldn't be. \" +\n          \"You are likely calling a useFetcher() method in the body of your component. \" +\n          \"Try moving it to a useEffect or a callback.\"\n      );\n    }\n\n    if (fetchControllers.has(key)) abortFetcher(key);\n\n    let routesToUse = inFlightDataRoutes || dataRoutes;\n    let matches = matchRoutes(routesToUse, href, init.basename);\n    if (!matches) {\n      setFetcherError(\n        key,\n        routeId,\n        getInternalRouterError(404, { pathname: href })\n      );\n      return;\n    }\n\n    let { path, submission } = normalizeNavigateOptions(\n      href,\n      future,\n      opts,\n      true\n    );\n    let match = getTargetMatch(matches, path);\n\n    pendingPreventScrollReset = (opts && opts.preventScrollReset) === true;\n\n    if (submission && isMutationMethod(submission.formMethod)) {\n      handleFetcherAction(key, routeId, path, match, matches, submission);\n      return;\n    }\n\n    // Store off the match so we can call it's shouldRevalidate on subsequent\n    // revalidations\n    fetchLoadMatches.set(key, { routeId, path });\n    handleFetcherLoader(key, routeId, path, match, matches, submission);\n  }\n\n  // Call the action for the matched fetcher.submit(), and then handle redirects,\n  // errors, and revalidation\n  async function handleFetcherAction(\n    key: string,\n    routeId: string,\n    path: string,\n    match: AgnosticDataRouteMatch,\n    requestMatches: AgnosticDataRouteMatch[],\n    submission: Submission\n  ) {\n    interruptActiveLoads();\n    fetchLoadMatches.delete(key);\n\n    if (!match.route.action && !match.route.lazy) {\n      let error = getInternalRouterError(405, {\n        method: submission.formMethod,\n        pathname: path,\n        routeId: routeId,\n      });\n      setFetcherError(key, routeId, error);\n      return;\n    }\n\n    // Put this fetcher into it's submitting state\n    let existingFetcher = state.fetchers.get(key);\n    let fetcher: FetcherStates[\"Submitting\"] = {\n      state: \"submitting\",\n      ...submission,\n      data: existingFetcher && existingFetcher.data,\n      \" _hasFetcherDoneAnything \": true,\n    };\n    state.fetchers.set(key, fetcher);\n    updateState({ fetchers: new Map(state.fetchers) });\n\n    // Call the action for the fetcher\n    let abortController = new AbortController();\n    let fetchRequest = createClientSideRequest(\n      init.history,\n      path,\n      abortController.signal,\n      submission\n    );\n    fetchControllers.set(key, abortController);\n\n    let actionResult = await callLoaderOrAction(\n      \"action\",\n      fetchRequest,\n      match,\n      requestMatches,\n      manifest,\n      detectErrorBoundary,\n      router.basename\n    );\n\n    if (fetchRequest.signal.aborted) {\n      // We can delete this so long as we weren't aborted by ou our own fetcher\n      // re-submit which would have put _new_ controller is in fetchControllers\n      if (fetchControllers.get(key) === abortController) {\n        fetchControllers.delete(key);\n      }\n      return;\n    }\n\n    if (isRedirectResult(actionResult)) {\n      fetchControllers.delete(key);\n      fetchRedirectIds.add(key);\n      let loadingFetcher: FetcherStates[\"Loading\"] = {\n        state: \"loading\",\n        ...submission,\n        data: undefined,\n        \" _hasFetcherDoneAnything \": true,\n      };\n      state.fetchers.set(key, loadingFetcher);\n      updateState({ fetchers: new Map(state.fetchers) });\n\n      return startRedirectNavigation(state, actionResult, {\n        submission,\n        isFetchActionRedirect: true,\n      });\n    }\n\n    // Process any non-redirect errors thrown\n    if (isErrorResult(actionResult)) {\n      setFetcherError(key, routeId, actionResult.error);\n      return;\n    }\n\n    if (isDeferredResult(actionResult)) {\n      throw getInternalRouterError(400, { type: \"defer-action\" });\n    }\n\n    // Start the data load for current matches, or the next location if we're\n    // in the middle of a navigation\n    let nextLocation = state.navigation.location || state.location;\n    let revalidationRequest = createClientSideRequest(\n      init.history,\n\n      nextLocation,\n      abortController.signal\n    );\n    let routesToUse = inFlightDataRoutes || dataRoutes;\n    let matches =\n      state.navigation.state !== \"idle\"\n        ? matchRoutes(routesToUse, state.navigation.location, init.basename)\n        : state.matches;\n\n    invariant(matches, \"Didn't find any matches after fetcher action\");\n\n    let loadId = ++incrementingLoadId;\n    fetchReloadIds.set(key, loadId);\n\n    let loadFetcher: FetcherStates[\"Loading\"] = {\n      state: \"loading\",\n      data: actionResult.data,\n      ...submission,\n      \" _hasFetcherDoneAnything \": true,\n    };\n    state.fetchers.set(key, loadFetcher);\n\n    let [matchesToLoad, revalidatingFetchers] = getMatchesToLoad(\n      init.history,\n      state,\n      matches,\n      submission,\n      nextLocation,\n      isRevalidationRequired,\n      cancelledDeferredRoutes,\n      cancelledFetcherLoads,\n      fetchLoadMatches,\n      routesToUse,\n      init.basename,\n      { [match.route.id]: actionResult.data },\n      undefined // No need to send through errors since we short circuit above\n    );\n\n    // Put all revalidating fetchers into the loading state, except for the\n    // current fetcher which we want to keep in it's current loading state which\n    // contains it's action submission info + action data\n    revalidatingFetchers\n      .filter((rf) => rf.key !== key)\n      .forEach((rf) => {\n        let staleKey = rf.key;\n        let existingFetcher = state.fetchers.get(staleKey);\n        let revalidatingFetcher: FetcherStates[\"Loading\"] = {\n          state: \"loading\",\n          data: existingFetcher && existingFetcher.data,\n          formMethod: undefined,\n          formAction: undefined,\n          formEncType: undefined,\n          formData: undefined,\n          \" _hasFetcherDoneAnything \": true,\n        };\n        state.fetchers.set(staleKey, revalidatingFetcher);\n        fetchControllers.set(staleKey, abortController);\n      });\n\n    updateState({ fetchers: new Map(state.fetchers) });\n\n    let { results, loaderResults, fetcherResults } =\n      await callLoadersAndMaybeResolveData(\n        state.matches,\n        matches,\n        matchesToLoad,\n        revalidatingFetchers,\n        revalidationRequest\n      );\n\n    if (abortController.signal.aborted) {\n      return;\n    }\n\n    fetchReloadIds.delete(key);\n    fetchControllers.delete(key);\n    revalidatingFetchers.forEach((r) => fetchControllers.delete(r.key));\n\n    let redirect = findRedirect(results);\n    if (redirect) {\n      return startRedirectNavigation(state, redirect);\n    }\n\n    // Process and commit output from loaders\n    let { loaderData, errors } = processLoaderData(\n      state,\n      state.matches,\n      matchesToLoad,\n      loaderResults,\n      undefined,\n      revalidatingFetchers,\n      fetcherResults,\n      activeDeferreds\n    );\n\n    let doneFetcher: FetcherStates[\"Idle\"] = {\n      state: \"idle\",\n      data: actionResult.data,\n      formMethod: undefined,\n      formAction: undefined,\n      formEncType: undefined,\n      formData: undefined,\n      \" _hasFetcherDoneAnything \": true,\n    };\n    state.fetchers.set(key, doneFetcher);\n\n    let didAbortFetchLoads = abortStaleFetchLoads(loadId);\n\n    // If we are currently in a navigation loading state and this fetcher is\n    // more recent than the navigation, we want the newer data so abort the\n    // navigation and complete it with the fetcher data\n    if (\n      state.navigation.state === \"loading\" &&\n      loadId > pendingNavigationLoadId\n    ) {\n      invariant(pendingAction, \"Expected pending action\");\n      pendingNavigationController && pendingNavigationController.abort();\n\n      completeNavigation(state.navigation.location, {\n        matches,\n        loaderData,\n        errors,\n        fetchers: new Map(state.fetchers),\n      });\n    } else {\n      // otherwise just update with the fetcher data, preserving any existing\n      // loaderData for loaders that did not need to reload.  We have to\n      // manually merge here since we aren't going through completeNavigation\n      updateState({\n        errors,\n        loaderData: mergeLoaderData(\n          state.loaderData,\n          loaderData,\n          matches,\n          errors\n        ),\n        ...(didAbortFetchLoads ? { fetchers: new Map(state.fetchers) } : {}),\n      });\n      isRevalidationRequired = false;\n    }\n  }\n\n  // Call the matched loader for fetcher.load(), handling redirects, errors, etc.\n  async function handleFetcherLoader(\n    key: string,\n    routeId: string,\n    path: string,\n    match: AgnosticDataRouteMatch,\n    matches: AgnosticDataRouteMatch[],\n    submission?: Submission\n  ) {\n    let existingFetcher = state.fetchers.get(key);\n    // Put this fetcher into it's loading state\n    let loadingFetcher: FetcherStates[\"Loading\"] = {\n      state: \"loading\",\n      formMethod: undefined,\n      formAction: undefined,\n      formEncType: undefined,\n      formData: undefined,\n      ...submission,\n      data: existingFetcher && existingFetcher.data,\n      \" _hasFetcherDoneAnything \": true,\n    };\n    state.fetchers.set(key, loadingFetcher);\n    updateState({ fetchers: new Map(state.fetchers) });\n\n    // Call the loader for this fetcher route match\n    let abortController = new AbortController();\n    let fetchRequest = createClientSideRequest(\n      init.history,\n      path,\n      abortController.signal\n    );\n    fetchControllers.set(key, abortController);\n\n    let result: DataResult = await callLoaderOrAction(\n      \"loader\",\n      fetchRequest,\n      match,\n      matches,\n      manifest,\n      detectErrorBoundary,\n      router.basename\n    );\n\n    // Deferred isn't supported for fetcher loads, await everything and treat it\n    // as a normal load.  resolveDeferredData will return undefined if this\n    // fetcher gets aborted, so we just leave result untouched and short circuit\n    // below if that happens\n    if (isDeferredResult(result)) {\n      result =\n        (await resolveDeferredData(result, fetchRequest.signal, true)) ||\n        result;\n    }\n\n    // We can delete this so long as we weren't aborted by ou our own fetcher\n    // re-load which would have put _new_ controller is in fetchControllers\n    if (fetchControllers.get(key) === abortController) {\n      fetchControllers.delete(key);\n    }\n\n    if (fetchRequest.signal.aborted) {\n      return;\n    }\n\n    // If the loader threw a redirect Response, start a new REPLACE navigation\n    if (isRedirectResult(result)) {\n      await startRedirectNavigation(state, result);\n      return;\n    }\n\n    // Process any non-redirect errors thrown\n    if (isErrorResult(result)) {\n      let boundaryMatch = findNearestBoundary(state.matches, routeId);\n      state.fetchers.delete(key);\n      // TODO: In remix, this would reset to IDLE_NAVIGATION if it was a catch -\n      // do we need to behave any differently with our non-redirect errors?\n      // What if it was a non-redirect Response?\n      updateState({\n        fetchers: new Map(state.fetchers),\n        errors: {\n          [boundaryMatch.route.id]: result.error,\n        },\n      });\n      return;\n    }\n\n    invariant(!isDeferredResult(result), \"Unhandled fetcher deferred data\");\n\n    // Put the fetcher back into an idle state\n    let doneFetcher: FetcherStates[\"Idle\"] = {\n      state: \"idle\",\n      data: result.data,\n      formMethod: undefined,\n      formAction: undefined,\n      formEncType: undefined,\n      formData: undefined,\n      \" _hasFetcherDoneAnything \": true,\n    };\n    state.fetchers.set(key, doneFetcher);\n    updateState({ fetchers: new Map(state.fetchers) });\n  }\n\n  /**\n   * Utility function to handle redirects returned from an action or loader.\n   * Normally, a redirect \"replaces\" the navigation that triggered it.  So, for\n   * example:\n   *\n   *  - user is on /a\n   *  - user clicks a link to /b\n   *  - loader for /b redirects to /c\n   *\n   * In a non-JS app the browser would track the in-flight navigation to /b and\n   * then replace it with /c when it encountered the redirect response.  In\n   * the end it would only ever update the URL bar with /c.\n   *\n   * In client-side routing using pushState/replaceState, we aim to emulate\n   * this behavior and we also do not update history until the end of the\n   * navigation (including processed redirects).  This means that we never\n   * actually touch history until we've processed redirects, so we just use\n   * the history action from the original navigation (PUSH or REPLACE).\n   */\n  async function startRedirectNavigation(\n    state: RouterState,\n    redirect: RedirectResult,\n    {\n      submission,\n      replace,\n      isFetchActionRedirect,\n    }: {\n      submission?: Submission;\n      replace?: boolean;\n      isFetchActionRedirect?: boolean;\n    } = {}\n  ) {\n    if (redirect.revalidate) {\n      isRevalidationRequired = true;\n    }\n\n    let redirectLocation = createLocation(\n      state.location,\n      redirect.location,\n      // TODO: This can be removed once we get rid of useTransition in Remix v2\n      {\n        _isRedirect: true,\n        ...(isFetchActionRedirect ? { _isFetchActionRedirect: true } : {}),\n      }\n    );\n    invariant(\n      redirectLocation,\n      \"Expected a location on the redirect navigation\"\n    );\n    // Check if this an absolute external redirect that goes to a new origin\n    if (\n      ABSOLUTE_URL_REGEX.test(redirect.location) &&\n      isBrowser &&\n      typeof window?.location !== \"undefined\"\n    ) {\n      let url = init.history.createURL(redirect.location);\n      let isDifferentBasename =\n        stripBasename(url.pathname, init.basename || \"/\") == null;\n\n      if (window.location.origin !== url.origin || isDifferentBasename) {\n        if (replace) {\n          window.location.replace(redirect.location);\n        } else {\n          window.location.assign(redirect.location);\n        }\n        return;\n      }\n    }\n\n    // There's no need to abort on redirects, since we don't detect the\n    // redirect until the action/loaders have settled\n    pendingNavigationController = null;\n\n    let redirectHistoryAction =\n      replace === true ? HistoryAction.Replace : HistoryAction.Push;\n\n    // Use the incoming submission if provided, fallback on the active one in\n    // state.navigation\n    let { formMethod, formAction, formEncType, formData } = state.navigation;\n    if (!submission && formMethod && formAction && formData && formEncType) {\n      submission = {\n        formMethod,\n        formAction,\n        formEncType,\n        formData,\n      };\n    }\n\n    // If this was a 307/308 submission we want to preserve the HTTP method and\n    // re-submit the GET/POST/PUT/PATCH/DELETE as a submission navigation to the\n    // redirected location\n    if (\n      redirectPreserveMethodStatusCodes.has(redirect.status) &&\n      submission &&\n      isMutationMethod(submission.formMethod)\n    ) {\n      await startNavigation(redirectHistoryAction, redirectLocation, {\n        submission: {\n          ...submission,\n          formAction: redirect.location,\n        },\n        // Preserve this flag across redirects\n        preventScrollReset: pendingPreventScrollReset,\n      });\n    } else if (isFetchActionRedirect) {\n      // For a fetch action redirect, we kick off a new loading navigation\n      // without the fetcher submission, but we send it along for shouldRevalidate\n      await startNavigation(redirectHistoryAction, redirectLocation, {\n        overrideNavigation: {\n          state: \"loading\",\n          location: redirectLocation,\n          formMethod: undefined,\n          formAction: undefined,\n          formEncType: undefined,\n          formData: undefined,\n        },\n        fetcherSubmission: submission,\n        // Preserve this flag across redirects\n        preventScrollReset: pendingPreventScrollReset,\n      });\n    } else {\n      // Otherwise, we kick off a new loading navigation, preserving the\n      // submission info for the duration of this navigation\n      await startNavigation(redirectHistoryAction, redirectLocation, {\n        overrideNavigation: {\n          state: \"loading\",\n          location: redirectLocation,\n          formMethod: submission ? submission.formMethod : undefined,\n          formAction: submission ? submission.formAction : undefined,\n          formEncType: submission ? submission.formEncType : undefined,\n          formData: submission ? submission.formData : undefined,\n        },\n        // Preserve this flag across redirects\n        preventScrollReset: pendingPreventScrollReset,\n      });\n    }\n  }\n\n  async function callLoadersAndMaybeResolveData(\n    currentMatches: AgnosticDataRouteMatch[],\n    matches: AgnosticDataRouteMatch[],\n    matchesToLoad: AgnosticDataRouteMatch[],\n    fetchersToLoad: RevalidatingFetcher[],\n    request: Request\n  ) {\n    // Call all navigation loaders and revalidating fetcher loaders in parallel,\n    // then slice off the results into separate arrays so we can handle them\n    // accordingly\n    let results = await Promise.all([\n      ...matchesToLoad.map((match) =>\n        callLoaderOrAction(\n          \"loader\",\n          request,\n          match,\n          matches,\n          manifest,\n          detectErrorBoundary,\n          router.basename\n        )\n      ),\n      ...fetchersToLoad.map((f) => {\n        if (f.matches && f.match) {\n          return callLoaderOrAction(\n            \"loader\",\n            createClientSideRequest(init.history, f.path, request.signal),\n            f.match,\n            f.matches,\n            manifest,\n            detectErrorBoundary,\n            router.basename\n          );\n        } else {\n          let error: ErrorResult = {\n            type: ResultType.error,\n            error: getInternalRouterError(404, { pathname: f.path }),\n          };\n          return error;\n        }\n      }),\n    ]);\n    let loaderResults = results.slice(0, matchesToLoad.length);\n    let fetcherResults = results.slice(matchesToLoad.length);\n\n    await Promise.all([\n      resolveDeferredResults(\n        currentMatches,\n        matchesToLoad,\n        loaderResults,\n        request.signal,\n        false,\n        state.loaderData\n      ),\n      resolveDeferredResults(\n        currentMatches,\n        fetchersToLoad.map((f) => f.match),\n        fetcherResults,\n        request.signal,\n        true\n      ),\n    ]);\n\n    return { results, loaderResults, fetcherResults };\n  }\n\n  function interruptActiveLoads() {\n    // Every interruption triggers a revalidation\n    isRevalidationRequired = true;\n\n    // Cancel pending route-level deferreds and mark cancelled routes for\n    // revalidation\n    cancelledDeferredRoutes.push(...cancelActiveDeferreds());\n\n    // Abort in-flight fetcher loads\n    fetchLoadMatches.forEach((_, key) => {\n      if (fetchControllers.has(key)) {\n        cancelledFetcherLoads.push(key);\n        abortFetcher(key);\n      }\n    });\n  }\n\n  function setFetcherError(key: string, routeId: string, error: any) {\n    let boundaryMatch = findNearestBoundary(state.matches, routeId);\n    deleteFetcher(key);\n    updateState({\n      errors: {\n        [boundaryMatch.route.id]: error,\n      },\n      fetchers: new Map(state.fetchers),\n    });\n  }\n\n  function deleteFetcher(key: string): void {\n    if (fetchControllers.has(key)) abortFetcher(key);\n    fetchLoadMatches.delete(key);\n    fetchReloadIds.delete(key);\n    fetchRedirectIds.delete(key);\n    state.fetchers.delete(key);\n  }\n\n  function abortFetcher(key: string) {\n    let controller = fetchControllers.get(key);\n    invariant(controller, `Expected fetch controller: ${key}`);\n    controller.abort();\n    fetchControllers.delete(key);\n  }\n\n  function markFetchersDone(keys: string[]) {\n    for (let key of keys) {\n      let fetcher = getFetcher(key);\n      let doneFetcher: FetcherStates[\"Idle\"] = {\n        state: \"idle\",\n        data: fetcher.data,\n        formMethod: undefined,\n        formAction: undefined,\n        formEncType: undefined,\n        formData: undefined,\n        \" _hasFetcherDoneAnything \": true,\n      };\n      state.fetchers.set(key, doneFetcher);\n    }\n  }\n\n  function markFetchRedirectsDone(): void {\n    let doneKeys = [];\n    for (let key of fetchRedirectIds) {\n      let fetcher = state.fetchers.get(key);\n      invariant(fetcher, `Expected fetcher: ${key}`);\n      if (fetcher.state === \"loading\") {\n        fetchRedirectIds.delete(key);\n        doneKeys.push(key);\n      }\n    }\n    markFetchersDone(doneKeys);\n  }\n\n  function abortStaleFetchLoads(landedId: number): boolean {\n    let yeetedKeys = [];\n    for (let [key, id] of fetchReloadIds) {\n      if (id < landedId) {\n        let fetcher = state.fetchers.get(key);\n        invariant(fetcher, `Expected fetcher: ${key}`);\n        if (fetcher.state === \"loading\") {\n          abortFetcher(key);\n          fetchReloadIds.delete(key);\n          yeetedKeys.push(key);\n        }\n      }\n    }\n    markFetchersDone(yeetedKeys);\n    return yeetedKeys.length > 0;\n  }\n\n  function getBlocker(key: string, fn: BlockerFunction) {\n    let blocker: Blocker = state.blockers.get(key) || IDLE_BLOCKER;\n\n    if (blockerFunctions.get(key) !== fn) {\n      blockerFunctions.set(key, fn);\n    }\n\n    return blocker;\n  }\n\n  function deleteBlocker(key: string) {\n    state.blockers.delete(key);\n    blockerFunctions.delete(key);\n  }\n\n  // Utility function to update blockers, ensuring valid state transitions\n  function updateBlocker(key: string, newBlocker: Blocker) {\n    let blocker = state.blockers.get(key) || IDLE_BLOCKER;\n\n    // Poor mans state machine :)\n    // https://mermaid.live/edit#pako:eNqVkc9OwzAMxl8l8nnjAYrEtDIOHEBIgwvKJTReGy3_lDpIqO27k6awMG0XcrLlnz87nwdonESogKXXBuE79rq75XZO3-yHds0RJVuv70YrPlUrCEe2HfrORS3rubqZfuhtpg5C9wk5tZ4VKcRUq88q9Z8RS0-48cE1iHJkL0ugbHuFLus9L6spZy8nX9MP2CNdomVaposqu3fGayT8T8-jJQwhepo_UtpgBQaDEUom04dZhAN1aJBDlUKJBxE1ceB2Smj0Mln-IBW5AFU2dwUiktt_2Qaq2dBfaKdEup85UV7Yd-dKjlnkabl2Pvr0DTkTreM\n    invariant(\n      (blocker.state === \"unblocked\" && newBlocker.state === \"blocked\") ||\n        (blocker.state === \"blocked\" && newBlocker.state === \"blocked\") ||\n        (blocker.state === \"blocked\" && newBlocker.state === \"proceeding\") ||\n        (blocker.state === \"blocked\" && newBlocker.state === \"unblocked\") ||\n        (blocker.state === \"proceeding\" && newBlocker.state === \"unblocked\"),\n      `Invalid blocker state transition: ${blocker.state} -> ${newBlocker.state}`\n    );\n\n    state.blockers.set(key, newBlocker);\n    updateState({ blockers: new Map(state.blockers) });\n  }\n\n  function shouldBlockNavigation({\n    currentLocation,\n    nextLocation,\n    historyAction,\n  }: {\n    currentLocation: Location;\n    nextLocation: Location;\n    historyAction: HistoryAction;\n  }): string | undefined {\n    if (blockerFunctions.size === 0) {\n      return;\n    }\n\n    // We ony support a single active blocker at the moment since we don't have\n    // any compelling use cases for multi-blocker yet\n    if (blockerFunctions.size > 1) {\n      warning(false, \"A router only supports one blocker at a time\");\n    }\n\n    let entries = Array.from(blockerFunctions.entries());\n    let [blockerKey, blockerFunction] = entries[entries.length - 1];\n    let blocker = state.blockers.get(blockerKey);\n\n    if (blocker && blocker.state === \"proceeding\") {\n      // If the blocker is currently proceeding, we don't need to re-check\n      // it and can let this navigation continue\n      return;\n    }\n\n    // At this point, we know we're unblocked/blocked so we need to check the\n    // user-provided blocker function\n    if (blockerFunction({ currentLocation, nextLocation, historyAction })) {\n      return blockerKey;\n    }\n  }\n\n  function cancelActiveDeferreds(\n    predicate?: (routeId: string) => boolean\n  ): string[] {\n    let cancelledRouteIds: string[] = [];\n    activeDeferreds.forEach((dfd, routeId) => {\n      if (!predicate || predicate(routeId)) {\n        // Cancel the deferred - but do not remove from activeDeferreds here -\n        // we rely on the subscribers to do that so our tests can assert proper\n        // cleanup via _internalActiveDeferreds\n        dfd.cancel();\n        cancelledRouteIds.push(routeId);\n        activeDeferreds.delete(routeId);\n      }\n    });\n    return cancelledRouteIds;\n  }\n\n  // Opt in to capturing and reporting scroll positions during navigations,\n  // used by the <ScrollRestoration> component\n  function enableScrollRestoration(\n    positions: Record<string, number>,\n    getPosition: GetScrollPositionFunction,\n    getKey?: GetScrollRestorationKeyFunction\n  ) {\n    savedScrollPositions = positions;\n    getScrollPosition = getPosition;\n    getScrollRestorationKey = getKey || ((location) => location.key);\n\n    // Perform initial hydration scroll restoration, since we miss the boat on\n    // the initial updateState() because we've not yet rendered <ScrollRestoration/>\n    // and therefore have no savedScrollPositions available\n    if (!initialScrollRestored && state.navigation === IDLE_NAVIGATION) {\n      initialScrollRestored = true;\n      let y = getSavedScrollPosition(state.location, state.matches);\n      if (y != null) {\n        updateState({ restoreScrollPosition: y });\n      }\n    }\n\n    return () => {\n      savedScrollPositions = null;\n      getScrollPosition = null;\n      getScrollRestorationKey = null;\n    };\n  }\n\n  function saveScrollPosition(\n    location: Location,\n    matches: AgnosticDataRouteMatch[]\n  ): void {\n    if (savedScrollPositions && getScrollRestorationKey && getScrollPosition) {\n      let userMatches = matches.map((m) =>\n        createUseMatchesMatch(m, state.loaderData)\n      );\n      let key = getScrollRestorationKey(location, userMatches) || location.key;\n      savedScrollPositions[key] = getScrollPosition();\n    }\n  }\n\n  function getSavedScrollPosition(\n    location: Location,\n    matches: AgnosticDataRouteMatch[]\n  ): number | null {\n    if (savedScrollPositions && getScrollRestorationKey && getScrollPosition) {\n      let userMatches = matches.map((m) =>\n        createUseMatchesMatch(m, state.loaderData)\n      );\n      let key = getScrollRestorationKey(location, userMatches) || location.key;\n      let y = savedScrollPositions[key];\n      if (typeof y === \"number\") {\n        return y;\n      }\n    }\n    return null;\n  }\n\n  function _internalSetRoutes(newRoutes: AgnosticDataRouteObject[]) {\n    inFlightDataRoutes = newRoutes;\n  }\n\n  router = {\n    get basename() {\n      return init.basename;\n    },\n    get state() {\n      return state;\n    },\n    get routes() {\n      return dataRoutes;\n    },\n    initialize,\n    subscribe,\n    enableScrollRestoration,\n    navigate,\n    fetch,\n    revalidate,\n    // Passthrough to history-aware createHref used by useHref so we get proper\n    // hash-aware URLs in DOM paths\n    createHref: (to: To) => init.history.createHref(to),\n    encodeLocation: (to: To) => init.history.encodeLocation(to),\n    getFetcher,\n    deleteFetcher,\n    dispose,\n    getBlocker,\n    deleteBlocker,\n    _internalFetchControllers: fetchControllers,\n    _internalActiveDeferreds: activeDeferreds,\n    // TODO: Remove setRoutes, it's temporary to avoid dealing with\n    // updating the tree while validating the update algorithm.\n    _internalSetRoutes,\n  };\n\n  return router;\n}\n//#endregion\n\n////////////////////////////////////////////////////////////////////////////////\n//#region createStaticHandler\n////////////////////////////////////////////////////////////////////////////////\n\nexport const UNSAFE_DEFERRED_SYMBOL = Symbol(\"deferred\");\n\nexport interface CreateStaticHandlerOptions {\n  basename?: string;\n  detectErrorBoundary?: DetectErrorBoundaryFunction;\n}\n\nexport function createStaticHandler(\n  routes: AgnosticRouteObject[],\n  opts?: CreateStaticHandlerOptions\n): StaticHandler {\n  invariant(\n    routes.length > 0,\n    \"You must provide a non-empty routes array to createStaticHandler\"\n  );\n\n  let manifest: RouteManifest = {};\n  let detectErrorBoundary =\n    opts?.detectErrorBoundary || defaultDetectErrorBoundary;\n  let dataRoutes = convertRoutesToDataRoutes(\n    routes,\n    detectErrorBoundary,\n    undefined,\n    manifest\n  );\n  let basename = (opts ? opts.basename : null) || \"/\";\n\n  /**\n   * The query() method is intended for document requests, in which we want to\n   * call an optional action and potentially multiple loaders for all nested\n   * routes.  It returns a StaticHandlerContext object, which is very similar\n   * to the router state (location, loaderData, actionData, errors, etc.) and\n   * also adds SSR-specific information such as the statusCode and headers\n   * from action/loaders Responses.\n   *\n   * It _should_ never throw and should report all errors through the\n   * returned context.errors object, properly associating errors to their error\n   * boundary.  Additionally, it tracks _deepestRenderedBoundaryId which can be\n   * used to emulate React error boundaries during SSr by performing a second\n   * pass only down to the boundaryId.\n   *\n   * The one exception where we do not return a StaticHandlerContext is when a\n   * redirect response is returned or thrown from any action/loader.  We\n   * propagate that out and return the raw Response so the HTTP server can\n   * return it directly.\n   */\n  async function query(\n    request: Request,\n    { requestContext }: { requestContext?: unknown } = {}\n  ): Promise<StaticHandlerContext | Response> {\n    let url = new URL(request.url);\n    let method = request.method;\n    let location = createLocation(\"\", createPath(url), null, \"default\");\n    let matches = matchRoutes(dataRoutes, location, basename);\n\n    // SSR supports HEAD requests while SPA doesn't\n    if (!isValidMethod(method) && method !== \"HEAD\") {\n      let error = getInternalRouterError(405, { method });\n      let { matches: methodNotAllowedMatches, route } =\n        getShortCircuitMatches(dataRoutes);\n      return {\n        basename,\n        location,\n        matches: methodNotAllowedMatches,\n        loaderData: {},\n        actionData: null,\n        errors: {\n          [route.id]: error,\n        },\n        statusCode: error.status,\n        loaderHeaders: {},\n        actionHeaders: {},\n        activeDeferreds: null,\n      };\n    } else if (!matches) {\n      let error = getInternalRouterError(404, { pathname: location.pathname });\n      let { matches: notFoundMatches, route } =\n        getShortCircuitMatches(dataRoutes);\n      return {\n        basename,\n        location,\n        matches: notFoundMatches,\n        loaderData: {},\n        actionData: null,\n        errors: {\n          [route.id]: error,\n        },\n        statusCode: error.status,\n        loaderHeaders: {},\n        actionHeaders: {},\n        activeDeferreds: null,\n      };\n    }\n\n    let result = await queryImpl(request, location, matches, requestContext);\n    if (isResponse(result)) {\n      return result;\n    }\n\n    // When returning StaticHandlerContext, we patch back in the location here\n    // since we need it for React Context.  But this helps keep our submit and\n    // loadRouteData operating on a Request instead of a Location\n    return { location, basename, ...result };\n  }\n\n  /**\n   * The queryRoute() method is intended for targeted route requests, either\n   * for fetch ?_data requests or resource route requests.  In this case, we\n   * are only ever calling a single action or loader, and we are returning the\n   * returned value directly.  In most cases, this will be a Response returned\n   * from the action/loader, but it may be a primitive or other value as well -\n   * and in such cases the calling context should handle that accordingly.\n   *\n   * We do respect the throw/return differentiation, so if an action/loader\n   * throws, then this method will throw the value.  This is important so we\n   * can do proper boundary identification in Remix where a thrown Response\n   * must go to the Catch Boundary but a returned Response is happy-path.\n   *\n   * One thing to note is that any Router-initiated Errors that make sense\n   * to associate with a status code will be thrown as an ErrorResponse\n   * instance which include the raw Error, such that the calling context can\n   * serialize the error as they see fit while including the proper response\n   * code.  Examples here are 404 and 405 errors that occur prior to reaching\n   * any user-defined loaders.\n   */\n  async function queryRoute(\n    request: Request,\n    {\n      routeId,\n      requestContext,\n    }: { requestContext?: unknown; routeId?: string } = {}\n  ): Promise<any> {\n    let url = new URL(request.url);\n    let method = request.method;\n    let location = createLocation(\"\", createPath(url), null, \"default\");\n    let matches = matchRoutes(dataRoutes, location, basename);\n\n    // SSR supports HEAD requests while SPA doesn't\n    if (!isValidMethod(method) && method !== \"HEAD\" && method !== \"OPTIONS\") {\n      throw getInternalRouterError(405, { method });\n    } else if (!matches) {\n      throw getInternalRouterError(404, { pathname: location.pathname });\n    }\n\n    let match = routeId\n      ? matches.find((m) => m.route.id === routeId)\n      : getTargetMatch(matches, location);\n\n    if (routeId && !match) {\n      throw getInternalRouterError(403, {\n        pathname: location.pathname,\n        routeId,\n      });\n    } else if (!match) {\n      // This should never hit I don't think?\n      throw getInternalRouterError(404, { pathname: location.pathname });\n    }\n\n    let result = await queryImpl(\n      request,\n      location,\n      matches,\n      requestContext,\n      match\n    );\n    if (isResponse(result)) {\n      return result;\n    }\n\n    let error = result.errors ? Object.values(result.errors)[0] : undefined;\n    if (error !== undefined) {\n      // If we got back result.errors, that means the loader/action threw\n      // _something_ that wasn't a Response, but it's not guaranteed/required\n      // to be an `instanceof Error` either, so we have to use throw here to\n      // preserve the \"error\" state outside of queryImpl.\n      throw error;\n    }\n\n    // Pick off the right state value to return\n    if (result.actionData) {\n      return Object.values(result.actionData)[0];\n    }\n\n    if (result.loaderData) {\n      let data = Object.values(result.loaderData)[0];\n      if (result.activeDeferreds?.[match.route.id]) {\n        data[UNSAFE_DEFERRED_SYMBOL] = result.activeDeferreds[match.route.id];\n      }\n      return data;\n    }\n\n    return undefined;\n  }\n\n  async function queryImpl(\n    request: Request,\n    location: Location,\n    matches: AgnosticDataRouteMatch[],\n    requestContext: unknown,\n    routeMatch?: AgnosticDataRouteMatch\n  ): Promise<Omit<StaticHandlerContext, \"location\" | \"basename\"> | Response> {\n    invariant(\n      request.signal,\n      \"query()/queryRoute() requests must contain an AbortController signal\"\n    );\n\n    try {\n      if (isMutationMethod(request.method.toLowerCase())) {\n        let result = await submit(\n          request,\n          matches,\n          routeMatch || getTargetMatch(matches, location),\n          requestContext,\n          routeMatch != null\n        );\n        return result;\n      }\n\n      let result = await loadRouteData(\n        request,\n        matches,\n        requestContext,\n        routeMatch\n      );\n      return isResponse(result)\n        ? result\n        : {\n            ...result,\n            actionData: null,\n            actionHeaders: {},\n          };\n    } catch (e) {\n      // If the user threw/returned a Response in callLoaderOrAction, we throw\n      // it to bail out and then return or throw here based on whether the user\n      // returned or threw\n      if (isQueryRouteResponse(e)) {\n        if (e.type === ResultType.error && !isRedirectResponse(e.response)) {\n          throw e.response;\n        }\n        return e.response;\n      }\n      // Redirects are always returned since they don't propagate to catch\n      // boundaries\n      if (isRedirectResponse(e)) {\n        return e;\n      }\n      throw e;\n    }\n  }\n\n  async function submit(\n    request: Request,\n    matches: AgnosticDataRouteMatch[],\n    actionMatch: AgnosticDataRouteMatch,\n    requestContext: unknown,\n    isRouteRequest: boolean\n  ): Promise<Omit<StaticHandlerContext, \"location\" | \"basename\"> | Response> {\n    let result: DataResult;\n\n    if (!actionMatch.route.action && !actionMatch.route.lazy) {\n      let error = getInternalRouterError(405, {\n        method: request.method,\n        pathname: new URL(request.url).pathname,\n        routeId: actionMatch.route.id,\n      });\n      if (isRouteRequest) {\n        throw error;\n      }\n      result = {\n        type: ResultType.error,\n        error,\n      };\n    } else {\n      result = await callLoaderOrAction(\n        \"action\",\n        request,\n        actionMatch,\n        matches,\n        manifest,\n        detectErrorBoundary,\n        basename,\n        true,\n        isRouteRequest,\n        requestContext\n      );\n\n      if (request.signal.aborted) {\n        let method = isRouteRequest ? \"queryRoute\" : \"query\";\n        throw new Error(`${method}() call aborted`);\n      }\n    }\n\n    if (isRedirectResult(result)) {\n      // Uhhhh - this should never happen, we should always throw these from\n      // callLoaderOrAction, but the type narrowing here keeps TS happy and we\n      // can get back on the \"throw all redirect responses\" train here should\n      // this ever happen :/\n      throw new Response(null, {\n        status: result.status,\n        headers: {\n          Location: result.location,\n        },\n      });\n    }\n\n    if (isDeferredResult(result)) {\n      let error = getInternalRouterError(400, { type: \"defer-action\" });\n      if (isRouteRequest) {\n        throw error;\n      }\n      result = {\n        type: ResultType.error,\n        error,\n      };\n    }\n\n    if (isRouteRequest) {\n      // Note: This should only be non-Response values if we get here, since\n      // isRouteRequest should throw any Response received in callLoaderOrAction\n      if (isErrorResult(result)) {\n        throw result.error;\n      }\n\n      return {\n        matches: [actionMatch],\n        loaderData: {},\n        actionData: { [actionMatch.route.id]: result.data },\n        errors: null,\n        // Note: statusCode + headers are unused here since queryRoute will\n        // return the raw Response or value\n        statusCode: 200,\n        loaderHeaders: {},\n        actionHeaders: {},\n        activeDeferreds: null,\n      };\n    }\n\n    if (isErrorResult(result)) {\n      // Store off the pending error - we use it to determine which loaders\n      // to call and will commit it when we complete the navigation\n      let boundaryMatch = findNearestBoundary(matches, actionMatch.route.id);\n      let context = await loadRouteData(\n        request,\n        matches,\n        requestContext,\n        undefined,\n        {\n          [boundaryMatch.route.id]: result.error,\n        }\n      );\n\n      // action status codes take precedence over loader status codes\n      return {\n        ...context,\n        statusCode: isRouteErrorResponse(result.error)\n          ? result.error.status\n          : 500,\n        actionData: null,\n        actionHeaders: {\n          ...(result.headers ? { [actionMatch.route.id]: result.headers } : {}),\n        },\n      };\n    }\n\n    // Create a GET request for the loaders\n    let loaderRequest = new Request(request.url, {\n      headers: request.headers,\n      redirect: request.redirect,\n      signal: request.signal,\n    });\n    let context = await loadRouteData(loaderRequest, matches, requestContext);\n\n    return {\n      ...context,\n      // action status codes take precedence over loader status codes\n      ...(result.statusCode ? { statusCode: result.statusCode } : {}),\n      actionData: {\n        [actionMatch.route.id]: result.data,\n      },\n      actionHeaders: {\n        ...(result.headers ? { [actionMatch.route.id]: result.headers } : {}),\n      },\n    };\n  }\n\n  async function loadRouteData(\n    request: Request,\n    matches: AgnosticDataRouteMatch[],\n    requestContext: unknown,\n    routeMatch?: AgnosticDataRouteMatch,\n    pendingActionError?: RouteData\n  ): Promise<\n    | Omit<\n        StaticHandlerContext,\n        \"location\" | \"basename\" | \"actionData\" | \"actionHeaders\"\n      >\n    | Response\n  > {\n    let isRouteRequest = routeMatch != null;\n\n    // Short circuit if we have no loaders to run (queryRoute())\n    if (\n      isRouteRequest &&\n      !routeMatch?.route.loader &&\n      !routeMatch?.route.lazy\n    ) {\n      throw getInternalRouterError(400, {\n        method: request.method,\n        pathname: new URL(request.url).pathname,\n        routeId: routeMatch?.route.id,\n      });\n    }\n\n    let requestMatches = routeMatch\n      ? [routeMatch]\n      : getLoaderMatchesUntilBoundary(\n          matches,\n          Object.keys(pendingActionError || {})[0]\n        );\n    let matchesToLoad = requestMatches.filter(\n      (m) => m.route.loader || m.route.lazy\n    );\n\n    // Short circuit if we have no loaders to run (query())\n    if (matchesToLoad.length === 0) {\n      return {\n        matches,\n        // Add a null for all matched routes for proper revalidation on the client\n        loaderData: matches.reduce(\n          (acc, m) => Object.assign(acc, { [m.route.id]: null }),\n          {}\n        ),\n        errors: pendingActionError || null,\n        statusCode: 200,\n        loaderHeaders: {},\n        activeDeferreds: null,\n      };\n    }\n\n    let results = await Promise.all([\n      ...matchesToLoad.map((match) =>\n        callLoaderOrAction(\n          \"loader\",\n          request,\n          match,\n          matches,\n          manifest,\n          detectErrorBoundary,\n          basename,\n          true,\n          isRouteRequest,\n          requestContext\n        )\n      ),\n    ]);\n\n    if (request.signal.aborted) {\n      let method = isRouteRequest ? \"queryRoute\" : \"query\";\n      throw new Error(`${method}() call aborted`);\n    }\n\n    // Process and commit output from loaders\n    let activeDeferreds = new Map<string, DeferredData>();\n    let context = processRouteLoaderData(\n      matches,\n      matchesToLoad,\n      results,\n      pendingActionError,\n      activeDeferreds\n    );\n\n    // Add a null for any non-loader matches for proper revalidation on the client\n    let executedLoaders = new Set<string>(\n      matchesToLoad.map((match) => match.route.id)\n    );\n    matches.forEach((match) => {\n      if (!executedLoaders.has(match.route.id)) {\n        context.loaderData[match.route.id] = null;\n      }\n    });\n\n    return {\n      ...context,\n      matches,\n      activeDeferreds:\n        activeDeferreds.size > 0\n          ? Object.fromEntries(activeDeferreds.entries())\n          : null,\n    };\n  }\n\n  return {\n    dataRoutes,\n    query,\n    queryRoute,\n  };\n}\n\n//#endregion\n\n////////////////////////////////////////////////////////////////////////////////\n//#region Helpers\n////////////////////////////////////////////////////////////////////////////////\n\n/**\n * Given an existing StaticHandlerContext and an error thrown at render time,\n * provide an updated StaticHandlerContext suitable for a second SSR render\n */\nexport function getStaticContextFromError(\n  routes: AgnosticDataRouteObject[],\n  context: StaticHandlerContext,\n  error: any\n) {\n  let newContext: StaticHandlerContext = {\n    ...context,\n    statusCode: 500,\n    errors: {\n      [context._deepestRenderedBoundaryId || routes[0].id]: error,\n    },\n  };\n  return newContext;\n}\n\nfunction isSubmissionNavigation(\n  opts: RouterNavigateOptions\n): opts is SubmissionNavigateOptions {\n  return opts != null && \"formData\" in opts;\n}\n\n// Normalize navigation options by converting formMethod=GET formData objects to\n// URLSearchParams so they behave identically to links with query params\nfunction normalizeNavigateOptions(\n  to: To,\n  future: FutureConfig,\n  opts?: RouterNavigateOptions,\n  isFetcher = false\n): {\n  path: string;\n  submission?: Submission;\n  error?: ErrorResponse;\n} {\n  let path = typeof to === \"string\" ? to : createPath(to);\n\n  // Return location verbatim on non-submission navigations\n  if (!opts || !isSubmissionNavigation(opts)) {\n    return { path };\n  }\n\n  if (opts.formMethod && !isValidMethod(opts.formMethod)) {\n    return {\n      path,\n      error: getInternalRouterError(405, { method: opts.formMethod }),\n    };\n  }\n\n  // Create a Submission on non-GET navigations\n  let submission: Submission | undefined;\n  if (opts.formData) {\n    let formMethod = opts.formMethod || \"get\";\n    submission = {\n      formMethod: future.v7_normalizeFormMethod\n        ? (formMethod.toUpperCase() as V7_FormMethod)\n        : (formMethod.toLowerCase() as FormMethod),\n      formAction: stripHashFromPath(path),\n      formEncType:\n        (opts && opts.formEncType) || \"application/x-www-form-urlencoded\",\n      formData: opts.formData,\n    };\n\n    if (isMutationMethod(submission.formMethod)) {\n      return { path, submission };\n    }\n  }\n\n  // Flatten submission onto URLSearchParams for GET submissions\n  let parsedPath = parsePath(path);\n  let searchParams = convertFormDataToSearchParams(opts.formData);\n  // Since fetcher GET submissions only run a single loader (as opposed to\n  // navigation GET submissions which run all loaders), we need to preserve\n  // any incoming ?index params\n  if (isFetcher && parsedPath.search && hasNakedIndexQuery(parsedPath.search)) {\n    searchParams.append(\"index\", \"\");\n  }\n  parsedPath.search = `?${searchParams}`;\n\n  return { path: createPath(parsedPath), submission };\n}\n\n// Filter out all routes below any caught error as they aren't going to\n// render so we don't need to load them\nfunction getLoaderMatchesUntilBoundary(\n  matches: AgnosticDataRouteMatch[],\n  boundaryId?: string\n) {\n  let boundaryMatches = matches;\n  if (boundaryId) {\n    let index = matches.findIndex((m) => m.route.id === boundaryId);\n    if (index >= 0) {\n      boundaryMatches = matches.slice(0, index);\n    }\n  }\n  return boundaryMatches;\n}\n\nfunction getMatchesToLoad(\n  history: History,\n  state: RouterState,\n  matches: AgnosticDataRouteMatch[],\n  submission: Submission | undefined,\n  location: Location,\n  isRevalidationRequired: boolean,\n  cancelledDeferredRoutes: string[],\n  cancelledFetcherLoads: string[],\n  fetchLoadMatches: Map<string, FetchLoadMatch>,\n  routesToUse: AgnosticDataRouteObject[],\n  basename: string | undefined,\n  pendingActionData?: RouteData,\n  pendingError?: RouteData\n): [AgnosticDataRouteMatch[], RevalidatingFetcher[]] {\n  let actionResult = pendingError\n    ? Object.values(pendingError)[0]\n    : pendingActionData\n    ? Object.values(pendingActionData)[0]\n    : undefined;\n\n  let currentUrl = history.createURL(state.location);\n  let nextUrl = history.createURL(location);\n\n  let defaultShouldRevalidate =\n    // Forced revalidation due to submission, useRevalidate, or X-Remix-Revalidate\n    isRevalidationRequired ||\n    // Clicked the same link, resubmitted a GET form\n    currentUrl.toString() === nextUrl.toString() ||\n    // Search params affect all loaders\n    currentUrl.search !== nextUrl.search;\n\n  // Pick navigation matches that are net-new or qualify for revalidation\n  let boundaryId = pendingError ? Object.keys(pendingError)[0] : undefined;\n  let boundaryMatches = getLoaderMatchesUntilBoundary(matches, boundaryId);\n\n  let navigationMatches = boundaryMatches.filter((match, index) => {\n    if (match.route.lazy) {\n      // We haven't loaded this route yet so we don't know if it's got a loader!\n      return true;\n    }\n    if (match.route.loader == null) {\n      return false;\n    }\n\n    // Always call the loader on new route instances and pending defer cancellations\n    if (\n      isNewLoader(state.loaderData, state.matches[index], match) ||\n      cancelledDeferredRoutes.some((id) => id === match.route.id)\n    ) {\n      return true;\n    }\n\n    // This is the default implementation for when we revalidate.  If the route\n    // provides it's own implementation, then we give them full control but\n    // provide this value so they can leverage it if needed after they check\n    // their own specific use cases\n    let currentRouteMatch = state.matches[index];\n    let nextRouteMatch = match;\n\n    return shouldRevalidateLoader(match, {\n      currentUrl,\n      currentParams: currentRouteMatch.params,\n      nextUrl,\n      nextParams: nextRouteMatch.params,\n      ...submission,\n      actionResult,\n      defaultShouldRevalidate:\n        defaultShouldRevalidate ||\n        isNewRouteInstance(currentRouteMatch, nextRouteMatch),\n    });\n  });\n\n  // Pick fetcher.loads that need to be revalidated\n  let revalidatingFetchers: RevalidatingFetcher[] = [];\n  fetchLoadMatches.forEach((f, key) => {\n    // Don't revalidate if fetcher won't be present in the subsequent render\n    if (!matches.some((m) => m.route.id === f.routeId)) {\n      return;\n    }\n\n    let fetcherMatches = matchRoutes(routesToUse, f.path, basename);\n\n    // If the fetcher path no longer matches, push it in with null matches so\n    // we can trigger a 404 in callLoadersAndMaybeResolveData\n    if (!fetcherMatches) {\n      revalidatingFetchers.push({ key, ...f, matches: null, match: null });\n      return;\n    }\n\n    let fetcherMatch = getTargetMatch(fetcherMatches, f.path);\n\n    if (cancelledFetcherLoads.includes(key)) {\n      revalidatingFetchers.push({\n        key,\n        matches: fetcherMatches,\n        match: fetcherMatch,\n        ...f,\n      });\n      return;\n    }\n\n    // Revalidating fetchers are decoupled from the route matches since they\n    // hit a static href, so they _always_ check shouldRevalidate and the\n    // default is strictly if a revalidation is explicitly required (action\n    // submissions, useRevalidator, X-Remix-Revalidate).\n    let shouldRevalidate = shouldRevalidateLoader(fetcherMatch, {\n      currentUrl,\n      currentParams: state.matches[state.matches.length - 1].params,\n      nextUrl,\n      nextParams: matches[matches.length - 1].params,\n      ...submission,\n      actionResult,\n      defaultShouldRevalidate,\n    });\n    if (shouldRevalidate) {\n      revalidatingFetchers.push({\n        key,\n        matches: fetcherMatches,\n        match: fetcherMatch,\n        ...f,\n      });\n    }\n  });\n\n  return [navigationMatches, revalidatingFetchers];\n}\n\nfunction isNewLoader(\n  currentLoaderData: RouteData,\n  currentMatch: AgnosticDataRouteMatch,\n  match: AgnosticDataRouteMatch\n) {\n  let isNew =\n    // [a] -> [a, b]\n    !currentMatch ||\n    // [a, b] -> [a, c]\n    match.route.id !== currentMatch.route.id;\n\n  // Handle the case that we don't have data for a re-used route, potentially\n  // from a prior error or from a cancelled pending deferred\n  let isMissingData = currentLoaderData[match.route.id] === undefined;\n\n  // Always load if this is a net-new route or we don't yet have data\n  return isNew || isMissingData;\n}\n\nfunction isNewRouteInstance(\n  currentMatch: AgnosticDataRouteMatch,\n  match: AgnosticDataRouteMatch\n) {\n  let currentPath = currentMatch.route.path;\n  return (\n    // param change for this match, /users/123 -> /users/456\n    currentMatch.pathname !== match.pathname ||\n    // splat param changed, which is not present in match.path\n    // e.g. /files/images/avatar.jpg -> files/finances.xls\n    (currentPath != null &&\n      currentPath.endsWith(\"*\") &&\n      currentMatch.params[\"*\"] !== match.params[\"*\"])\n  );\n}\n\nfunction shouldRevalidateLoader(\n  loaderMatch: AgnosticDataRouteMatch,\n  arg: Parameters<ShouldRevalidateFunction>[0]\n) {\n  if (loaderMatch.route.shouldRevalidate) {\n    let routeChoice = loaderMatch.route.shouldRevalidate(arg);\n    if (typeof routeChoice === \"boolean\") {\n      return routeChoice;\n    }\n  }\n\n  return arg.defaultShouldRevalidate;\n}\n\n/**\n * Execute route.lazy() methods to lazily load route modules (loader, action,\n * shouldRevalidate) and update the routeManifest in place which shares objects\n * with dataRoutes so those get updated as well.\n */\nasync function loadLazyRouteModule(\n  route: AgnosticDataRouteObject,\n  detectErrorBoundary: DetectErrorBoundaryFunction,\n  manifest: RouteManifest\n) {\n  if (!route.lazy) {\n    return;\n  }\n\n  let lazyRoute = await route.lazy();\n\n  // If the lazy route function was executed and removed by another parallel\n  // call then we can return - first lazy() to finish wins because the return\n  // value of lazy is expected to be static\n  if (!route.lazy) {\n    return;\n  }\n\n  let routeToUpdate = manifest[route.id];\n  invariant(routeToUpdate, \"No route found in manifest\");\n\n  // Update the route in place.  This should be safe because there's no way\n  // we could yet be sitting on this route as we can't get there without\n  // resolving lazy() first.\n  //\n  // This is different than the HMR \"update\" use-case where we may actively be\n  // on the route being updated.  The main concern boils down to \"does this\n  // mutation affect any ongoing navigations or any current state.matches\n  // values?\".  If not, it should be safe to update in place.\n  let routeUpdates: Record<string, any> = {};\n  for (let lazyRouteProperty in lazyRoute) {\n    let staticRouteValue =\n      routeToUpdate[lazyRouteProperty as keyof typeof routeToUpdate];\n\n    let isPropertyStaticallyDefined =\n      staticRouteValue !== undefined &&\n      // This property isn't static since it should always be updated based\n      // on the route updates\n      lazyRouteProperty !== \"hasErrorBoundary\";\n\n    warning(\n      !isPropertyStaticallyDefined,\n      `Route \"${routeToUpdate.id}\" has a static property \"${lazyRouteProperty}\" ` +\n        `defined but its lazy function is also returning a value for this property. ` +\n        `The lazy route property \"${lazyRouteProperty}\" will be ignored.`\n    );\n\n    if (\n      !isPropertyStaticallyDefined &&\n      !immutableRouteKeys.has(lazyRouteProperty as ImmutableRouteKey)\n    ) {\n      routeUpdates[lazyRouteProperty] =\n        lazyRoute[lazyRouteProperty as keyof typeof lazyRoute];\n    }\n  }\n\n  // Mutate the route with the provided updates.  Do this first so we pass\n  // the updated version to detectErrorBoundary\n  Object.assign(routeToUpdate, routeUpdates);\n\n  // Mutate the `hasErrorBoundary` property on the route based on the route\n  // updates and remove the `lazy` function so we don't resolve the lazy\n  // route again.\n  Object.assign(routeToUpdate, {\n    // To keep things framework agnostic, we use the provided\n    // `detectErrorBoundary` function to set the `hasErrorBoundary` route\n    // property since the logic will differ between frameworks.\n    hasErrorBoundary: detectErrorBoundary({ ...routeToUpdate }),\n    lazy: undefined,\n  });\n}\n\nasync function callLoaderOrAction(\n  type: \"loader\" | \"action\",\n  request: Request,\n  match: AgnosticDataRouteMatch,\n  matches: AgnosticDataRouteMatch[],\n  manifest: RouteManifest,\n  detectErrorBoundary: DetectErrorBoundaryFunction,\n  basename = \"/\",\n  isStaticRequest: boolean = false,\n  isRouteRequest: boolean = false,\n  requestContext?: unknown\n): Promise<DataResult> {\n  let resultType;\n  let result;\n  let onReject: (() => void) | undefined;\n\n  let runHandler = (handler: ActionFunction | LoaderFunction) => {\n    // Setup a promise we can race against so that abort signals short circuit\n    let reject: () => void;\n    let abortPromise = new Promise((_, r) => (reject = r));\n    onReject = () => reject();\n    request.signal.addEventListener(\"abort\", onReject);\n    return Promise.race([\n      handler({ request, params: match.params, context: requestContext }),\n      abortPromise,\n    ]);\n  };\n\n  try {\n    let handler = match.route[type];\n\n    if (match.route.lazy) {\n      if (handler) {\n        // Run statically defined handler in parallel with lazy()\n        let values = await Promise.all([\n          runHandler(handler),\n          loadLazyRouteModule(match.route, detectErrorBoundary, manifest),\n        ]);\n        result = values[0];\n      } else {\n        // Load lazy route module, then run any returned handler\n        await loadLazyRouteModule(match.route, detectErrorBoundary, manifest);\n\n        handler = match.route[type];\n        if (handler) {\n          // Handler still run even if we got interrupted to maintain consistency\n          // with un-abortable behavior of handler execution on non-lazy or\n          // previously-lazy-loaded routes\n          result = await runHandler(handler);\n        } else if (type === \"action\") {\n          throw getInternalRouterError(405, {\n            method: request.method,\n            pathname: new URL(request.url).pathname,\n            routeId: match.route.id,\n          });\n        } else {\n          // lazy() route has no loader to run.  Short circuit here so we don't\n          // hit the invariant below that errors on returning undefined.\n          return { type: ResultType.data, data: undefined };\n        }\n      }\n    } else {\n      invariant<Function>(\n        handler,\n        `Could not find the ${type} to run on the \"${match.route.id}\" route`\n      );\n\n      result = await runHandler(handler);\n    }\n\n    invariant(\n      result !== undefined,\n      `You defined ${type === \"action\" ? \"an action\" : \"a loader\"} for route ` +\n        `\"${match.route.id}\" but didn't return anything from your \\`${type}\\` ` +\n        `function. Please return a value or \\`null\\`.`\n    );\n  } catch (e) {\n    resultType = ResultType.error;\n    result = e;\n  } finally {\n    if (onReject) {\n      request.signal.removeEventListener(\"abort\", onReject);\n    }\n  }\n\n  if (isResponse(result)) {\n    let status = result.status;\n\n    // Process redirects\n    if (redirectStatusCodes.has(status)) {\n      let location = result.headers.get(\"Location\");\n      invariant(\n        location,\n        \"Redirects returned/thrown from loaders/actions must have a Location header\"\n      );\n\n      // Support relative routing in internal redirects\n      if (!ABSOLUTE_URL_REGEX.test(location)) {\n        let activeMatches = matches.slice(0, matches.indexOf(match) + 1);\n        let routePathnames = getPathContributingMatches(activeMatches).map(\n          (match) => match.pathnameBase\n        );\n        let resolvedLocation = resolveTo(\n          location,\n          routePathnames,\n          new URL(request.url).pathname\n        );\n        invariant(\n          createPath(resolvedLocation),\n          `Unable to resolve redirect location: ${location}`\n        );\n\n        // Prepend the basename to the redirect location if we have one\n        if (basename) {\n          let path = resolvedLocation.pathname;\n          resolvedLocation.pathname =\n            path === \"/\" ? basename : joinPaths([basename, path]);\n        }\n\n        location = createPath(resolvedLocation);\n      } else if (!isStaticRequest) {\n        // Strip off the protocol+origin for same-origin + same-basename absolute\n        // redirects. If this is a static request, we can let it go back to the\n        // browser as-is\n        let currentUrl = new URL(request.url);\n        let url = location.startsWith(\"//\")\n          ? new URL(currentUrl.protocol + location)\n          : new URL(location);\n        let isSameBasename = stripBasename(url.pathname, basename) != null;\n        if (url.origin === currentUrl.origin && isSameBasename) {\n          location = url.pathname + url.search + url.hash;\n        }\n      }\n\n      // Don't process redirects in the router during static requests requests.\n      // Instead, throw the Response and let the server handle it with an HTTP\n      // redirect.  We also update the Location header in place in this flow so\n      // basename and relative routing is taken into account\n      if (isStaticRequest) {\n        result.headers.set(\"Location\", location);\n        throw result;\n      }\n\n      return {\n        type: ResultType.redirect,\n        status,\n        location,\n        revalidate: result.headers.get(\"X-Remix-Revalidate\") !== null,\n      };\n    }\n\n    // For SSR single-route requests, we want to hand Responses back directly\n    // without unwrapping.  We do this with the QueryRouteResponse wrapper\n    // interface so we can know whether it was returned or thrown\n    if (isRouteRequest) {\n      // eslint-disable-next-line no-throw-literal\n      throw {\n        type: resultType || ResultType.data,\n        response: result,\n      };\n    }\n\n    let data: any;\n    let contentType = result.headers.get(\"Content-Type\");\n    // Check between word boundaries instead of startsWith() due to the last\n    // paragraph of https://httpwg.org/specs/rfc9110.html#field.content-type\n    if (contentType && /\\bapplication\\/json\\b/.test(contentType)) {\n      data = await result.json();\n    } else {\n      data = await result.text();\n    }\n\n    if (resultType === ResultType.error) {\n      return {\n        type: resultType,\n        error: new ErrorResponse(status, result.statusText, data),\n        headers: result.headers,\n      };\n    }\n\n    return {\n      type: ResultType.data,\n      data,\n      statusCode: result.status,\n      headers: result.headers,\n    };\n  }\n\n  if (resultType === ResultType.error) {\n    return { type: resultType, error: result };\n  }\n\n  if (isDeferredData(result)) {\n    return {\n      type: ResultType.deferred,\n      deferredData: result,\n      statusCode: result.init?.status,\n      headers: result.init?.headers && new Headers(result.init.headers),\n    };\n  }\n\n  return { type: ResultType.data, data: result };\n}\n\n// Utility method for creating the Request instances for loaders/actions during\n// client-side navigations and fetches.  During SSR we will always have a\n// Request instance from the static handler (query/queryRoute)\nfunction createClientSideRequest(\n  history: History,\n  location: string | Location,\n  signal: AbortSignal,\n  submission?: Submission\n): Request {\n  let url = history.createURL(stripHashFromPath(location)).toString();\n  let init: RequestInit = { signal };\n\n  if (submission && isMutationMethod(submission.formMethod)) {\n    let { formMethod, formEncType, formData } = submission;\n    // Didn't think we needed this but it turns out unlike other methods, patch\n    // won't be properly normalized to uppercase and results in a 405 error.\n    // See: https://fetch.spec.whatwg.org/#concept-method\n    init.method = formMethod.toUpperCase();\n    init.body =\n      formEncType === \"application/x-www-form-urlencoded\"\n        ? convertFormDataToSearchParams(formData)\n        : formData;\n  }\n\n  // Content-Type is inferred (https://fetch.spec.whatwg.org/#dom-request)\n  return new Request(url, init);\n}\n\nfunction convertFormDataToSearchParams(formData: FormData): URLSearchParams {\n  let searchParams = new URLSearchParams();\n\n  for (let [key, value] of formData.entries()) {\n    // https://html.spec.whatwg.org/multipage/form-control-infrastructure.html#converting-an-entry-list-to-a-list-of-name-value-pairs\n    searchParams.append(key, value instanceof File ? value.name : value);\n  }\n\n  return searchParams;\n}\n\nfunction processRouteLoaderData(\n  matches: AgnosticDataRouteMatch[],\n  matchesToLoad: AgnosticDataRouteMatch[],\n  results: DataResult[],\n  pendingError: RouteData | undefined,\n  activeDeferreds: Map<string, DeferredData>\n): {\n  loaderData: RouterState[\"loaderData\"];\n  errors: RouterState[\"errors\"] | null;\n  statusCode: number;\n  loaderHeaders: Record<string, Headers>;\n} {\n  // Fill in loaderData/errors from our loaders\n  let loaderData: RouterState[\"loaderData\"] = {};\n  let errors: RouterState[\"errors\"] | null = null;\n  let statusCode: number | undefined;\n  let foundError = false;\n  let loaderHeaders: Record<string, Headers> = {};\n\n  // Process loader results into state.loaderData/state.errors\n  results.forEach((result, index) => {\n    let id = matchesToLoad[index].route.id;\n    invariant(\n      !isRedirectResult(result),\n      \"Cannot handle redirect results in processLoaderData\"\n    );\n    if (isErrorResult(result)) {\n      // Look upwards from the matched route for the closest ancestor\n      // error boundary, defaulting to the root match\n      let boundaryMatch = findNearestBoundary(matches, id);\n      let error = result.error;\n      // If we have a pending action error, we report it at the highest-route\n      // that throws a loader error, and then clear it out to indicate that\n      // it was consumed\n      if (pendingError) {\n        error = Object.values(pendingError)[0];\n        pendingError = undefined;\n      }\n\n      errors = errors || {};\n\n      // Prefer higher error values if lower errors bubble to the same boundary\n      if (errors[boundaryMatch.route.id] == null) {\n        errors[boundaryMatch.route.id] = error;\n      }\n\n      // Clear our any prior loaderData for the throwing route\n      loaderData[id] = undefined;\n\n      // Once we find our first (highest) error, we set the status code and\n      // prevent deeper status codes from overriding\n      if (!foundError) {\n        foundError = true;\n        statusCode = isRouteErrorResponse(result.error)\n          ? result.error.status\n          : 500;\n      }\n      if (result.headers) {\n        loaderHeaders[id] = result.headers;\n      }\n    } else {\n      if (isDeferredResult(result)) {\n        activeDeferreds.set(id, result.deferredData);\n        loaderData[id] = result.deferredData.data;\n      } else {\n        loaderData[id] = result.data;\n      }\n\n      // Error status codes always override success status codes, but if all\n      // loaders are successful we take the deepest status code.\n      if (\n        result.statusCode != null &&\n        result.statusCode !== 200 &&\n        !foundError\n      ) {\n        statusCode = result.statusCode;\n      }\n      if (result.headers) {\n        loaderHeaders[id] = result.headers;\n      }\n    }\n  });\n\n  // If we didn't consume the pending action error (i.e., all loaders\n  // resolved), then consume it here.  Also clear out any loaderData for the\n  // throwing route\n  if (pendingError) {\n    errors = pendingError;\n    loaderData[Object.keys(pendingError)[0]] = undefined;\n  }\n\n  return {\n    loaderData,\n    errors,\n    statusCode: statusCode || 200,\n    loaderHeaders,\n  };\n}\n\nfunction processLoaderData(\n  state: RouterState,\n  matches: AgnosticDataRouteMatch[],\n  matchesToLoad: AgnosticDataRouteMatch[],\n  results: DataResult[],\n  pendingError: RouteData | undefined,\n  revalidatingFetchers: RevalidatingFetcher[],\n  fetcherResults: DataResult[],\n  activeDeferreds: Map<string, DeferredData>\n): {\n  loaderData: RouterState[\"loaderData\"];\n  errors?: RouterState[\"errors\"];\n} {\n  let { loaderData, errors } = processRouteLoaderData(\n    matches,\n    matchesToLoad,\n    results,\n    pendingError,\n    activeDeferreds\n  );\n\n  // Process results from our revalidating fetchers\n  for (let index = 0; index < revalidatingFetchers.length; index++) {\n    let { key, match } = revalidatingFetchers[index];\n    invariant(\n      fetcherResults !== undefined && fetcherResults[index] !== undefined,\n      \"Did not find corresponding fetcher result\"\n    );\n    let result = fetcherResults[index];\n\n    // Process fetcher non-redirect errors\n    if (isErrorResult(result)) {\n      let boundaryMatch = findNearestBoundary(state.matches, match?.route.id);\n      if (!(errors && errors[boundaryMatch.route.id])) {\n        errors = {\n          ...errors,\n          [boundaryMatch.route.id]: result.error,\n        };\n      }\n      state.fetchers.delete(key);\n    } else if (isRedirectResult(result)) {\n      // Should never get here, redirects should get processed above, but we\n      // keep this to type narrow to a success result in the else\n      invariant(false, \"Unhandled fetcher revalidation redirect\");\n    } else if (isDeferredResult(result)) {\n      // Should never get here, deferred data should be awaited for fetchers\n      // in resolveDeferredResults\n      invariant(false, \"Unhandled fetcher deferred data\");\n    } else {\n      let doneFetcher: FetcherStates[\"Idle\"] = {\n        state: \"idle\",\n        data: result.data,\n        formMethod: undefined,\n        formAction: undefined,\n        formEncType: undefined,\n        formData: undefined,\n        \" _hasFetcherDoneAnything \": true,\n      };\n      state.fetchers.set(key, doneFetcher);\n    }\n  }\n\n  return { loaderData, errors };\n}\n\nfunction mergeLoaderData(\n  loaderData: RouteData,\n  newLoaderData: RouteData,\n  matches: AgnosticDataRouteMatch[],\n  errors: RouteData | null | undefined\n): RouteData {\n  let mergedLoaderData = { ...newLoaderData };\n  for (let match of matches) {\n    let id = match.route.id;\n    if (newLoaderData.hasOwnProperty(id)) {\n      if (newLoaderData[id] !== undefined) {\n        mergedLoaderData[id] = newLoaderData[id];\n      } else {\n        // No-op - this is so we ignore existing data if we have a key in the\n        // incoming object with an undefined value, which is how we unset a prior\n        // loaderData if we encounter a loader error\n      }\n    } else if (loaderData[id] !== undefined && match.route.loader) {\n      // Preserve existing keys not included in newLoaderData and where a loader\n      // wasn't removed by HMR\n      mergedLoaderData[id] = loaderData[id];\n    }\n\n    if (errors && errors.hasOwnProperty(id)) {\n      // Don't keep any loader data below the boundary\n      break;\n    }\n  }\n  return mergedLoaderData;\n}\n\n// Find the nearest error boundary, looking upwards from the leaf route (or the\n// route specified by routeId) for the closest ancestor error boundary,\n// defaulting to the root match\nfunction findNearestBoundary(\n  matches: AgnosticDataRouteMatch[],\n  routeId?: string\n): AgnosticDataRouteMatch {\n  let eligibleMatches = routeId\n    ? matches.slice(0, matches.findIndex((m) => m.route.id === routeId) + 1)\n    : [...matches];\n  return (\n    eligibleMatches.reverse().find((m) => m.route.hasErrorBoundary === true) ||\n    matches[0]\n  );\n}\n\nfunction getShortCircuitMatches(routes: AgnosticDataRouteObject[]): {\n  matches: AgnosticDataRouteMatch[];\n  route: AgnosticDataRouteObject;\n} {\n  // Prefer a root layout route if present, otherwise shim in a route object\n  let route = routes.find((r) => r.index || !r.path || r.path === \"/\") || {\n    id: `__shim-error-route__`,\n  };\n\n  return {\n    matches: [\n      {\n        params: {},\n        pathname: \"\",\n        pathnameBase: \"\",\n        route,\n      },\n    ],\n    route,\n  };\n}\n\nfunction getInternalRouterError(\n  status: number,\n  {\n    pathname,\n    routeId,\n    method,\n    type,\n  }: {\n    pathname?: string;\n    routeId?: string;\n    method?: string;\n    type?: \"defer-action\";\n  } = {}\n) {\n  let statusText = \"Unknown Server Error\";\n  let errorMessage = \"Unknown @remix-run/router error\";\n\n  if (status === 400) {\n    statusText = \"Bad Request\";\n    if (method && pathname && routeId) {\n      errorMessage =\n        `You made a ${method} request to \"${pathname}\" but ` +\n        `did not provide a \\`loader\\` for route \"${routeId}\", ` +\n        `so there is no way to handle the request.`;\n    } else if (type === \"defer-action\") {\n      errorMessage = \"defer() is not supported in actions\";\n    }\n  } else if (status === 403) {\n    statusText = \"Forbidden\";\n    errorMessage = `Route \"${routeId}\" does not match URL \"${pathname}\"`;\n  } else if (status === 404) {\n    statusText = \"Not Found\";\n    errorMessage = `No route matches URL \"${pathname}\"`;\n  } else if (status === 405) {\n    statusText = \"Method Not Allowed\";\n    if (method && pathname && routeId) {\n      errorMessage =\n        `You made a ${method.toUpperCase()} request to \"${pathname}\" but ` +\n        `did not provide an \\`action\\` for route \"${routeId}\", ` +\n        `so there is no way to handle the request.`;\n    } else if (method) {\n      errorMessage = `Invalid request method \"${method.toUpperCase()}\"`;\n    }\n  }\n\n  return new ErrorResponse(\n    status || 500,\n    statusText,\n    new Error(errorMessage),\n    true\n  );\n}\n\n// Find any returned redirect errors, starting from the lowest match\nfunction findRedirect(results: DataResult[]): RedirectResult | undefined {\n  for (let i = results.length - 1; i >= 0; i--) {\n    let result = results[i];\n    if (isRedirectResult(result)) {\n      return result;\n    }\n  }\n}\n\nfunction stripHashFromPath(path: To) {\n  let parsedPath = typeof path === \"string\" ? parsePath(path) : path;\n  return createPath({ ...parsedPath, hash: \"\" });\n}\n\nfunction isHashChangeOnly(a: Location, b: Location): boolean {\n  return (\n    a.pathname === b.pathname && a.search === b.search && a.hash !== b.hash\n  );\n}\n\nfunction isDeferredResult(result: DataResult): result is DeferredResult {\n  return result.type === ResultType.deferred;\n}\n\nfunction isErrorResult(result: DataResult): result is ErrorResult {\n  return result.type === ResultType.error;\n}\n\nfunction isRedirectResult(result?: DataResult): result is RedirectResult {\n  return (result && result.type) === ResultType.redirect;\n}\n\nexport function isDeferredData(value: any): value is DeferredData {\n  let deferred: DeferredData = value;\n  return (\n    deferred &&\n    typeof deferred === \"object\" &&\n    typeof deferred.data === \"object\" &&\n    typeof deferred.subscribe === \"function\" &&\n    typeof deferred.cancel === \"function\" &&\n    typeof deferred.resolveData === \"function\"\n  );\n}\n\nfunction isResponse(value: any): value is Response {\n  return (\n    value != null &&\n    typeof value.status === \"number\" &&\n    typeof value.statusText === \"string\" &&\n    typeof value.headers === \"object\" &&\n    typeof value.body !== \"undefined\"\n  );\n}\n\nfunction isRedirectResponse(result: any): result is Response {\n  if (!isResponse(result)) {\n    return false;\n  }\n\n  let status = result.status;\n  let location = result.headers.get(\"Location\");\n  return status >= 300 && status <= 399 && location != null;\n}\n\nfunction isQueryRouteResponse(obj: any): obj is QueryRouteResponse {\n  return (\n    obj &&\n    isResponse(obj.response) &&\n    (obj.type === ResultType.data || ResultType.error)\n  );\n}\n\nfunction isValidMethod(method: string): method is FormMethod | V7_FormMethod {\n  return validRequestMethods.has(method.toLowerCase() as FormMethod);\n}\n\nfunction isMutationMethod(\n  method: string\n): method is MutationFormMethod | V7_MutationFormMethod {\n  return validMutationMethods.has(method.toLowerCase() as MutationFormMethod);\n}\n\nasync function resolveDeferredResults(\n  currentMatches: AgnosticDataRouteMatch[],\n  matchesToLoad: (AgnosticDataRouteMatch | null)[],\n  results: DataResult[],\n  signal: AbortSignal,\n  isFetcher: boolean,\n  currentLoaderData?: RouteData\n) {\n  for (let index = 0; index < results.length; index++) {\n    let result = results[index];\n    let match = matchesToLoad[index];\n    // If we don't have a match, then we can have a deferred result to do\n    // anything with.  This is for revalidating fetchers where the route was\n    // removed during HMR\n    if (!match) {\n      continue;\n    }\n\n    let currentMatch = currentMatches.find(\n      (m) => m.route.id === match!.route.id\n    );\n    let isRevalidatingLoader =\n      currentMatch != null &&\n      !isNewRouteInstance(currentMatch, match) &&\n      (currentLoaderData && currentLoaderData[match.route.id]) !== undefined;\n\n    if (isDeferredResult(result) && (isFetcher || isRevalidatingLoader)) {\n      // Note: we do not have to touch activeDeferreds here since we race them\n      // against the signal in resolveDeferredData and they'll get aborted\n      // there if needed\n      await resolveDeferredData(result, signal, isFetcher).then((result) => {\n        if (result) {\n          results[index] = result || results[index];\n        }\n      });\n    }\n  }\n}\n\nasync function resolveDeferredData(\n  result: DeferredResult,\n  signal: AbortSignal,\n  unwrap = false\n): Promise<SuccessResult | ErrorResult | undefined> {\n  let aborted = await result.deferredData.resolveData(signal);\n  if (aborted) {\n    return;\n  }\n\n  if (unwrap) {\n    try {\n      return {\n        type: ResultType.data,\n        data: result.deferredData.unwrappedData,\n      };\n    } catch (e) {\n      // Handle any TrackedPromise._error values encountered while unwrapping\n      return {\n        type: ResultType.error,\n        error: e,\n      };\n    }\n  }\n\n  return {\n    type: ResultType.data,\n    data: result.deferredData.data,\n  };\n}\n\nfunction hasNakedIndexQuery(search: string): boolean {\n  return new URLSearchParams(search).getAll(\"index\").some((v) => v === \"\");\n}\n\n// Note: This should match the format exported by useMatches, so if you change\n// this please also change that :)  Eventually we'll DRY this up\nfunction createUseMatchesMatch(\n  match: AgnosticDataRouteMatch,\n  loaderData: RouteData\n): UseMatchesMatch {\n  let { route, pathname, params } = match;\n  return {\n    id: route.id,\n    pathname,\n    params,\n    data: loaderData[route.id] as unknown,\n    handle: route.handle as unknown,\n  };\n}\n\nfunction getTargetMatch(\n  matches: AgnosticDataRouteMatch[],\n  location: Location | string\n) {\n  let search =\n    typeof location === \"string\" ? parsePath(location).search : location.search;\n  if (\n    matches[matches.length - 1].route.index &&\n    hasNakedIndexQuery(search || \"\")\n  ) {\n    // Return the leaf index route when index is present\n    return matches[matches.length - 1];\n  }\n  // Otherwise grab the deepest \"path contributing\" match (ignoring index and\n  // pathless layout routes)\n  let pathMatches = getPathContributingMatches(matches);\n  return pathMatches[pathMatches.length - 1];\n}\n//#endregion\n","/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nimport * as React from \"react\";\n\n/**\n * inlined Object.is polyfill to avoid requiring consumers ship their own\n * https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/is\n */\nfunction isPolyfill(x: any, y: any) {\n  return (\n    (x === y && (x !== 0 || 1 / x === 1 / y)) || (x !== x && y !== y) // eslint-disable-line no-self-compare\n  );\n}\n\nconst is: (x: any, y: any) => boolean =\n  typeof Object.is === \"function\" ? Object.is : isPolyfill;\n\n// Intentionally not using named imports because Rollup uses dynamic\n// dispatch for CommonJS interop named imports.\nconst { useState, useEffect, useLayoutEffect, useDebugValue } = React;\n\nlet didWarnOld18Alpha = false;\nlet didWarnUncachedGetSnapshot = false;\n\n// Disclaimer: This shim breaks many of the rules of React, and only works\n// because of a very particular set of implementation details and assumptions\n// -- change any one of them and it will break. The most important assumption\n// is that updates are always synchronous, because concurrent rendering is\n// only available in versions of React that also have a built-in\n// useSyncExternalStore API. And we only use this shim when the built-in API\n// does not exist.\n//\n// Do not assume that the clever hacks used by this hook also work in general.\n// The point of this shim is to replace the need for hacks by other libraries.\nexport function useSyncExternalStore<T>(\n  subscribe: (fn: () => void) => () => void,\n  getSnapshot: () => T,\n  // Note: The shim does not use getServerSnapshot, because pre-18 versions of\n  // React do not expose a way to check if we're hydrating. So users of the shim\n  // will need to track that themselves and return the correct value\n  // from `getSnapshot`.\n  getServerSnapshot?: () => T\n): T {\n  if (__DEV__) {\n    if (!didWarnOld18Alpha) {\n      if (\"startTransition\" in React) {\n        didWarnOld18Alpha = true;\n        console.error(\n          \"You are using an outdated, pre-release alpha of React 18 that \" +\n            \"does not support useSyncExternalStore. The \" +\n            \"use-sync-external-store shim will not work correctly. Upgrade \" +\n            \"to a newer pre-release.\"\n        );\n      }\n    }\n  }\n\n  // Read the current snapshot from the store on every render. Again, this\n  // breaks the rules of React, and only works here because of specific\n  // implementation details, most importantly that updates are\n  // always synchronous.\n  const value = getSnapshot();\n  if (__DEV__) {\n    if (!didWarnUncachedGetSnapshot) {\n      const cachedValue = getSnapshot();\n      if (!is(value, cachedValue)) {\n        console.error(\n          \"The result of getSnapshot should be cached to avoid an infinite loop\"\n        );\n        didWarnUncachedGetSnapshot = true;\n      }\n    }\n  }\n\n  // Because updates are synchronous, we don't queue them. Instead we force a\n  // re-render whenever the subscribed state changes by updating an some\n  // arbitrary useState hook. Then, during render, we call getSnapshot to read\n  // the current value.\n  //\n  // Because we don't actually use the state returned by the useState hook, we\n  // can save a bit of memory by storing other stuff in that slot.\n  //\n  // To implement the early bailout, we need to track some things on a mutable\n  // object. Usually, we would put that in a useRef hook, but we can stash it in\n  // our useState hook instead.\n  //\n  // To force a re-render, we call forceUpdate({inst}). That works because the\n  // new object always fails an equality check.\n  const [{ inst }, forceUpdate] = useState({ inst: { value, getSnapshot } });\n\n  // Track the latest getSnapshot function with a ref. This needs to be updated\n  // in the layout phase so we can access it during the tearing check that\n  // happens on subscribe.\n  useLayoutEffect(() => {\n    inst.value = value;\n    inst.getSnapshot = getSnapshot;\n\n    // Whenever getSnapshot or subscribe changes, we need to check in the\n    // commit phase if there was an interleaved mutation. In concurrent mode\n    // this can happen all the time, but even in synchronous mode, an earlier\n    // effect may have mutated the store.\n    if (checkIfSnapshotChanged(inst)) {\n      // Force a re-render.\n      forceUpdate({ inst });\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [subscribe, value, getSnapshot]);\n\n  useEffect(() => {\n    // Check for changes right before subscribing. Subsequent changes will be\n    // detected in the subscription handler.\n    if (checkIfSnapshotChanged(inst)) {\n      // Force a re-render.\n      forceUpdate({ inst });\n    }\n    const handleStoreChange = () => {\n      // TODO: Because there is no cross-renderer API for batching updates, it's\n      // up to the consumer of this library to wrap their subscription event\n      // with unstable_batchedUpdates. Should we try to detect when this isn't\n      // the case and print a warning in development?\n\n      // The store changed. Check if the snapshot changed since the last time we\n      // read from the store.\n      if (checkIfSnapshotChanged(inst)) {\n        // Force a re-render.\n        forceUpdate({ inst });\n      }\n    };\n    // Subscribe to the store and return a clean-up function.\n    return subscribe(handleStoreChange);\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [subscribe]);\n\n  useDebugValue(value);\n  return value;\n}\n\nfunction checkIfSnapshotChanged(inst: any) {\n  const latestGetSnapshot = inst.getSnapshot;\n  const prevValue = inst.value;\n  try {\n    const nextValue = latestGetSnapshot();\n    return !is(prevValue, nextValue);\n  } catch (error) {\n    return true;\n  }\n}\n","/**\n * Inlined into the react-router repo since use-sync-external-store does not\n * provide a UMD-compatible package, so we need this to be able to distribute\n * UMD react-router bundles\n */\n\n/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @flow\n */\n\nimport * as React from \"react\";\n\nimport { useSyncExternalStore as client } from \"./useSyncExternalStoreShimClient\";\nimport { useSyncExternalStore as server } from \"./useSyncExternalStoreShimServer\";\n\nconst canUseDOM: boolean = !!(\n  typeof window !== \"undefined\" &&\n  typeof window.document !== \"undefined\" &&\n  typeof window.document.createElement !== \"undefined\"\n);\nconst isServerEnvironment = !canUseDOM;\nconst shim = isServerEnvironment ? server : client;\n\nexport const useSyncExternalStore =\n  \"useSyncExternalStore\" in React\n    ? ((module) => module.useSyncExternalStore)(React)\n    : shim;\n","/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @flow\n */\n\nexport function useSyncExternalStore<T>(\n  subscribe: (fn: () => void) => () => void,\n  getSnapshot: () => T,\n  getServerSnapshot?: () => T\n): T {\n  // Note: The shim does not use getServerSnapshot, because pre-18 versions of\n  // React do not expose a way to check if we're hydrating. So users of the shim\n  // will need to track that themselves and return the correct value\n  // from `getSnapshot`.\n  return getSnapshot();\n}\n","import * as React from \"react\";\nimport type {\n  AgnosticRouteMatch,\n  AgnosticIndexRouteObject,\n  AgnosticNonIndexRouteObject,\n  History,\n  Location,\n  Router,\n  StaticHandlerContext,\n  To,\n  TrackedPromise,\n  LazyRouteFunction,\n} from \"@remix-run/router\";\nimport type { Action as NavigationType } from \"@remix-run/router\";\n\n// Create react-specific types from the agnostic types in @remix-run/router to\n// export from react-router\nexport interface IndexRouteObject {\n  caseSensitive?: AgnosticIndexRouteObject[\"caseSensitive\"];\n  path?: AgnosticIndexRouteObject[\"path\"];\n  id?: AgnosticIndexRouteObject[\"id\"];\n  loader?: AgnosticIndexRouteObject[\"loader\"];\n  action?: AgnosticIndexRouteObject[\"action\"];\n  hasErrorBoundary?: AgnosticIndexRouteObject[\"hasErrorBoundary\"];\n  shouldRevalidate?: AgnosticIndexRouteObject[\"shouldRevalidate\"];\n  handle?: AgnosticIndexRouteObject[\"handle\"];\n  index: true;\n  children?: undefined;\n  element?: React.ReactNode | null;\n  errorElement?: React.ReactNode | null;\n  Component?: React.ComponentType | null;\n  ErrorBoundary?: React.ComponentType | null;\n  lazy?: LazyRouteFunction<IndexRouteObject>;\n}\n\nexport interface NonIndexRouteObject {\n  caseSensitive?: AgnosticNonIndexRouteObject[\"caseSensitive\"];\n  path?: AgnosticNonIndexRouteObject[\"path\"];\n  id?: AgnosticNonIndexRouteObject[\"id\"];\n  loader?: AgnosticNonIndexRouteObject[\"loader\"];\n  action?: AgnosticNonIndexRouteObject[\"action\"];\n  hasErrorBoundary?: AgnosticNonIndexRouteObject[\"hasErrorBoundary\"];\n  shouldRevalidate?: AgnosticNonIndexRouteObject[\"shouldRevalidate\"];\n  handle?: AgnosticNonIndexRouteObject[\"handle\"];\n  index?: false;\n  children?: RouteObject[];\n  element?: React.ReactNode | null;\n  errorElement?: React.ReactNode | null;\n  Component?: React.ComponentType | null;\n  ErrorBoundary?: React.ComponentType | null;\n  lazy?: LazyRouteFunction<NonIndexRouteObject>;\n}\n\nexport type RouteObject = IndexRouteObject | NonIndexRouteObject;\n\nexport type DataRouteObject = RouteObject & {\n  children?: DataRouteObject[];\n  id: string;\n};\n\nexport interface RouteMatch<\n  ParamKey extends string = string,\n  RouteObjectType extends RouteObject = RouteObject\n> extends AgnosticRouteMatch<ParamKey, RouteObjectType> {}\n\nexport interface DataRouteMatch extends RouteMatch<string, DataRouteObject> {}\n\nexport interface DataRouterContextObject extends NavigationContextObject {\n  router: Router;\n  staticContext?: StaticHandlerContext;\n}\n\nexport const DataRouterContext =\n  React.createContext<DataRouterContextObject | null>(null);\nif (__DEV__) {\n  DataRouterContext.displayName = \"DataRouter\";\n}\n\nexport const DataRouterStateContext = React.createContext<\n  Router[\"state\"] | null\n>(null);\nif (__DEV__) {\n  DataRouterStateContext.displayName = \"DataRouterState\";\n}\n\nexport const AwaitContext = React.createContext<TrackedPromise | null>(null);\nif (__DEV__) {\n  AwaitContext.displayName = \"Await\";\n}\n\nexport type RelativeRoutingType = \"route\" | \"path\";\n\nexport interface NavigateOptions {\n  replace?: boolean;\n  state?: any;\n  preventScrollReset?: boolean;\n  relative?: RelativeRoutingType;\n}\n\n/**\n * A Navigator is a \"location changer\"; it's how you get to different locations.\n *\n * Every history instance conforms to the Navigator interface, but the\n * distinction is useful primarily when it comes to the low-level <Router> API\n * where both the location and a navigator must be provided separately in order\n * to avoid \"tearing\" that may occur in a suspense-enabled app if the action\n * and/or location were to be read directly from the history instance.\n */\nexport interface Navigator {\n  createHref: History[\"createHref\"];\n  // Optional for backwards-compat with Router/HistoryRouter usage (edge case)\n  encodeLocation?: History[\"encodeLocation\"];\n  go: History[\"go\"];\n  push(to: To, state?: any, opts?: NavigateOptions): void;\n  replace(to: To, state?: any, opts?: NavigateOptions): void;\n}\n\ninterface NavigationContextObject {\n  basename: string;\n  navigator: Navigator;\n  static: boolean;\n}\n\nexport const NavigationContext = React.createContext<NavigationContextObject>(\n  null!\n);\n\nif (__DEV__) {\n  NavigationContext.displayName = \"Navigation\";\n}\n\ninterface LocationContextObject {\n  location: Location;\n  navigationType: NavigationType;\n}\n\nexport const LocationContext = React.createContext<LocationContextObject>(\n  null!\n);\n\nif (__DEV__) {\n  LocationContext.displayName = \"Location\";\n}\n\nexport interface RouteContextObject {\n  outlet: React.ReactElement | null;\n  matches: RouteMatch[];\n}\n\nexport const RouteContext = React.createContext<RouteContextObject>({\n  outlet: null,\n  matches: [],\n});\n\nif (__DEV__) {\n  RouteContext.displayName = \"Route\";\n}\n\nexport const RouteErrorContext = React.createContext<any>(null);\n\nif (__DEV__) {\n  RouteErrorContext.displayName = \"RouteError\";\n}\n","import * as React from \"react\";\nimport type {\n  Blocker,\n  BlockerFunction,\n  Location,\n  ParamParseKey,\n  Params,\n  Path,\n  PathMatch,\n  PathPattern,\n  Router as RemixRouter,\n  To,\n} from \"@remix-run/router\";\nimport {\n  Action as NavigationType,\n  UNSAFE_invariant as invariant,\n  isRouteErrorResponse,\n  joinPaths,\n  matchPath,\n  matchRoutes,\n  parsePath,\n  resolveTo,\n  UNSAFE_getPathContributingMatches as getPathContributingMatches,\n  UNSAFE_warning as warning,\n} from \"@remix-run/router\";\n\nimport type {\n  NavigateOptions,\n  RouteContextObject,\n  RouteMatch,\n  RouteObject,\n  DataRouteMatch,\n  RelativeRoutingType,\n} from \"./context\";\nimport {\n  DataRouterContext,\n  DataRouterStateContext,\n  LocationContext,\n  NavigationContext,\n  RouteContext,\n  RouteErrorContext,\n  AwaitContext,\n} from \"./context\";\n\n/**\n * Returns the full href for the given \"to\" value. This is useful for building\n * custom links that are also accessible and preserve right-click behavior.\n *\n * @see https://reactrouter.com/hooks/use-href\n */\nexport function useHref(\n  to: To,\n  { relative }: { relative?: RelativeRoutingType } = {}\n): string {\n  invariant(\n    useInRouterContext(),\n    // TODO: This error is probably because they somehow have 2 versions of the\n    // router loaded. We can help them understand how to avoid that.\n    `useHref() may be used only in the context of a <Router> component.`\n  );\n\n  let { basename, navigator } = React.useContext(NavigationContext);\n  let { hash, pathname, search } = useResolvedPath(to, { relative });\n\n  let joinedPathname = pathname;\n\n  // If we're operating within a basename, prepend it to the pathname prior\n  // to creating the href.  If this is a root navigation, then just use the raw\n  // basename which allows the basename to have full control over the presence\n  // of a trailing slash on root links\n  if (basename !== \"/\") {\n    joinedPathname =\n      pathname === \"/\" ? basename : joinPaths([basename, pathname]);\n  }\n\n  return navigator.createHref({ pathname: joinedPathname, search, hash });\n}\n\n/**\n * Returns true if this component is a descendant of a <Router>.\n *\n * @see https://reactrouter.com/hooks/use-in-router-context\n */\nexport function useInRouterContext(): boolean {\n  return React.useContext(LocationContext) != null;\n}\n\n/**\n * Returns the current location object, which represents the current URL in web\n * browsers.\n *\n * Note: If you're using this it may mean you're doing some of your own\n * \"routing\" in your app, and we'd like to know what your use case is. We may\n * be able to provide something higher-level to better suit your needs.\n *\n * @see https://reactrouter.com/hooks/use-location\n */\nexport function useLocation(): Location {\n  invariant(\n    useInRouterContext(),\n    // TODO: This error is probably because they somehow have 2 versions of the\n    // router loaded. We can help them understand how to avoid that.\n    `useLocation() may be used only in the context of a <Router> component.`\n  );\n\n  return React.useContext(LocationContext).location;\n}\n\n/**\n * Returns the current navigation action which describes how the router came to\n * the current location, either by a pop, push, or replace on the history stack.\n *\n * @see https://reactrouter.com/hooks/use-navigation-type\n */\nexport function useNavigationType(): NavigationType {\n  return React.useContext(LocationContext).navigationType;\n}\n\n/**\n * Returns a PathMatch object if the given pattern matches the current URL.\n * This is useful for components that need to know \"active\" state, e.g.\n * <NavLink>.\n *\n * @see https://reactrouter.com/hooks/use-match\n */\nexport function useMatch<\n  ParamKey extends ParamParseKey<Path>,\n  Path extends string\n>(pattern: PathPattern<Path> | Path): PathMatch<ParamKey> | null {\n  invariant(\n    useInRouterContext(),\n    // TODO: This error is probably because they somehow have 2 versions of the\n    // router loaded. We can help them understand how to avoid that.\n    `useMatch() may be used only in the context of a <Router> component.`\n  );\n\n  let { pathname } = useLocation();\n  return React.useMemo(\n    () => matchPath<ParamKey, Path>(pattern, pathname),\n    [pathname, pattern]\n  );\n}\n\n/**\n * The interface for the navigate() function returned from useNavigate().\n */\nexport interface NavigateFunction {\n  (to: To, options?: NavigateOptions): void;\n  (delta: number): void;\n}\n\n/**\n * Returns an imperative method for changing the location. Used by <Link>s, but\n * may also be used by other elements to change the location.\n *\n * @see https://reactrouter.com/hooks/use-navigate\n */\nexport function useNavigate(): NavigateFunction {\n  invariant(\n    useInRouterContext(),\n    // TODO: This error is probably because they somehow have 2 versions of the\n    // router loaded. We can help them understand how to avoid that.\n    `useNavigate() may be used only in the context of a <Router> component.`\n  );\n\n  let { basename, navigator } = React.useContext(NavigationContext);\n  let { matches } = React.useContext(RouteContext);\n  let { pathname: locationPathname } = useLocation();\n\n  let routePathnamesJson = JSON.stringify(\n    getPathContributingMatches(matches).map((match) => match.pathnameBase)\n  );\n\n  let activeRef = React.useRef(false);\n  React.useEffect(() => {\n    activeRef.current = true;\n  });\n\n  let navigate: NavigateFunction = React.useCallback(\n    (to: To | number, options: NavigateOptions = {}) => {\n      warning(\n        activeRef.current,\n        `You should call navigate() in a React.useEffect(), not when ` +\n          `your component is first rendered.`\n      );\n\n      if (!activeRef.current) return;\n\n      if (typeof to === \"number\") {\n        navigator.go(to);\n        return;\n      }\n\n      let path = resolveTo(\n        to,\n        JSON.parse(routePathnamesJson),\n        locationPathname,\n        options.relative === \"path\"\n      );\n\n      // If we're operating within a basename, prepend it to the pathname prior\n      // to handing off to history.  If this is a root navigation, then we\n      // navigate to the raw basename which allows the basename to have full\n      // control over the presence of a trailing slash on root links\n      if (basename !== \"/\") {\n        path.pathname =\n          path.pathname === \"/\"\n            ? basename\n            : joinPaths([basename, path.pathname]);\n      }\n\n      (!!options.replace ? navigator.replace : navigator.push)(\n        path,\n        options.state,\n        options\n      );\n    },\n    [basename, navigator, routePathnamesJson, locationPathname]\n  );\n\n  return navigate;\n}\n\nconst OutletContext = React.createContext<unknown>(null);\n\n/**\n * Returns the context (if provided) for the child route at this level of the route\n * hierarchy.\n * @see https://reactrouter.com/hooks/use-outlet-context\n */\nexport function useOutletContext<Context = unknown>(): Context {\n  return React.useContext(OutletContext) as Context;\n}\n\n/**\n * Returns the element for the child route at this level of the route\n * hierarchy. Used internally by <Outlet> to render child routes.\n *\n * @see https://reactrouter.com/hooks/use-outlet\n */\nexport function useOutlet(context?: unknown): React.ReactElement | null {\n  let outlet = React.useContext(RouteContext).outlet;\n  if (outlet) {\n    return (\n      <OutletContext.Provider value={context}>{outlet}</OutletContext.Provider>\n    );\n  }\n  return outlet;\n}\n\n/**\n * Returns an object of key/value pairs of the dynamic params from the current\n * URL that were matched by the route path.\n *\n * @see https://reactrouter.com/hooks/use-params\n */\nexport function useParams<\n  ParamsOrKey extends string | Record<string, string | undefined> = string\n>(): Readonly<\n  [ParamsOrKey] extends [string] ? Params<ParamsOrKey> : Partial<ParamsOrKey>\n> {\n  let { matches } = React.useContext(RouteContext);\n  let routeMatch = matches[matches.length - 1];\n  return routeMatch ? (routeMatch.params as any) : {};\n}\n\n/**\n * Resolves the pathname of the given `to` value against the current location.\n *\n * @see https://reactrouter.com/hooks/use-resolved-path\n */\nexport function useResolvedPath(\n  to: To,\n  { relative }: { relative?: RelativeRoutingType } = {}\n): Path {\n  let { matches } = React.useContext(RouteContext);\n  let { pathname: locationPathname } = useLocation();\n\n  let routePathnamesJson = JSON.stringify(\n    getPathContributingMatches(matches).map((match) => match.pathnameBase)\n  );\n\n  return React.useMemo(\n    () =>\n      resolveTo(\n        to,\n        JSON.parse(routePathnamesJson),\n        locationPathname,\n        relative === \"path\"\n      ),\n    [to, routePathnamesJson, locationPathname, relative]\n  );\n}\n\n/**\n * Returns the element of the route that matched the current location, prepared\n * with the correct context to render the remainder of the route tree. Route\n * elements in the tree must render an <Outlet> to render their child route's\n * element.\n *\n * @see https://reactrouter.com/hooks/use-routes\n */\nexport function useRoutes(\n  routes: RouteObject[],\n  locationArg?: Partial<Location> | string\n): React.ReactElement | null {\n  invariant(\n    useInRouterContext(),\n    // TODO: This error is probably because they somehow have 2 versions of the\n    // router loaded. We can help them understand how to avoid that.\n    `useRoutes() may be used only in the context of a <Router> component.`\n  );\n\n  let { navigator } = React.useContext(NavigationContext);\n  let dataRouterStateContext = React.useContext(DataRouterStateContext);\n  let { matches: parentMatches } = React.useContext(RouteContext);\n  let routeMatch = parentMatches[parentMatches.length - 1];\n  let parentParams = routeMatch ? routeMatch.params : {};\n  let parentPathname = routeMatch ? routeMatch.pathname : \"/\";\n  let parentPathnameBase = routeMatch ? routeMatch.pathnameBase : \"/\";\n  let parentRoute = routeMatch && routeMatch.route;\n\n  if (__DEV__) {\n    // You won't get a warning about 2 different <Routes> under a <Route>\n    // without a trailing *, but this is a best-effort warning anyway since we\n    // cannot even give the warning unless they land at the parent route.\n    //\n    // Example:\n    //\n    // <Routes>\n    //   {/* This route path MUST end with /* because otherwise\n    //       it will never match /blog/post/123 */}\n    //   <Route path=\"blog\" element={<Blog />} />\n    //   <Route path=\"blog/feed\" element={<BlogFeed />} />\n    // </Routes>\n    //\n    // function Blog() {\n    //   return (\n    //     <Routes>\n    //       <Route path=\"post/:id\" element={<Post />} />\n    //     </Routes>\n    //   );\n    // }\n    let parentPath = (parentRoute && parentRoute.path) || \"\";\n    warningOnce(\n      parentPathname,\n      !parentRoute || parentPath.endsWith(\"*\"),\n      `You rendered descendant <Routes> (or called \\`useRoutes()\\`) at ` +\n        `\"${parentPathname}\" (under <Route path=\"${parentPath}\">) but the ` +\n        `parent route path has no trailing \"*\". This means if you navigate ` +\n        `deeper, the parent won't match anymore and therefore the child ` +\n        `routes will never render.\\n\\n` +\n        `Please change the parent <Route path=\"${parentPath}\"> to <Route ` +\n        `path=\"${parentPath === \"/\" ? \"*\" : `${parentPath}/*`}\">.`\n    );\n  }\n\n  let locationFromContext = useLocation();\n\n  let location;\n  if (locationArg) {\n    let parsedLocationArg =\n      typeof locationArg === \"string\" ? parsePath(locationArg) : locationArg;\n\n    invariant(\n      parentPathnameBase === \"/\" ||\n        parsedLocationArg.pathname?.startsWith(parentPathnameBase),\n      `When overriding the location using \\`<Routes location>\\` or \\`useRoutes(routes, location)\\`, ` +\n        `the location pathname must begin with the portion of the URL pathname that was ` +\n        `matched by all parent routes. The current pathname base is \"${parentPathnameBase}\" ` +\n        `but pathname \"${parsedLocationArg.pathname}\" was given in the \\`location\\` prop.`\n    );\n\n    location = parsedLocationArg;\n  } else {\n    location = locationFromContext;\n  }\n\n  let pathname = location.pathname || \"/\";\n  let remainingPathname =\n    parentPathnameBase === \"/\"\n      ? pathname\n      : pathname.slice(parentPathnameBase.length) || \"/\";\n\n  let matches = matchRoutes(routes, { pathname: remainingPathname });\n\n  if (__DEV__) {\n    warning(\n      parentRoute || matches != null,\n      `No routes matched location \"${location.pathname}${location.search}${location.hash}\" `\n    );\n\n    warning(\n      matches == null ||\n        matches[matches.length - 1].route.element !== undefined ||\n        matches[matches.length - 1].route.Component !== undefined,\n      `Matched leaf route at location \"${location.pathname}${location.search}${location.hash}\" ` +\n        `does not have an element or Component. This means it will render an <Outlet /> with a ` +\n        `null value by default resulting in an \"empty\" page.`\n    );\n  }\n\n  let renderedMatches = _renderMatches(\n    matches &&\n      matches.map((match) =>\n        Object.assign({}, match, {\n          params: Object.assign({}, parentParams, match.params),\n          pathname: joinPaths([\n            parentPathnameBase,\n            // Re-encode pathnames that were decoded inside matchRoutes\n            navigator.encodeLocation\n              ? navigator.encodeLocation(match.pathname).pathname\n              : match.pathname,\n          ]),\n          pathnameBase:\n            match.pathnameBase === \"/\"\n              ? parentPathnameBase\n              : joinPaths([\n                  parentPathnameBase,\n                  // Re-encode pathnames that were decoded inside matchRoutes\n                  navigator.encodeLocation\n                    ? navigator.encodeLocation(match.pathnameBase).pathname\n                    : match.pathnameBase,\n                ]),\n        })\n      ),\n    parentMatches,\n    dataRouterStateContext || undefined\n  );\n\n  // When a user passes in a `locationArg`, the associated routes need to\n  // be wrapped in a new `LocationContext.Provider` in order for `useLocation`\n  // to use the scoped location instead of the global location.\n  if (locationArg && renderedMatches) {\n    return (\n      <LocationContext.Provider\n        value={{\n          location: {\n            pathname: \"/\",\n            search: \"\",\n            hash: \"\",\n            state: null,\n            key: \"default\",\n            ...location,\n          },\n          navigationType: NavigationType.Pop,\n        }}\n      >\n        {renderedMatches}\n      </LocationContext.Provider>\n    );\n  }\n\n  return renderedMatches;\n}\n\nfunction DefaultErrorComponent() {\n  let error = useRouteError();\n  let message = isRouteErrorResponse(error)\n    ? `${error.status} ${error.statusText}`\n    : error instanceof Error\n    ? error.message\n    : JSON.stringify(error);\n  let stack = error instanceof Error ? error.stack : null;\n  let lightgrey = \"rgba(200,200,200, 0.5)\";\n  let preStyles = { padding: \"0.5rem\", backgroundColor: lightgrey };\n  let codeStyles = { padding: \"2px 4px\", backgroundColor: lightgrey };\n\n  let devInfo = null;\n  if (__DEV__) {\n    devInfo = (\n      <>\n        <p>💿 Hey developer 👋</p>\n        <p>\n          You can provide a way better UX than this when your app throws errors\n          by providing your own&nbsp;\n          <code style={codeStyles}>ErrorBoundary</code> prop on&nbsp;\n          <code style={codeStyles}>&lt;Route&gt;</code>\n        </p>\n      </>\n    );\n  }\n\n  return (\n    <>\n      <h2>Unexpected Application Error!</h2>\n      <h3 style={{ fontStyle: \"italic\" }}>{message}</h3>\n      {stack ? <pre style={preStyles}>{stack}</pre> : null}\n      {devInfo}\n    </>\n  );\n}\n\ntype RenderErrorBoundaryProps = React.PropsWithChildren<{\n  location: Location;\n  error: any;\n  component: React.ReactNode;\n  routeContext: RouteContextObject;\n}>;\n\ntype RenderErrorBoundaryState = {\n  location: Location;\n  error: any;\n};\n\nexport class RenderErrorBoundary extends React.Component<\n  RenderErrorBoundaryProps,\n  RenderErrorBoundaryState\n> {\n  constructor(props: RenderErrorBoundaryProps) {\n    super(props);\n    this.state = {\n      location: props.location,\n      error: props.error,\n    };\n  }\n\n  static getDerivedStateFromError(error: any) {\n    return { error: error };\n  }\n\n  static getDerivedStateFromProps(\n    props: RenderErrorBoundaryProps,\n    state: RenderErrorBoundaryState\n  ) {\n    // When we get into an error state, the user will likely click \"back\" to the\n    // previous page that didn't have an error. Because this wraps the entire\n    // application, that will have no effect--the error page continues to display.\n    // This gives us a mechanism to recover from the error when the location changes.\n    //\n    // Whether we're in an error state or not, we update the location in state\n    // so that when we are in an error state, it gets reset when a new location\n    // comes in and the user recovers from the error.\n    if (state.location !== props.location) {\n      return {\n        error: props.error,\n        location: props.location,\n      };\n    }\n\n    // If we're not changing locations, preserve the location but still surface\n    // any new errors that may come through. We retain the existing error, we do\n    // this because the error provided from the app state may be cleared without\n    // the location changing.\n    return {\n      error: props.error || state.error,\n      location: state.location,\n    };\n  }\n\n  componentDidCatch(error: any, errorInfo: any) {\n    console.error(\n      \"React Router caught the following error during render\",\n      error,\n      errorInfo\n    );\n  }\n\n  render() {\n    return this.state.error ? (\n      <RouteContext.Provider value={this.props.routeContext}>\n        <RouteErrorContext.Provider\n          value={this.state.error}\n          children={this.props.component}\n        />\n      </RouteContext.Provider>\n    ) : (\n      this.props.children\n    );\n  }\n}\n\ninterface RenderedRouteProps {\n  routeContext: RouteContextObject;\n  match: RouteMatch<string, RouteObject>;\n  children: React.ReactNode | null;\n}\n\nfunction RenderedRoute({ routeContext, match, children }: RenderedRouteProps) {\n  let dataRouterContext = React.useContext(DataRouterContext);\n\n  // Track how deep we got in our render pass to emulate SSR componentDidCatch\n  // in a DataStaticRouter\n  if (\n    dataRouterContext &&\n    dataRouterContext.static &&\n    dataRouterContext.staticContext &&\n    (match.route.errorElement || match.route.ErrorBoundary)\n  ) {\n    dataRouterContext.staticContext._deepestRenderedBoundaryId = match.route.id;\n  }\n\n  return (\n    <RouteContext.Provider value={routeContext}>\n      {children}\n    </RouteContext.Provider>\n  );\n}\n\nexport function _renderMatches(\n  matches: RouteMatch[] | null,\n  parentMatches: RouteMatch[] = [],\n  dataRouterState?: RemixRouter[\"state\"]\n): React.ReactElement | null {\n  if (matches == null) {\n    if (dataRouterState?.errors) {\n      // Don't bail if we have data router errors so we can render them in the\n      // boundary.  Use the pre-matched (or shimmed) matches\n      matches = dataRouterState.matches as DataRouteMatch[];\n    } else {\n      return null;\n    }\n  }\n\n  let renderedMatches = matches;\n\n  // If we have data errors, trim matches to the highest error boundary\n  let errors = dataRouterState?.errors;\n  if (errors != null) {\n    let errorIndex = renderedMatches.findIndex(\n      (m) => m.route.id && errors?.[m.route.id]\n    );\n    invariant(\n      errorIndex >= 0,\n      `Could not find a matching route for the current errors: ${errors}`\n    );\n    renderedMatches = renderedMatches.slice(\n      0,\n      Math.min(renderedMatches.length, errorIndex + 1)\n    );\n  }\n\n  return renderedMatches.reduceRight((outlet, match, index) => {\n    let error = match.route.id ? errors?.[match.route.id] : null;\n    // Only data routers handle errors\n    let errorElement: React.ReactNode | null = null;\n    if (dataRouterState) {\n      if (match.route.ErrorBoundary) {\n        errorElement = <match.route.ErrorBoundary />;\n      } else if (match.route.errorElement) {\n        errorElement = match.route.errorElement;\n      } else {\n        errorElement = <DefaultErrorComponent />;\n      }\n    }\n    let matches = parentMatches.concat(renderedMatches.slice(0, index + 1));\n    let getChildren = () => {\n      let children: React.ReactNode = outlet;\n      if (error) {\n        children = errorElement;\n      } else if (match.route.Component) {\n        children = <match.route.Component />;\n      } else if (match.route.element) {\n        children = match.route.element;\n      }\n      return (\n        <RenderedRoute\n          match={match}\n          routeContext={{ outlet, matches }}\n          children={children}\n        />\n      );\n    };\n    // Only wrap in an error boundary within data router usages when we have an\n    // ErrorBoundary/errorElement on this route.  Otherwise let it bubble up to\n    // an ancestor ErrorBoundary/errorElement\n    return dataRouterState &&\n      (match.route.ErrorBoundary || match.route.errorElement || index === 0) ? (\n      <RenderErrorBoundary\n        location={dataRouterState.location}\n        component={errorElement}\n        error={error}\n        children={getChildren()}\n        routeContext={{ outlet: null, matches }}\n      />\n    ) : (\n      getChildren()\n    );\n  }, null as React.ReactElement | null);\n}\n\nenum DataRouterHook {\n  UseBlocker = \"useBlocker\",\n  UseRevalidator = \"useRevalidator\",\n}\n\nenum DataRouterStateHook {\n  UseBlocker = \"useBlocker\",\n  UseLoaderData = \"useLoaderData\",\n  UseActionData = \"useActionData\",\n  UseRouteError = \"useRouteError\",\n  UseNavigation = \"useNavigation\",\n  UseRouteLoaderData = \"useRouteLoaderData\",\n  UseMatches = \"useMatches\",\n  UseRevalidator = \"useRevalidator\",\n}\n\nfunction getDataRouterConsoleError(\n  hookName: DataRouterHook | DataRouterStateHook\n) {\n  return `${hookName} must be used within a data router.  See https://reactrouter.com/routers/picking-a-router.`;\n}\n\nfunction useDataRouterContext(hookName: DataRouterHook) {\n  let ctx = React.useContext(DataRouterContext);\n  invariant(ctx, getDataRouterConsoleError(hookName));\n  return ctx;\n}\n\nfunction useDataRouterState(hookName: DataRouterStateHook) {\n  let state = React.useContext(DataRouterStateContext);\n  invariant(state, getDataRouterConsoleError(hookName));\n  return state;\n}\n\nfunction useRouteContext(hookName: DataRouterStateHook) {\n  let route = React.useContext(RouteContext);\n  invariant(route, getDataRouterConsoleError(hookName));\n  return route;\n}\n\nfunction useCurrentRouteId(hookName: DataRouterStateHook) {\n  let route = useRouteContext(hookName);\n  let thisRoute = route.matches[route.matches.length - 1];\n  invariant(\n    thisRoute.route.id,\n    `${hookName} can only be used on routes that contain a unique \"id\"`\n  );\n  return thisRoute.route.id;\n}\n\n/**\n * Returns the current navigation, defaulting to an \"idle\" navigation when\n * no navigation is in progress\n */\nexport function useNavigation() {\n  let state = useDataRouterState(DataRouterStateHook.UseNavigation);\n  return state.navigation;\n}\n\n/**\n * Returns a revalidate function for manually triggering revalidation, as well\n * as the current state of any manual revalidations\n */\nexport function useRevalidator() {\n  let dataRouterContext = useDataRouterContext(DataRouterHook.UseRevalidator);\n  let state = useDataRouterState(DataRouterStateHook.UseRevalidator);\n  return {\n    revalidate: dataRouterContext.router.revalidate,\n    state: state.revalidation,\n  };\n}\n\n/**\n * Returns the active route matches, useful for accessing loaderData for\n * parent/child routes or the route \"handle\" property\n */\nexport function useMatches() {\n  let { matches, loaderData } = useDataRouterState(\n    DataRouterStateHook.UseMatches\n  );\n  return React.useMemo(\n    () =>\n      matches.map((match) => {\n        let { pathname, params } = match;\n        // Note: This structure matches that created by createUseMatchesMatch\n        // in the @remix-run/router , so if you change this please also change\n        // that :)  Eventually we'll DRY this up\n        return {\n          id: match.route.id,\n          pathname,\n          params,\n          data: loaderData[match.route.id] as unknown,\n          handle: match.route.handle as unknown,\n        };\n      }),\n    [matches, loaderData]\n  );\n}\n\n/**\n * Returns the loader data for the nearest ancestor Route loader\n */\nexport function useLoaderData(): unknown {\n  let state = useDataRouterState(DataRouterStateHook.UseLoaderData);\n  let routeId = useCurrentRouteId(DataRouterStateHook.UseLoaderData);\n\n  if (state.errors && state.errors[routeId] != null) {\n    console.error(\n      `You cannot \\`useLoaderData\\` in an errorElement (routeId: ${routeId})`\n    );\n    return undefined;\n  }\n  return state.loaderData[routeId];\n}\n\n/**\n * Returns the loaderData for the given routeId\n */\nexport function useRouteLoaderData(routeId: string): unknown {\n  let state = useDataRouterState(DataRouterStateHook.UseRouteLoaderData);\n  return state.loaderData[routeId];\n}\n\n/**\n * Returns the action data for the nearest ancestor Route action\n */\nexport function useActionData(): unknown {\n  let state = useDataRouterState(DataRouterStateHook.UseActionData);\n\n  let route = React.useContext(RouteContext);\n  invariant(route, `useActionData must be used inside a RouteContext`);\n\n  return Object.values(state?.actionData || {})[0];\n}\n\n/**\n * Returns the nearest ancestor Route error, which could be a loader/action\n * error or a render error.  This is intended to be called from your\n * ErrorBoundary/errorElement to display a proper error message.\n */\nexport function useRouteError(): unknown {\n  let error = React.useContext(RouteErrorContext);\n  let state = useDataRouterState(DataRouterStateHook.UseRouteError);\n  let routeId = useCurrentRouteId(DataRouterStateHook.UseRouteError);\n\n  // If this was a render error, we put it in a RouteError context inside\n  // of RenderErrorBoundary\n  if (error) {\n    return error;\n  }\n\n  // Otherwise look for errors from our data router state\n  return state.errors?.[routeId];\n}\n\n/**\n * Returns the happy-path data from the nearest ancestor <Await /> value\n */\nexport function useAsyncValue(): unknown {\n  let value = React.useContext(AwaitContext);\n  return value?._data;\n}\n\n/**\n * Returns the error from the nearest ancestor <Await /> value\n */\nexport function useAsyncError(): unknown {\n  let value = React.useContext(AwaitContext);\n  return value?._error;\n}\n\nlet blockerId = 0;\n\n/**\n * Allow the application to block navigations within the SPA and present the\n * user a confirmation dialog to confirm the navigation.  Mostly used to avoid\n * using half-filled form data.  This does not handle hard-reloads or\n * cross-origin navigations.\n */\nexport function useBlocker(shouldBlock: boolean | BlockerFunction): Blocker {\n  let { router } = useDataRouterContext(DataRouterHook.UseBlocker);\n  let state = useDataRouterState(DataRouterStateHook.UseBlocker);\n  let [blockerKey] = React.useState(() => String(++blockerId));\n\n  let blockerFunction = React.useCallback<BlockerFunction>(\n    (args) => {\n      return typeof shouldBlock === \"function\"\n        ? !!shouldBlock(args)\n        : !!shouldBlock;\n    },\n    [shouldBlock]\n  );\n\n  let blocker = router.getBlocker(blockerKey, blockerFunction);\n\n  // Cleanup on unmount\n  React.useEffect(\n    () => () => router.deleteBlocker(blockerKey),\n    [router, blockerKey]\n  );\n\n  // Prefer the blocker from state since DataRouterContext is memoized so this\n  // ensures we update on blocker state updates\n  return state.blockers.get(blockerKey) || blocker;\n}\n\nconst alreadyWarned: Record<string, boolean> = {};\n\nfunction warningOnce(key: string, cond: boolean, message: string) {\n  if (!cond && !alreadyWarned[key]) {\n    alreadyWarned[key] = true;\n    warning(false, message);\n  }\n}\n","import * as React from \"react\";\nimport type {\n  TrackedPromise,\n  InitialEntry,\n  Location,\n  MemoryHistory,\n  Router as RemixRouter,\n  RouterState,\n  To,\n  LazyRouteFunction,\n} from \"@remix-run/router\";\nimport {\n  Action as NavigationType,\n  AbortedDeferredError,\n  createMemoryHistory,\n  UNSAFE_invariant as invariant,\n  parsePath,\n  stripBasename,\n  UNSAFE_warning as warning,\n} from \"@remix-run/router\";\nimport { useSyncExternalStore as useSyncExternalStoreShim } from \"./use-sync-external-store-shim\";\n\nimport type {\n  DataRouteObject,\n  IndexRouteObject,\n  RouteMatch,\n  RouteObject,\n  Navigator,\n  NonIndexRouteObject,\n  RelativeRoutingType,\n} from \"./context\";\nimport {\n  LocationContext,\n  NavigationContext,\n  DataRouterContext,\n  DataRouterStateContext,\n  AwaitContext,\n} from \"./context\";\nimport {\n  useAsyncValue,\n  useInRouterContext,\n  useNavigate,\n  useOutlet,\n  useRoutes,\n  _renderMatches,\n} from \"./hooks\";\n\nexport interface RouterProviderProps {\n  fallbackElement?: React.ReactNode;\n  router: RemixRouter;\n}\n\n/**\n * Given a Remix Router instance, render the appropriate UI\n */\nexport function RouterProvider({\n  fallbackElement,\n  router,\n}: RouterProviderProps): React.ReactElement {\n  let getState = React.useCallback(() => router.state, [router]);\n\n  // Sync router state to our component state to force re-renders\n  let state: RouterState = useSyncExternalStoreShim(\n    router.subscribe,\n    getState,\n    // We have to provide this so React@18 doesn't complain during hydration,\n    // but we pass our serialized hydration data into the router so state here\n    // is already synced with what the server saw\n    getState\n  );\n\n  let navigator = React.useMemo((): Navigator => {\n    return {\n      createHref: router.createHref,\n      encodeLocation: router.encodeLocation,\n      go: (n) => router.navigate(n),\n      push: (to, state, opts) =>\n        router.navigate(to, {\n          state,\n          preventScrollReset: opts?.preventScrollReset,\n        }),\n      replace: (to, state, opts) =>\n        router.navigate(to, {\n          replace: true,\n          state,\n          preventScrollReset: opts?.preventScrollReset,\n        }),\n    };\n  }, [router]);\n\n  let basename = router.basename || \"/\";\n\n  let dataRouterContext = React.useMemo(\n    () => ({\n      router,\n      navigator,\n      static: false,\n      basename,\n    }),\n    [router, navigator, basename]\n  );\n\n  // The fragment and {null} here are important!  We need them to keep React 18's\n  // useId happy when we are server-rendering since we may have a <script> here\n  // containing the hydrated server-side staticContext (from StaticRouterProvider).\n  // useId relies on the component tree structure to generate deterministic id's\n  // so we need to ensure it remains the same on the client even though\n  // we don't need the <script> tag\n  return (\n    <>\n      <DataRouterContext.Provider value={dataRouterContext}>\n        <DataRouterStateContext.Provider value={state}>\n          <Router\n            basename={router.basename}\n            location={router.state.location}\n            navigationType={router.state.historyAction}\n            navigator={navigator}\n          >\n            {router.state.initialized ? <Routes /> : fallbackElement}\n          </Router>\n        </DataRouterStateContext.Provider>\n      </DataRouterContext.Provider>\n      {null}\n    </>\n  );\n}\n\nexport interface MemoryRouterProps {\n  basename?: string;\n  children?: React.ReactNode;\n  initialEntries?: InitialEntry[];\n  initialIndex?: number;\n}\n\n/**\n * A <Router> that stores all entries in memory.\n *\n * @see https://reactrouter.com/router-components/memory-router\n */\nexport function MemoryRouter({\n  basename,\n  children,\n  initialEntries,\n  initialIndex,\n}: MemoryRouterProps): React.ReactElement {\n  let historyRef = React.useRef<MemoryHistory>();\n  if (historyRef.current == null) {\n    historyRef.current = createMemoryHistory({\n      initialEntries,\n      initialIndex,\n      v5Compat: true,\n    });\n  }\n\n  let history = historyRef.current;\n  let [state, setState] = React.useState({\n    action: history.action,\n    location: history.location,\n  });\n\n  React.useLayoutEffect(() => history.listen(setState), [history]);\n\n  return (\n    <Router\n      basename={basename}\n      children={children}\n      location={state.location}\n      navigationType={state.action}\n      navigator={history}\n    />\n  );\n}\n\nexport interface NavigateProps {\n  to: To;\n  replace?: boolean;\n  state?: any;\n  relative?: RelativeRoutingType;\n}\n\n/**\n * Changes the current location.\n *\n * Note: This API is mostly useful in React.Component subclasses that are not\n * able to use hooks. In functional components, we recommend you use the\n * `useNavigate` hook instead.\n *\n * @see https://reactrouter.com/components/navigate\n */\nexport function Navigate({\n  to,\n  replace,\n  state,\n  relative,\n}: NavigateProps): null {\n  invariant(\n    useInRouterContext(),\n    // TODO: This error is probably because they somehow have 2 versions of\n    // the router loaded. We can help them understand how to avoid that.\n    `<Navigate> may be used only in the context of a <Router> component.`\n  );\n\n  warning(\n    !React.useContext(NavigationContext).static,\n    `<Navigate> must not be used on the initial render in a <StaticRouter>. ` +\n      `This is a no-op, but you should modify your code so the <Navigate> is ` +\n      `only ever rendered in response to some user interaction or state change.`\n  );\n\n  let dataRouterState = React.useContext(DataRouterStateContext);\n  let navigate = useNavigate();\n\n  React.useEffect(() => {\n    // Avoid kicking off multiple navigations if we're in the middle of a\n    // data-router navigation, since components get re-rendered when we enter\n    // a submitting/loading state\n    if (dataRouterState && dataRouterState.navigation.state !== \"idle\") {\n      return;\n    }\n    navigate(to, { replace, state, relative });\n  });\n\n  return null;\n}\n\nexport interface OutletProps {\n  context?: unknown;\n}\n\n/**\n * Renders the child route's element, if there is one.\n *\n * @see https://reactrouter.com/components/outlet\n */\nexport function Outlet(props: OutletProps): React.ReactElement | null {\n  return useOutlet(props.context);\n}\n\nexport interface PathRouteProps {\n  caseSensitive?: NonIndexRouteObject[\"caseSensitive\"];\n  path?: NonIndexRouteObject[\"path\"];\n  id?: NonIndexRouteObject[\"id\"];\n  lazy?: LazyRouteFunction<NonIndexRouteObject>;\n  loader?: NonIndexRouteObject[\"loader\"];\n  action?: NonIndexRouteObject[\"action\"];\n  hasErrorBoundary?: NonIndexRouteObject[\"hasErrorBoundary\"];\n  shouldRevalidate?: NonIndexRouteObject[\"shouldRevalidate\"];\n  handle?: NonIndexRouteObject[\"handle\"];\n  index?: false;\n  children?: React.ReactNode;\n  element?: React.ReactNode | null;\n  errorElement?: React.ReactNode | null;\n  Component?: React.ComponentType | null;\n  ErrorBoundary?: React.ComponentType | null;\n}\n\nexport interface LayoutRouteProps extends PathRouteProps {}\n\nexport interface IndexRouteProps {\n  caseSensitive?: IndexRouteObject[\"caseSensitive\"];\n  path?: IndexRouteObject[\"path\"];\n  id?: IndexRouteObject[\"id\"];\n  lazy?: LazyRouteFunction<IndexRouteObject>;\n  loader?: IndexRouteObject[\"loader\"];\n  action?: IndexRouteObject[\"action\"];\n  hasErrorBoundary?: IndexRouteObject[\"hasErrorBoundary\"];\n  shouldRevalidate?: IndexRouteObject[\"shouldRevalidate\"];\n  handle?: IndexRouteObject[\"handle\"];\n  index: true;\n  children?: undefined;\n  element?: React.ReactNode | null;\n  errorElement?: React.ReactNode | null;\n  Component?: React.ComponentType | null;\n  ErrorBoundary?: React.ComponentType | null;\n}\n\nexport type RouteProps = PathRouteProps | LayoutRouteProps | IndexRouteProps;\n\n/**\n * Declares an element that should be rendered at a certain URL path.\n *\n * @see https://reactrouter.com/components/route\n */\nexport function Route(_props: RouteProps): React.ReactElement | null {\n  invariant(\n    false,\n    `A <Route> is only ever to be used as the child of <Routes> element, ` +\n      `never rendered directly. Please wrap your <Route> in a <Routes>.`\n  );\n}\n\nexport interface RouterProps {\n  basename?: string;\n  children?: React.ReactNode;\n  location: Partial<Location> | string;\n  navigationType?: NavigationType;\n  navigator: Navigator;\n  static?: boolean;\n}\n\n/**\n * Provides location context for the rest of the app.\n *\n * Note: You usually won't render a <Router> directly. Instead, you'll render a\n * router that is more specific to your environment such as a <BrowserRouter>\n * in web browsers or a <StaticRouter> for server rendering.\n *\n * @see https://reactrouter.com/router-components/router\n */\nexport function Router({\n  basename: basenameProp = \"/\",\n  children = null,\n  location: locationProp,\n  navigationType = NavigationType.Pop,\n  navigator,\n  static: staticProp = false,\n}: RouterProps): React.ReactElement | null {\n  invariant(\n    !useInRouterContext(),\n    `You cannot render a <Router> inside another <Router>.` +\n      ` You should never have more than one in your app.`\n  );\n\n  // Preserve trailing slashes on basename, so we can let the user control\n  // the enforcement of trailing slashes throughout the app\n  let basename = basenameProp.replace(/^\\/*/, \"/\");\n  let navigationContext = React.useMemo(\n    () => ({ basename, navigator, static: staticProp }),\n    [basename, navigator, staticProp]\n  );\n\n  if (typeof locationProp === \"string\") {\n    locationProp = parsePath(locationProp);\n  }\n\n  let {\n    pathname = \"/\",\n    search = \"\",\n    hash = \"\",\n    state = null,\n    key = \"default\",\n  } = locationProp;\n\n  let locationContext = React.useMemo(() => {\n    let trailingPathname = stripBasename(pathname, basename);\n\n    if (trailingPathname == null) {\n      return null;\n    }\n\n    return {\n      location: {\n        pathname: trailingPathname,\n        search,\n        hash,\n        state,\n        key,\n      },\n      navigationType,\n    };\n  }, [basename, pathname, search, hash, state, key, navigationType]);\n\n  warning(\n    locationContext != null,\n    `<Router basename=\"${basename}\"> is not able to match the URL ` +\n      `\"${pathname}${search}${hash}\" because it does not start with the ` +\n      `basename, so the <Router> won't render anything.`\n  );\n\n  if (locationContext == null) {\n    return null;\n  }\n\n  return (\n    <NavigationContext.Provider value={navigationContext}>\n      <LocationContext.Provider children={children} value={locationContext} />\n    </NavigationContext.Provider>\n  );\n}\n\nexport interface RoutesProps {\n  children?: React.ReactNode;\n  location?: Partial<Location> | string;\n}\n\n/**\n * A container for a nested tree of <Route> elements that renders the branch\n * that best matches the current location.\n *\n * @see https://reactrouter.com/components/routes\n */\nexport function Routes({\n  children,\n  location,\n}: RoutesProps): React.ReactElement | null {\n  let dataRouterContext = React.useContext(DataRouterContext);\n  // When in a DataRouterContext _without_ children, we use the router routes\n  // directly.  If we have children, then we're in a descendant tree and we\n  // need to use child routes.\n  let routes =\n    dataRouterContext && !children\n      ? (dataRouterContext.router.routes as DataRouteObject[])\n      : createRoutesFromChildren(children);\n  return useRoutes(routes, location);\n}\n\nexport interface AwaitResolveRenderFunction {\n  (data: Awaited<any>): React.ReactNode;\n}\n\nexport interface AwaitProps {\n  children: React.ReactNode | AwaitResolveRenderFunction;\n  errorElement?: React.ReactNode;\n  resolve: TrackedPromise | any;\n}\n\n/**\n * Component to use for rendering lazily loaded data from returning defer()\n * in a loader function\n */\nexport function Await({ children, errorElement, resolve }: AwaitProps) {\n  return (\n    <AwaitErrorBoundary resolve={resolve} errorElement={errorElement}>\n      <ResolveAwait>{children}</ResolveAwait>\n    </AwaitErrorBoundary>\n  );\n}\n\ntype AwaitErrorBoundaryProps = React.PropsWithChildren<{\n  errorElement?: React.ReactNode;\n  resolve: TrackedPromise | any;\n}>;\n\ntype AwaitErrorBoundaryState = {\n  error: any;\n};\n\nenum AwaitRenderStatus {\n  pending,\n  success,\n  error,\n}\n\nconst neverSettledPromise = new Promise(() => {});\n\nclass AwaitErrorBoundary extends React.Component<\n  AwaitErrorBoundaryProps,\n  AwaitErrorBoundaryState\n> {\n  constructor(props: AwaitErrorBoundaryProps) {\n    super(props);\n    this.state = { error: null };\n  }\n\n  static getDerivedStateFromError(error: any) {\n    return { error };\n  }\n\n  componentDidCatch(error: any, errorInfo: any) {\n    console.error(\n      \"<Await> caught the following error during render\",\n      error,\n      errorInfo\n    );\n  }\n\n  render() {\n    let { children, errorElement, resolve } = this.props;\n\n    let promise: TrackedPromise | null = null;\n    let status: AwaitRenderStatus = AwaitRenderStatus.pending;\n\n    if (!(resolve instanceof Promise)) {\n      // Didn't get a promise - provide as a resolved promise\n      status = AwaitRenderStatus.success;\n      promise = Promise.resolve();\n      Object.defineProperty(promise, \"_tracked\", { get: () => true });\n      Object.defineProperty(promise, \"_data\", { get: () => resolve });\n    } else if (this.state.error) {\n      // Caught a render error, provide it as a rejected promise\n      status = AwaitRenderStatus.error;\n      let renderError = this.state.error;\n      promise = Promise.reject().catch(() => {}); // Avoid unhandled rejection warnings\n      Object.defineProperty(promise, \"_tracked\", { get: () => true });\n      Object.defineProperty(promise, \"_error\", { get: () => renderError });\n    } else if ((resolve as TrackedPromise)._tracked) {\n      // Already tracked promise - check contents\n      promise = resolve;\n      status =\n        promise._error !== undefined\n          ? AwaitRenderStatus.error\n          : promise._data !== undefined\n          ? AwaitRenderStatus.success\n          : AwaitRenderStatus.pending;\n    } else {\n      // Raw (untracked) promise - track it\n      status = AwaitRenderStatus.pending;\n      Object.defineProperty(resolve, \"_tracked\", { get: () => true });\n      promise = resolve.then(\n        (data: any) =>\n          Object.defineProperty(resolve, \"_data\", { get: () => data }),\n        (error: any) =>\n          Object.defineProperty(resolve, \"_error\", { get: () => error })\n      );\n    }\n\n    if (\n      status === AwaitRenderStatus.error &&\n      promise._error instanceof AbortedDeferredError\n    ) {\n      // Freeze the UI by throwing a never resolved promise\n      throw neverSettledPromise;\n    }\n\n    if (status === AwaitRenderStatus.error && !errorElement) {\n      // No errorElement, throw to the nearest route-level error boundary\n      throw promise._error;\n    }\n\n    if (status === AwaitRenderStatus.error) {\n      // Render via our errorElement\n      return <AwaitContext.Provider value={promise} children={errorElement} />;\n    }\n\n    if (status === AwaitRenderStatus.success) {\n      // Render children with resolved value\n      return <AwaitContext.Provider value={promise} children={children} />;\n    }\n\n    // Throw to the suspense boundary\n    throw promise;\n  }\n}\n\n/**\n * @private\n * Indirection to leverage useAsyncValue for a render-prop API on <Await>\n */\nfunction ResolveAwait({\n  children,\n}: {\n  children: React.ReactNode | AwaitResolveRenderFunction;\n}) {\n  let data = useAsyncValue();\n  let toRender = typeof children === \"function\" ? children(data) : children;\n  return <>{toRender}</>;\n}\n\n///////////////////////////////////////////////////////////////////////////////\n// UTILS\n///////////////////////////////////////////////////////////////////////////////\n\n/**\n * Creates a route config from a React \"children\" object, which is usually\n * either a `<Route>` element or an array of them. Used internally by\n * `<Routes>` to create a route config from its children.\n *\n * @see https://reactrouter.com/utils/create-routes-from-children\n */\nexport function createRoutesFromChildren(\n  children: React.ReactNode,\n  parentPath: number[] = []\n): RouteObject[] {\n  let routes: RouteObject[] = [];\n\n  React.Children.forEach(children, (element, index) => {\n    if (!React.isValidElement(element)) {\n      // Ignore non-elements. This allows people to more easily inline\n      // conditionals in their route config.\n      return;\n    }\n\n    let treePath = [...parentPath, index];\n\n    if (element.type === React.Fragment) {\n      // Transparently support React.Fragment and its children.\n      routes.push.apply(\n        routes,\n        createRoutesFromChildren(element.props.children, treePath)\n      );\n      return;\n    }\n\n    invariant(\n      element.type === Route,\n      `[${\n        typeof element.type === \"string\" ? element.type : element.type.name\n      }] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`\n    );\n\n    invariant(\n      !element.props.index || !element.props.children,\n      \"An index route cannot have child routes.\"\n    );\n\n    let route: RouteObject = {\n      id: element.props.id || treePath.join(\"-\"),\n      caseSensitive: element.props.caseSensitive,\n      element: element.props.element,\n      Component: element.props.Component,\n      index: element.props.index,\n      path: element.props.path,\n      loader: element.props.loader,\n      action: element.props.action,\n      errorElement: element.props.errorElement,\n      ErrorBoundary: element.props.ErrorBoundary,\n      hasErrorBoundary:\n        element.props.ErrorBoundary != null ||\n        element.props.errorElement != null,\n      shouldRevalidate: element.props.shouldRevalidate,\n      handle: element.props.handle,\n      lazy: element.props.lazy,\n    };\n\n    if (element.props.children) {\n      route.children = createRoutesFromChildren(\n        element.props.children,\n        treePath\n      );\n    }\n\n    routes.push(route);\n  });\n\n  return routes;\n}\n\n/**\n * Renders the result of `matchRoutes()` into a React element.\n */\nexport function renderMatches(\n  matches: RouteMatch[] | null\n): React.ReactElement | null {\n  return _renderMatches(matches);\n}\n","/**\n * NOTE: If you refactor this to split up the modules into separate files,\n * you'll need to update the rollup config for react-router-dom-v5-compat.\n */\nimport * as React from \"react\";\nimport type {\n  NavigateOptions,\n  RelativeRoutingType,\n  RouteObject,\n  To,\n} from \"react-router\";\nimport {\n  Router,\n  createPath,\n  useHref,\n  useLocation,\n  useMatches,\n  useNavigate,\n  useNavigation,\n  useResolvedPath,\n  unstable_useBlocker as useBlocker,\n  UNSAFE_DataRouterContext as DataRouterContext,\n  UNSAFE_DataRouterStateContext as DataRouterStateContext,\n  UNSAFE_NavigationContext as NavigationContext,\n  UNSAFE_RouteContext as RouteContext,\n  UNSAFE_detectErrorBoundary as detectErrorBoundary,\n} from \"react-router\";\nimport type {\n  BrowserHistory,\n  Fetcher,\n  FormEncType,\n  FormMethod,\n  FutureConfig,\n  GetScrollRestorationKeyFunction,\n  HashHistory,\n  History,\n  HTMLFormMethod,\n  HydrationState,\n  Router as RemixRouter,\n  V7_FormMethod,\n} from \"@remix-run/router\";\nimport {\n  createRouter,\n  createBrowserHistory,\n  createHashHistory,\n  joinPaths,\n  stripBasename,\n  ErrorResponse,\n  UNSAFE_invariant as invariant,\n  UNSAFE_warning as warning,\n} from \"@remix-run/router\";\n\nimport type {\n  SubmitOptions,\n  ParamKeyValuePair,\n  URLSearchParamsInit,\n} from \"./dom\";\nimport {\n  createSearchParams,\n  defaultMethod,\n  getFormSubmissionInfo,\n  getSearchParamsForLocation,\n  shouldProcessLinkClick,\n} from \"./dom\";\n\n////////////////////////////////////////////////////////////////////////////////\n//#region Re-exports\n////////////////////////////////////////////////////////////////////////////////\n\nexport type {\n  FormEncType,\n  FormMethod,\n  GetScrollRestorationKeyFunction,\n  ParamKeyValuePair,\n  SubmitOptions,\n  URLSearchParamsInit,\n  V7_FormMethod,\n};\nexport { createSearchParams };\n\n// Note: Keep in sync with react-router exports!\nexport type {\n  ActionFunction,\n  ActionFunctionArgs,\n  AwaitProps,\n  unstable_Blocker,\n  unstable_BlockerFunction,\n  DataRouteMatch,\n  DataRouteObject,\n  Fetcher,\n  Hash,\n  IndexRouteObject,\n  IndexRouteProps,\n  JsonFunction,\n  LazyRouteFunction,\n  LayoutRouteProps,\n  LoaderFunction,\n  LoaderFunctionArgs,\n  Location,\n  MemoryRouterProps,\n  NavigateFunction,\n  NavigateOptions,\n  NavigateProps,\n  Navigation,\n  Navigator,\n  NonIndexRouteObject,\n  OutletProps,\n  Params,\n  ParamParseKey,\n  Path,\n  PathMatch,\n  Pathname,\n  PathPattern,\n  PathRouteProps,\n  RedirectFunction,\n  RelativeRoutingType,\n  RouteMatch,\n  RouteObject,\n  RouteProps,\n  RouterProps,\n  RouterProviderProps,\n  RoutesProps,\n  Search,\n  ShouldRevalidateFunction,\n  To,\n} from \"react-router\";\nexport {\n  AbortedDeferredError,\n  Await,\n  MemoryRouter,\n  Navigate,\n  NavigationType,\n  Outlet,\n  Route,\n  Router,\n  RouterProvider,\n  Routes,\n  createMemoryRouter,\n  createPath,\n  createRoutesFromChildren,\n  createRoutesFromElements,\n  defer,\n  isRouteErrorResponse,\n  generatePath,\n  json,\n  matchPath,\n  matchRoutes,\n  parsePath,\n  redirect,\n  renderMatches,\n  resolvePath,\n  useActionData,\n  useAsyncError,\n  useAsyncValue,\n  unstable_useBlocker,\n  useHref,\n  useInRouterContext,\n  useLoaderData,\n  useLocation,\n  useMatch,\n  useMatches,\n  useNavigate,\n  useNavigation,\n  useNavigationType,\n  useOutlet,\n  useOutletContext,\n  useParams,\n  useResolvedPath,\n  useRevalidator,\n  useRouteError,\n  useRouteLoaderData,\n  useRoutes,\n} from \"react-router\";\n\n///////////////////////////////////////////////////////////////////////////////\n// DANGER! PLEASE READ ME!\n// We provide these exports as an escape hatch in the event that you need any\n// routing data that we don't provide an explicit API for. With that said, we\n// want to cover your use case if we can, so if you feel the need to use these\n// we want to hear from you. Let us know what you're building and we'll do our\n// best to make sure we can support you!\n//\n// We consider these exports an implementation detail and do not guarantee\n// against any breaking changes, regardless of the semver release. Use with\n// extreme caution and only if you understand the consequences. Godspeed.\n///////////////////////////////////////////////////////////////////////////////\n\n/** @internal */\nexport {\n  UNSAFE_DataRouterContext,\n  UNSAFE_DataRouterStateContext,\n  UNSAFE_NavigationContext,\n  UNSAFE_LocationContext,\n  UNSAFE_RouteContext,\n} from \"react-router\";\n//#endregion\n\ndeclare global {\n  var __staticRouterHydrationData: HydrationState | undefined;\n}\n\n////////////////////////////////////////////////////////////////////////////////\n//#region Routers\n////////////////////////////////////////////////////////////////////////////////\n\ninterface DOMRouterOpts {\n  basename?: string;\n  future?: FutureConfig;\n  hydrationData?: HydrationState;\n  window?: Window;\n}\n\nexport function createBrowserRouter(\n  routes: RouteObject[],\n  opts?: DOMRouterOpts\n): RemixRouter {\n  return createRouter({\n    basename: opts?.basename,\n    future: opts?.future,\n    history: createBrowserHistory({ window: opts?.window }),\n    hydrationData: opts?.hydrationData || parseHydrationData(),\n    routes,\n    detectErrorBoundary,\n  }).initialize();\n}\n\nexport function createHashRouter(\n  routes: RouteObject[],\n  opts?: DOMRouterOpts\n): RemixRouter {\n  return createRouter({\n    basename: opts?.basename,\n    future: opts?.future,\n    history: createHashHistory({ window: opts?.window }),\n    hydrationData: opts?.hydrationData || parseHydrationData(),\n    routes,\n    detectErrorBoundary,\n  }).initialize();\n}\n\nfunction parseHydrationData(): HydrationState | undefined {\n  let state = window?.__staticRouterHydrationData;\n  if (state && state.errors) {\n    state = {\n      ...state,\n      errors: deserializeErrors(state.errors),\n    };\n  }\n  return state;\n}\n\nfunction deserializeErrors(\n  errors: RemixRouter[\"state\"][\"errors\"]\n): RemixRouter[\"state\"][\"errors\"] {\n  if (!errors) return null;\n  let entries = Object.entries(errors);\n  let serialized: RemixRouter[\"state\"][\"errors\"] = {};\n  for (let [key, val] of entries) {\n    // Hey you!  If you change this, please change the corresponding logic in\n    // serializeErrors in react-router-dom/server.tsx :)\n    if (val && val.__type === \"RouteErrorResponse\") {\n      serialized[key] = new ErrorResponse(\n        val.status,\n        val.statusText,\n        val.data,\n        val.internal === true\n      );\n    } else if (val && val.__type === \"Error\") {\n      let error = new Error(val.message);\n      // Wipe away the client-side stack trace.  Nothing to fill it in with\n      // because we don't serialize SSR stack traces for security reasons\n      error.stack = \"\";\n      serialized[key] = error;\n    } else {\n      serialized[key] = val;\n    }\n  }\n  return serialized;\n}\n\n//#endregion\n\n////////////////////////////////////////////////////////////////////////////////\n//#region Components\n////////////////////////////////////////////////////////////////////////////////\n\nexport interface BrowserRouterProps {\n  basename?: string;\n  children?: React.ReactNode;\n  window?: Window;\n}\n\n/**\n * A `<Router>` for use in web browsers. Provides the cleanest URLs.\n */\nexport function BrowserRouter({\n  basename,\n  children,\n  window,\n}: BrowserRouterProps) {\n  let historyRef = React.useRef<BrowserHistory>();\n  if (historyRef.current == null) {\n    historyRef.current = createBrowserHistory({ window, v5Compat: true });\n  }\n\n  let history = historyRef.current;\n  let [state, setState] = React.useState({\n    action: history.action,\n    location: history.location,\n  });\n\n  React.useLayoutEffect(() => history.listen(setState), [history]);\n\n  return (\n    <Router\n      basename={basename}\n      children={children}\n      location={state.location}\n      navigationType={state.action}\n      navigator={history}\n    />\n  );\n}\n\nexport interface HashRouterProps {\n  basename?: string;\n  children?: React.ReactNode;\n  window?: Window;\n}\n\n/**\n * A `<Router>` for use in web browsers. Stores the location in the hash\n * portion of the URL so it is not sent to the server.\n */\nexport function HashRouter({ basename, children, window }: HashRouterProps) {\n  let historyRef = React.useRef<HashHistory>();\n  if (historyRef.current == null) {\n    historyRef.current = createHashHistory({ window, v5Compat: true });\n  }\n\n  let history = historyRef.current;\n  let [state, setState] = React.useState({\n    action: history.action,\n    location: history.location,\n  });\n\n  React.useLayoutEffect(() => history.listen(setState), [history]);\n\n  return (\n    <Router\n      basename={basename}\n      children={children}\n      location={state.location}\n      navigationType={state.action}\n      navigator={history}\n    />\n  );\n}\n\nexport interface HistoryRouterProps {\n  basename?: string;\n  children?: React.ReactNode;\n  history: History;\n}\n\n/**\n * A `<Router>` that accepts a pre-instantiated history object. It's important\n * to note that using your own history object is highly discouraged and may add\n * two versions of the history library to your bundles unless you use the same\n * version of the history library that React Router uses internally.\n */\nfunction HistoryRouter({ basename, children, history }: HistoryRouterProps) {\n  const [state, setState] = React.useState({\n    action: history.action,\n    location: history.location,\n  });\n\n  React.useLayoutEffect(() => history.listen(setState), [history]);\n\n  return (\n    <Router\n      basename={basename}\n      children={children}\n      location={state.location}\n      navigationType={state.action}\n      navigator={history}\n    />\n  );\n}\n\nif (__DEV__) {\n  HistoryRouter.displayName = \"unstable_HistoryRouter\";\n}\n\nexport { HistoryRouter as unstable_HistoryRouter };\n\nexport interface LinkProps\n  extends Omit<React.AnchorHTMLAttributes<HTMLAnchorElement>, \"href\"> {\n  reloadDocument?: boolean;\n  replace?: boolean;\n  state?: any;\n  preventScrollReset?: boolean;\n  relative?: RelativeRoutingType;\n  to: To;\n}\n\nconst isBrowser =\n  typeof window !== \"undefined\" &&\n  typeof window.document !== \"undefined\" &&\n  typeof window.document.createElement !== \"undefined\";\n\nconst ABSOLUTE_URL_REGEX = /^(?:[a-z][a-z0-9+.-]*:|\\/\\/)/i;\n\n/**\n * The public API for rendering a history-aware <a>.\n */\nexport const Link = React.forwardRef<HTMLAnchorElement, LinkProps>(\n  function LinkWithRef(\n    {\n      onClick,\n      relative,\n      reloadDocument,\n      replace,\n      state,\n      target,\n      to,\n      preventScrollReset,\n      ...rest\n    },\n    ref\n  ) {\n    let { basename } = React.useContext(NavigationContext);\n\n    // Rendered into <a href> for absolute URLs\n    let absoluteHref;\n    let isExternal = false;\n\n    if (typeof to === \"string\" && ABSOLUTE_URL_REGEX.test(to)) {\n      // Render the absolute href server- and client-side\n      absoluteHref = to;\n\n      // Only check for external origins client-side\n      if (isBrowser) {\n        let currentUrl = new URL(window.location.href);\n        let targetUrl = to.startsWith(\"//\")\n          ? new URL(currentUrl.protocol + to)\n          : new URL(to);\n        let path = stripBasename(targetUrl.pathname, basename);\n\n        if (targetUrl.origin === currentUrl.origin && path != null) {\n          // Strip the protocol/origin/basename for same-origin absolute URLs\n          to = path + targetUrl.search + targetUrl.hash;\n        } else {\n          isExternal = true;\n        }\n      }\n    }\n\n    // Rendered into <a href> for relative URLs\n    let href = useHref(to, { relative });\n\n    let internalOnClick = useLinkClickHandler(to, {\n      replace,\n      state,\n      target,\n      preventScrollReset,\n      relative,\n    });\n    function handleClick(\n      event: React.MouseEvent<HTMLAnchorElement, MouseEvent>\n    ) {\n      if (onClick) onClick(event);\n      if (!event.defaultPrevented) {\n        internalOnClick(event);\n      }\n    }\n\n    return (\n      // eslint-disable-next-line jsx-a11y/anchor-has-content\n      <a\n        {...rest}\n        href={absoluteHref || href}\n        onClick={isExternal || reloadDocument ? onClick : handleClick}\n        ref={ref}\n        target={target}\n      />\n    );\n  }\n);\n\nif (__DEV__) {\n  Link.displayName = \"Link\";\n}\n\nexport interface NavLinkProps\n  extends Omit<LinkProps, \"className\" | \"style\" | \"children\"> {\n  children?:\n    | React.ReactNode\n    | ((props: { isActive: boolean; isPending: boolean }) => React.ReactNode);\n  caseSensitive?: boolean;\n  className?:\n    | string\n    | ((props: {\n        isActive: boolean;\n        isPending: boolean;\n      }) => string | undefined);\n  end?: boolean;\n  style?:\n    | React.CSSProperties\n    | ((props: {\n        isActive: boolean;\n        isPending: boolean;\n      }) => React.CSSProperties | undefined);\n}\n\n/**\n * A <Link> wrapper that knows if it's \"active\" or not.\n */\nexport const NavLink = React.forwardRef<HTMLAnchorElement, NavLinkProps>(\n  function NavLinkWithRef(\n    {\n      \"aria-current\": ariaCurrentProp = \"page\",\n      caseSensitive = false,\n      className: classNameProp = \"\",\n      end = false,\n      style: styleProp,\n      to,\n      children,\n      ...rest\n    },\n    ref\n  ) {\n    let path = useResolvedPath(to, { relative: rest.relative });\n    let location = useLocation();\n    let routerState = React.useContext(DataRouterStateContext);\n    let { navigator } = React.useContext(NavigationContext);\n\n    let toPathname = navigator.encodeLocation\n      ? navigator.encodeLocation(path).pathname\n      : path.pathname;\n    let locationPathname = location.pathname;\n    let nextLocationPathname =\n      routerState && routerState.navigation && routerState.navigation.location\n        ? routerState.navigation.location.pathname\n        : null;\n\n    if (!caseSensitive) {\n      locationPathname = locationPathname.toLowerCase();\n      nextLocationPathname = nextLocationPathname\n        ? nextLocationPathname.toLowerCase()\n        : null;\n      toPathname = toPathname.toLowerCase();\n    }\n\n    let isActive =\n      locationPathname === toPathname ||\n      (!end &&\n        locationPathname.startsWith(toPathname) &&\n        locationPathname.charAt(toPathname.length) === \"/\");\n\n    let isPending =\n      nextLocationPathname != null &&\n      (nextLocationPathname === toPathname ||\n        (!end &&\n          nextLocationPathname.startsWith(toPathname) &&\n          nextLocationPathname.charAt(toPathname.length) === \"/\"));\n\n    let ariaCurrent = isActive ? ariaCurrentProp : undefined;\n\n    let className: string | undefined;\n    if (typeof classNameProp === \"function\") {\n      className = classNameProp({ isActive, isPending });\n    } else {\n      // If the className prop is not a function, we use a default `active`\n      // class for <NavLink />s that are active. In v5 `active` was the default\n      // value for `activeClassName`, but we are removing that API and can still\n      // use the old default behavior for a cleaner upgrade path and keep the\n      // simple styling rules working as they currently do.\n      className = [\n        classNameProp,\n        isActive ? \"active\" : null,\n        isPending ? \"pending\" : null,\n      ]\n        .filter(Boolean)\n        .join(\" \");\n    }\n\n    let style =\n      typeof styleProp === \"function\"\n        ? styleProp({ isActive, isPending })\n        : styleProp;\n\n    return (\n      <Link\n        {...rest}\n        aria-current={ariaCurrent}\n        className={className}\n        ref={ref}\n        style={style}\n        to={to}\n      >\n        {typeof children === \"function\"\n          ? children({ isActive, isPending })\n          : children}\n      </Link>\n    );\n  }\n);\n\nif (__DEV__) {\n  NavLink.displayName = \"NavLink\";\n}\n\nexport interface FormProps extends React.FormHTMLAttributes<HTMLFormElement> {\n  /**\n   * The HTTP verb to use when the form is submit. Supports \"get\", \"post\",\n   * \"put\", \"delete\", \"patch\".\n   */\n  method?: HTMLFormMethod;\n\n  /**\n   * Normal `<form action>` but supports React Router's relative paths.\n   */\n  action?: string;\n\n  /**\n   * Forces a full document navigation instead of a fetch.\n   */\n  reloadDocument?: boolean;\n\n  /**\n   * Replaces the current entry in the browser history stack when the form\n   * navigates. Use this if you don't want the user to be able to click \"back\"\n   * to the page with the form on it.\n   */\n  replace?: boolean;\n\n  /**\n   * Determines whether the form action is relative to the route hierarchy or\n   * the pathname.  Use this if you want to opt out of navigating the route\n   * hierarchy and want to instead route based on /-delimited URL segments\n   */\n  relative?: RelativeRoutingType;\n\n  /**\n   * Prevent the scroll position from resetting to the top of the viewport on\n   * completion of the navigation when using the <ScrollRestoration> component\n   */\n  preventScrollReset?: boolean;\n\n  /**\n   * A function to call when the form is submitted. If you call\n   * `event.preventDefault()` then this form will not do anything.\n   */\n  onSubmit?: React.FormEventHandler<HTMLFormElement>;\n}\n\n/**\n * A `@remix-run/router`-aware `<form>`. It behaves like a normal form except\n * that the interaction with the server is with `fetch` instead of new document\n * requests, allowing components to add nicer UX to the page as the form is\n * submitted and returns with data.\n */\nexport const Form = React.forwardRef<HTMLFormElement, FormProps>(\n  (props, ref) => {\n    return <FormImpl {...props} ref={ref} />;\n  }\n);\n\nif (__DEV__) {\n  Form.displayName = \"Form\";\n}\n\ntype HTMLSubmitEvent = React.BaseSyntheticEvent<\n  SubmitEvent,\n  Event,\n  HTMLFormElement\n>;\n\ntype HTMLFormSubmitter = HTMLButtonElement | HTMLInputElement;\n\ninterface FormImplProps extends FormProps {\n  fetcherKey?: string;\n  routeId?: string;\n}\n\nconst FormImpl = React.forwardRef<HTMLFormElement, FormImplProps>(\n  (\n    {\n      reloadDocument,\n      replace,\n      method = defaultMethod,\n      action,\n      onSubmit,\n      fetcherKey,\n      routeId,\n      relative,\n      preventScrollReset,\n      ...props\n    },\n    forwardedRef\n  ) => {\n    let submit = useSubmitImpl(fetcherKey, routeId);\n    let formMethod: HTMLFormMethod =\n      method.toLowerCase() === \"get\" ? \"get\" : \"post\";\n    let formAction = useFormAction(action, { relative });\n    let submitHandler: React.FormEventHandler<HTMLFormElement> = (event) => {\n      onSubmit && onSubmit(event);\n      if (event.defaultPrevented) return;\n      event.preventDefault();\n\n      let submitter = (event as unknown as HTMLSubmitEvent).nativeEvent\n        .submitter as HTMLFormSubmitter | null;\n\n      let submitMethod =\n        (submitter?.getAttribute(\"formmethod\") as HTMLFormMethod | undefined) ||\n        method;\n\n      submit(submitter || event.currentTarget, {\n        method: submitMethod,\n        replace,\n        relative,\n        preventScrollReset,\n      });\n    };\n\n    return (\n      <form\n        ref={forwardedRef}\n        method={formMethod}\n        action={formAction}\n        onSubmit={reloadDocument ? onSubmit : submitHandler}\n        {...props}\n      />\n    );\n  }\n);\n\nif (__DEV__) {\n  FormImpl.displayName = \"FormImpl\";\n}\n\nexport interface ScrollRestorationProps {\n  getKey?: GetScrollRestorationKeyFunction;\n  storageKey?: string;\n}\n\n/**\n * This component will emulate the browser's scroll restoration on location\n * changes.\n */\nexport function ScrollRestoration({\n  getKey,\n  storageKey,\n}: ScrollRestorationProps) {\n  useScrollRestoration({ getKey, storageKey });\n  return null;\n}\n\nif (__DEV__) {\n  ScrollRestoration.displayName = \"ScrollRestoration\";\n}\n//#endregion\n\n////////////////////////////////////////////////////////////////////////////////\n//#region Hooks\n////////////////////////////////////////////////////////////////////////////////\n\nenum DataRouterHook {\n  UseScrollRestoration = \"useScrollRestoration\",\n  UseSubmitImpl = \"useSubmitImpl\",\n  UseFetcher = \"useFetcher\",\n}\n\nenum DataRouterStateHook {\n  UseFetchers = \"useFetchers\",\n  UseScrollRestoration = \"useScrollRestoration\",\n}\n\nfunction getDataRouterConsoleError(\n  hookName: DataRouterHook | DataRouterStateHook\n) {\n  return `${hookName} must be used within a data router.  See https://reactrouter.com/routers/picking-a-router.`;\n}\n\nfunction useDataRouterContext(hookName: DataRouterHook) {\n  let ctx = React.useContext(DataRouterContext);\n  invariant(ctx, getDataRouterConsoleError(hookName));\n  return ctx;\n}\n\nfunction useDataRouterState(hookName: DataRouterStateHook) {\n  let state = React.useContext(DataRouterStateContext);\n  invariant(state, getDataRouterConsoleError(hookName));\n  return state;\n}\n\n/**\n * Handles the click behavior for router `<Link>` components. This is useful if\n * you need to create custom `<Link>` components with the same click behavior we\n * use in our exported `<Link>`.\n */\nexport function useLinkClickHandler<E extends Element = HTMLAnchorElement>(\n  to: To,\n  {\n    target,\n    replace: replaceProp,\n    state,\n    preventScrollReset,\n    relative,\n  }: {\n    target?: React.HTMLAttributeAnchorTarget;\n    replace?: boolean;\n    state?: any;\n    preventScrollReset?: boolean;\n    relative?: RelativeRoutingType;\n  } = {}\n): (event: React.MouseEvent<E, MouseEvent>) => void {\n  let navigate = useNavigate();\n  let location = useLocation();\n  let path = useResolvedPath(to, { relative });\n\n  return React.useCallback(\n    (event: React.MouseEvent<E, MouseEvent>) => {\n      if (shouldProcessLinkClick(event, target)) {\n        event.preventDefault();\n\n        // If the URL hasn't changed, a regular <a> will do a replace instead of\n        // a push, so do the same here unless the replace prop is explicitly set\n        let replace =\n          replaceProp !== undefined\n            ? replaceProp\n            : createPath(location) === createPath(path);\n\n        navigate(to, { replace, state, preventScrollReset, relative });\n      }\n    },\n    [\n      location,\n      navigate,\n      path,\n      replaceProp,\n      state,\n      target,\n      to,\n      preventScrollReset,\n      relative,\n    ]\n  );\n}\n\n/**\n * A convenient wrapper for reading and writing search parameters via the\n * URLSearchParams interface.\n */\nexport function useSearchParams(\n  defaultInit?: URLSearchParamsInit\n): [URLSearchParams, SetURLSearchParams] {\n  warning(\n    typeof URLSearchParams !== \"undefined\",\n    `You cannot use the \\`useSearchParams\\` hook in a browser that does not ` +\n      `support the URLSearchParams API. If you need to support Internet ` +\n      `Explorer 11, we recommend you load a polyfill such as ` +\n      `https://github.com/ungap/url-search-params\\n\\n` +\n      `If you're unsure how to load polyfills, we recommend you check out ` +\n      `https://polyfill.io/v3/ which provides some recommendations about how ` +\n      `to load polyfills only for users that need them, instead of for every ` +\n      `user.`\n  );\n\n  let defaultSearchParamsRef = React.useRef(createSearchParams(defaultInit));\n  let hasSetSearchParamsRef = React.useRef(false);\n\n  let location = useLocation();\n  let searchParams = React.useMemo(\n    () =>\n      // Only merge in the defaults if we haven't yet called setSearchParams.\n      // Once we call that we want those to take precedence, otherwise you can't\n      // remove a param with setSearchParams({}) if it has an initial value\n      getSearchParamsForLocation(\n        location.search,\n        hasSetSearchParamsRef.current ? null : defaultSearchParamsRef.current\n      ),\n    [location.search]\n  );\n\n  let navigate = useNavigate();\n  let setSearchParams = React.useCallback<SetURLSearchParams>(\n    (nextInit, navigateOptions) => {\n      const newSearchParams = createSearchParams(\n        typeof nextInit === \"function\" ? nextInit(searchParams) : nextInit\n      );\n      hasSetSearchParamsRef.current = true;\n      navigate(\"?\" + newSearchParams, navigateOptions);\n    },\n    [navigate, searchParams]\n  );\n\n  return [searchParams, setSearchParams];\n}\n\ntype SetURLSearchParams = (\n  nextInit?:\n    | URLSearchParamsInit\n    | ((prev: URLSearchParams) => URLSearchParamsInit),\n  navigateOpts?: NavigateOptions\n) => void;\n\ntype SubmitTarget =\n  | HTMLFormElement\n  | HTMLButtonElement\n  | HTMLInputElement\n  | FormData\n  | URLSearchParams\n  | { [name: string]: string }\n  | null;\n\n/**\n * Submits a HTML `<form>` to the server without reloading the page.\n */\nexport interface SubmitFunction {\n  (\n    /**\n     * Specifies the `<form>` to be submitted to the server, a specific\n     * `<button>` or `<input type=\"submit\">` to use to submit the form, or some\n     * arbitrary data to submit.\n     *\n     * Note: When using a `<button>` its `name` and `value` will also be\n     * included in the form data that is submitted.\n     */\n    target: SubmitTarget,\n\n    /**\n     * Options that override the `<form>`'s own attributes. Required when\n     * submitting arbitrary data without a backing `<form>`.\n     */\n    options?: SubmitOptions\n  ): void;\n}\n\n/**\n * Returns a function that may be used to programmatically submit a form (or\n * some arbitrary data) to the server.\n */\nexport function useSubmit(): SubmitFunction {\n  return useSubmitImpl();\n}\n\nfunction useSubmitImpl(fetcherKey?: string, routeId?: string): SubmitFunction {\n  let { router } = useDataRouterContext(DataRouterHook.UseSubmitImpl);\n  let defaultAction = useFormAction();\n\n  return React.useCallback(\n    (target, options = {}) => {\n      if (typeof document === \"undefined\") {\n        throw new Error(\n          \"You are calling submit during the server render. \" +\n            \"Try calling submit within a `useEffect` or callback instead.\"\n        );\n      }\n\n      let { method, encType, formData, url } = getFormSubmissionInfo(\n        target,\n        defaultAction,\n        options\n      );\n\n      let href = url.pathname + url.search;\n      let opts = {\n        replace: options.replace,\n        preventScrollReset: options.preventScrollReset,\n        formData,\n        formMethod: method as HTMLFormMethod,\n        formEncType: encType as FormEncType,\n      };\n      if (fetcherKey) {\n        invariant(routeId != null, \"No routeId available for useFetcher()\");\n        router.fetch(fetcherKey, routeId, href, opts);\n      } else {\n        router.navigate(href, opts);\n      }\n    },\n    [defaultAction, router, fetcherKey, routeId]\n  );\n}\n\nexport function useFormAction(\n  action?: string,\n  { relative }: { relative?: RelativeRoutingType } = {}\n): string {\n  let { basename } = React.useContext(NavigationContext);\n  let routeContext = React.useContext(RouteContext);\n  invariant(routeContext, \"useFormAction must be used inside a RouteContext\");\n\n  let [match] = routeContext.matches.slice(-1);\n  // Shallow clone path so we can modify it below, otherwise we modify the\n  // object referenced by useMemo inside useResolvedPath\n  let path = { ...useResolvedPath(action ? action : \".\", { relative }) };\n\n  // Previously we set the default action to \".\". The problem with this is that\n  // `useResolvedPath(\".\")` excludes search params and the hash of the resolved\n  // URL. This is the intended behavior of when \".\" is specifically provided as\n  // the form action, but inconsistent w/ browsers when the action is omitted.\n  // https://github.com/remix-run/remix/issues/927\n  let location = useLocation();\n  if (action == null) {\n    // Safe to write to these directly here since if action was undefined, we\n    // would have called useResolvedPath(\".\") which will never include a search\n    // or hash\n    path.search = location.search;\n    path.hash = location.hash;\n\n    // When grabbing search params from the URL, remove the automatically\n    // inserted ?index param so we match the useResolvedPath search behavior\n    // which would not include ?index\n    if (match.route.index) {\n      let params = new URLSearchParams(path.search);\n      params.delete(\"index\");\n      path.search = params.toString() ? `?${params.toString()}` : \"\";\n    }\n  }\n\n  if ((!action || action === \".\") && match.route.index) {\n    path.search = path.search\n      ? path.search.replace(/^\\?/, \"?index&\")\n      : \"?index\";\n  }\n\n  // If we're operating within a basename, prepend it to the pathname prior\n  // to creating the form action.  If this is a root navigation, then just use\n  // the raw basename which allows the basename to have full control over the\n  // presence of a trailing slash on root actions\n  if (basename !== \"/\") {\n    path.pathname =\n      path.pathname === \"/\" ? basename : joinPaths([basename, path.pathname]);\n  }\n\n  return createPath(path);\n}\n\nfunction createFetcherForm(fetcherKey: string, routeId: string) {\n  let FetcherForm = React.forwardRef<HTMLFormElement, FormProps>(\n    (props, ref) => {\n      return (\n        <FormImpl\n          {...props}\n          ref={ref}\n          fetcherKey={fetcherKey}\n          routeId={routeId}\n        />\n      );\n    }\n  );\n  if (__DEV__) {\n    FetcherForm.displayName = \"fetcher.Form\";\n  }\n  return FetcherForm;\n}\n\nlet fetcherId = 0;\n\nexport type FetcherWithComponents<TData> = Fetcher<TData> & {\n  Form: ReturnType<typeof createFetcherForm>;\n  submit: (\n    target: SubmitTarget,\n    // Fetchers cannot replace/preventScrollReset because they are not\n    // navigation events\n    options?: Omit<SubmitOptions, \"replace\" | \"preventScrollReset\">\n  ) => void;\n  load: (href: string) => void;\n};\n\n/**\n * Interacts with route loaders and actions without causing a navigation. Great\n * for any interaction that stays on the same page.\n */\nexport function useFetcher<TData = any>(): FetcherWithComponents<TData> {\n  let { router } = useDataRouterContext(DataRouterHook.UseFetcher);\n\n  let route = React.useContext(RouteContext);\n  invariant(route, `useFetcher must be used inside a RouteContext`);\n\n  let routeId = route.matches[route.matches.length - 1]?.route.id;\n  invariant(\n    routeId != null,\n    `useFetcher can only be used on routes that contain a unique \"id\"`\n  );\n\n  let [fetcherKey] = React.useState(() => String(++fetcherId));\n  let [Form] = React.useState(() => {\n    invariant(routeId, `No routeId available for fetcher.Form()`);\n    return createFetcherForm(fetcherKey, routeId);\n  });\n  let [load] = React.useState(() => (href: string) => {\n    invariant(router, \"No router available for fetcher.load()\");\n    invariant(routeId, \"No routeId available for fetcher.load()\");\n    router.fetch(fetcherKey, routeId, href);\n  });\n  let submit = useSubmitImpl(fetcherKey, routeId);\n\n  let fetcher = router.getFetcher<TData>(fetcherKey);\n\n  let fetcherWithComponents = React.useMemo(\n    () => ({\n      Form,\n      submit,\n      load,\n      ...fetcher,\n    }),\n    [fetcher, Form, submit, load]\n  );\n\n  React.useEffect(() => {\n    // Is this busted when the React team gets real weird and calls effects\n    // twice on mount?  We really just need to garbage collect here when this\n    // fetcher is no longer around.\n    return () => {\n      if (!router) {\n        console.warn(`No fetcher available to clean up from useFetcher()`);\n        return;\n      }\n      router.deleteFetcher(fetcherKey);\n    };\n  }, [router, fetcherKey]);\n\n  return fetcherWithComponents;\n}\n\n/**\n * Provides all fetchers currently on the page. Useful for layouts and parent\n * routes that need to provide pending/optimistic UI regarding the fetch.\n */\nexport function useFetchers(): Fetcher[] {\n  let state = useDataRouterState(DataRouterStateHook.UseFetchers);\n  return [...state.fetchers.values()];\n}\n\nconst SCROLL_RESTORATION_STORAGE_KEY = \"react-router-scroll-positions\";\nlet savedScrollPositions: Record<string, number> = {};\n\n/**\n * When rendered inside a RouterProvider, will restore scroll positions on navigations\n */\nfunction useScrollRestoration({\n  getKey,\n  storageKey,\n}: {\n  getKey?: GetScrollRestorationKeyFunction;\n  storageKey?: string;\n} = {}) {\n  let { router } = useDataRouterContext(DataRouterHook.UseScrollRestoration);\n  let { restoreScrollPosition, preventScrollReset } = useDataRouterState(\n    DataRouterStateHook.UseScrollRestoration\n  );\n  let location = useLocation();\n  let matches = useMatches();\n  let navigation = useNavigation();\n\n  // Trigger manual scroll restoration while we're active\n  React.useEffect(() => {\n    window.history.scrollRestoration = \"manual\";\n    return () => {\n      window.history.scrollRestoration = \"auto\";\n    };\n  }, []);\n\n  // Save positions on pagehide\n  usePageHide(\n    React.useCallback(() => {\n      if (navigation.state === \"idle\") {\n        let key = (getKey ? getKey(location, matches) : null) || location.key;\n        savedScrollPositions[key] = window.scrollY;\n      }\n      sessionStorage.setItem(\n        storageKey || SCROLL_RESTORATION_STORAGE_KEY,\n        JSON.stringify(savedScrollPositions)\n      );\n      window.history.scrollRestoration = \"auto\";\n    }, [storageKey, getKey, navigation.state, location, matches])\n  );\n\n  // Read in any saved scroll locations\n  if (typeof document !== \"undefined\") {\n    // eslint-disable-next-line react-hooks/rules-of-hooks\n    React.useLayoutEffect(() => {\n      try {\n        let sessionPositions = sessionStorage.getItem(\n          storageKey || SCROLL_RESTORATION_STORAGE_KEY\n        );\n        if (sessionPositions) {\n          savedScrollPositions = JSON.parse(sessionPositions);\n        }\n      } catch (e) {\n        // no-op, use default empty object\n      }\n    }, [storageKey]);\n\n    // Enable scroll restoration in the router\n    // eslint-disable-next-line react-hooks/rules-of-hooks\n    React.useLayoutEffect(() => {\n      let disableScrollRestoration = router?.enableScrollRestoration(\n        savedScrollPositions,\n        () => window.scrollY,\n        getKey\n      );\n      return () => disableScrollRestoration && disableScrollRestoration();\n    }, [router, getKey]);\n\n    // Restore scrolling when state.restoreScrollPosition changes\n    // eslint-disable-next-line react-hooks/rules-of-hooks\n    React.useLayoutEffect(() => {\n      // Explicit false means don't do anything (used for submissions)\n      if (restoreScrollPosition === false) {\n        return;\n      }\n\n      // been here before, scroll to it\n      if (typeof restoreScrollPosition === \"number\") {\n        window.scrollTo(0, restoreScrollPosition);\n        return;\n      }\n\n      // try to scroll to the hash\n      if (location.hash) {\n        let el = document.getElementById(location.hash.slice(1));\n        if (el) {\n          el.scrollIntoView();\n          return;\n        }\n      }\n\n      // Don't reset if this navigation opted out\n      if (preventScrollReset === true) {\n        return;\n      }\n\n      // otherwise go to the top on new locations\n      window.scrollTo(0, 0);\n    }, [location, restoreScrollPosition, preventScrollReset]);\n  }\n}\n\nexport { useScrollRestoration as UNSAFE_useScrollRestoration };\n\n/**\n * Setup a callback to be fired on the window's `beforeunload` event. This is\n * useful for saving some data to `window.localStorage` just before the page\n * refreshes.\n *\n * Note: The `callback` argument should be a function created with\n * `React.useCallback()`.\n */\nexport function useBeforeUnload(\n  callback: (event: BeforeUnloadEvent) => any,\n  options?: { capture?: boolean }\n): void {\n  let { capture } = options || {};\n  React.useEffect(() => {\n    let opts = capture != null ? { capture } : undefined;\n    window.addEventListener(\"beforeunload\", callback, opts);\n    return () => {\n      window.removeEventListener(\"beforeunload\", callback, opts);\n    };\n  }, [callback, capture]);\n}\n\n/**\n * Setup a callback to be fired on the window's `pagehide` event. This is\n * useful for saving some data to `window.localStorage` just before the page\n * refreshes.  This event is better supported than beforeunload across browsers.\n *\n * Note: The `callback` argument should be a function created with\n * `React.useCallback()`.\n */\nfunction usePageHide(\n  callback: (event: PageTransitionEvent) => any,\n  options?: { capture?: boolean }\n): void {\n  let { capture } = options || {};\n  React.useEffect(() => {\n    let opts = capture != null ? { capture } : undefined;\n    window.addEventListener(\"pagehide\", callback, opts);\n    return () => {\n      window.removeEventListener(\"pagehide\", callback, opts);\n    };\n  }, [callback, capture]);\n}\n\n/**\n * Wrapper around useBlocker to show a window.confirm prompt to users instead\n * of building a custom UI with useBlocker.\n *\n * Warning: This has *a lot of rough edges* and behaves very differently (and\n * very incorrectly in some cases) across browsers if user click addition\n * back/forward navigations while the confirm is open.  Use at your own risk.\n */\nfunction usePrompt({ when, message }: { when: boolean; message: string }) {\n  let blocker = useBlocker(when);\n\n  React.useEffect(() => {\n    if (blocker.state === \"blocked\" && !when) {\n      blocker.reset();\n    }\n  }, [blocker, when]);\n\n  React.useEffect(() => {\n    if (blocker.state === \"blocked\") {\n      let proceed = window.confirm(message);\n      if (proceed) {\n        setTimeout(blocker.proceed, 0);\n      } else {\n        blocker.reset();\n      }\n    }\n  }, [blocker, message]);\n}\n\nexport { usePrompt as unstable_usePrompt };\n\n//#endregion\n","import type { FormEncType, HTMLFormMethod } from \"@remix-run/router\";\nimport type { RelativeRoutingType } from \"react-router\";\n\nexport const defaultMethod: HTMLFormMethod = \"get\";\nconst defaultEncType: FormEncType = \"application/x-www-form-urlencoded\";\n\nexport function isHtmlElement(object: any): object is HTMLElement {\n  return object != null && typeof object.tagName === \"string\";\n}\n\nexport function isButtonElement(object: any): object is HTMLButtonElement {\n  return isHtmlElement(object) && object.tagName.toLowerCase() === \"button\";\n}\n\nexport function isFormElement(object: any): object is HTMLFormElement {\n  return isHtmlElement(object) && object.tagName.toLowerCase() === \"form\";\n}\n\nexport function isInputElement(object: any): object is HTMLInputElement {\n  return isHtmlElement(object) && object.tagName.toLowerCase() === \"input\";\n}\n\ntype LimitedMouseEvent = Pick<\n  MouseEvent,\n  \"button\" | \"metaKey\" | \"altKey\" | \"ctrlKey\" | \"shiftKey\"\n>;\n\nfunction isModifiedEvent(event: LimitedMouseEvent) {\n  return !!(event.metaKey || event.altKey || event.ctrlKey || event.shiftKey);\n}\n\nexport function shouldProcessLinkClick(\n  event: LimitedMouseEvent,\n  target?: string\n) {\n  return (\n    event.button === 0 && // Ignore everything but left clicks\n    (!target || target === \"_self\") && // Let browser handle \"target=_blank\" etc.\n    !isModifiedEvent(event) // Ignore clicks with modifier keys\n  );\n}\n\nexport type ParamKeyValuePair = [string, string];\n\nexport type URLSearchParamsInit =\n  | string\n  | ParamKeyValuePair[]\n  | Record<string, string | string[]>\n  | URLSearchParams;\n\n/**\n * Creates a URLSearchParams object using the given initializer.\n *\n * This is identical to `new URLSearchParams(init)` except it also\n * supports arrays as values in the object form of the initializer\n * instead of just strings. This is convenient when you need multiple\n * values for a given key, but don't want to use an array initializer.\n *\n * For example, instead of:\n *\n *   let searchParams = new URLSearchParams([\n *     ['sort', 'name'],\n *     ['sort', 'price']\n *   ]);\n *\n * you can do:\n *\n *   let searchParams = createSearchParams({\n *     sort: ['name', 'price']\n *   });\n */\nexport function createSearchParams(\n  init: URLSearchParamsInit = \"\"\n): URLSearchParams {\n  return new URLSearchParams(\n    typeof init === \"string\" ||\n    Array.isArray(init) ||\n    init instanceof URLSearchParams\n      ? init\n      : Object.keys(init).reduce((memo, key) => {\n          let value = init[key];\n          return memo.concat(\n            Array.isArray(value) ? value.map((v) => [key, v]) : [[key, value]]\n          );\n        }, [] as ParamKeyValuePair[])\n  );\n}\n\nexport function getSearchParamsForLocation(\n  locationSearch: string,\n  defaultSearchParams: URLSearchParams | null\n) {\n  let searchParams = createSearchParams(locationSearch);\n\n  if (defaultSearchParams) {\n    for (let key of defaultSearchParams.keys()) {\n      if (!searchParams.has(key)) {\n        defaultSearchParams.getAll(key).forEach((value) => {\n          searchParams.append(key, value);\n        });\n      }\n    }\n  }\n\n  return searchParams;\n}\n\nexport interface SubmitOptions {\n  /**\n   * The HTTP method used to submit the form. Overrides `<form method>`.\n   * Defaults to \"GET\".\n   */\n  method?: HTMLFormMethod;\n\n  /**\n   * The action URL path used to submit the form. Overrides `<form action>`.\n   * Defaults to the path of the current route.\n   *\n   * Note: It is assumed the path is already resolved. If you need to resolve a\n   * relative path, use `useFormAction`.\n   */\n  action?: string;\n\n  /**\n   * The action URL used to submit the form. Overrides `<form encType>`.\n   * Defaults to \"application/x-www-form-urlencoded\".\n   */\n  encType?: FormEncType;\n\n  /**\n   * Set `true` to replace the current entry in the browser's history stack\n   * instead of creating a new one (i.e. stay on \"the same page\"). Defaults\n   * to `false`.\n   */\n  replace?: boolean;\n\n  /**\n   * Determines whether the form action is relative to the route hierarchy or\n   * the pathname.  Use this if you want to opt out of navigating the route\n   * hierarchy and want to instead route based on /-delimited URL segments\n   */\n  relative?: RelativeRoutingType;\n\n  /**\n   * In browser-based environments, prevent resetting scroll after this\n   * navigation when using the <ScrollRestoration> component\n   */\n  preventScrollReset?: boolean;\n}\n\nexport function getFormSubmissionInfo(\n  target:\n    | HTMLFormElement\n    | HTMLButtonElement\n    | HTMLInputElement\n    | FormData\n    | URLSearchParams\n    | { [name: string]: string }\n    | null,\n  defaultAction: string,\n  options: SubmitOptions\n): {\n  url: URL;\n  method: string;\n  encType: string;\n  formData: FormData;\n} {\n  let method: string;\n  let action: string;\n  let encType: string;\n  let formData: FormData;\n\n  if (isFormElement(target)) {\n    let submissionTrigger: HTMLButtonElement | HTMLInputElement = (\n      options as any\n    ).submissionTrigger;\n\n    method = options.method || target.getAttribute(\"method\") || defaultMethod;\n    action = options.action || target.getAttribute(\"action\") || defaultAction;\n    encType =\n      options.encType || target.getAttribute(\"enctype\") || defaultEncType;\n\n    formData = new FormData(target);\n\n    if (submissionTrigger && submissionTrigger.name) {\n      formData.append(submissionTrigger.name, submissionTrigger.value);\n    }\n  } else if (\n    isButtonElement(target) ||\n    (isInputElement(target) &&\n      (target.type === \"submit\" || target.type === \"image\"))\n  ) {\n    let form = target.form;\n\n    if (form == null) {\n      throw new Error(\n        `Cannot submit a <button> or <input type=\"submit\"> without a <form>`\n      );\n    }\n\n    // <button>/<input type=\"submit\"> may override attributes of <form>\n\n    method =\n      options.method ||\n      target.getAttribute(\"formmethod\") ||\n      form.getAttribute(\"method\") ||\n      defaultMethod;\n    action =\n      options.action ||\n      target.getAttribute(\"formaction\") ||\n      form.getAttribute(\"action\") ||\n      defaultAction;\n    encType =\n      options.encType ||\n      target.getAttribute(\"formenctype\") ||\n      form.getAttribute(\"enctype\") ||\n      defaultEncType;\n\n    formData = new FormData(form);\n\n    // Include name + value from a <button>, appending in case the button name\n    // matches an existing input name\n    if (target.name) {\n      formData.append(target.name, target.value);\n    }\n  } else if (isHtmlElement(target)) {\n    throw new Error(\n      `Cannot submit element that is not <form>, <button>, or ` +\n        `<input type=\"submit|image\">`\n    );\n  } else {\n    method = options.method || defaultMethod;\n    action = options.action || defaultAction;\n    encType = options.encType || defaultEncType;\n\n    if (target instanceof FormData) {\n      formData = target;\n    } else {\n      formData = new FormData();\n\n      if (target instanceof URLSearchParams) {\n        for (let [name, value] of target) {\n          formData.append(name, value);\n        }\n      } else if (target != null) {\n        for (let name of Object.keys(target)) {\n          formData.append(name, target[name]);\n        }\n      }\n    }\n  }\n\n  let { protocol, host } = window.location;\n  let url = new URL(action, `${protocol}//${host}`);\n\n  return { url, method: method.toLowerCase(), encType, formData };\n}\n","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"IA7EQ\")).toString();","function _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n  return target;\n}\nmodule.exports = _objectWithoutPropertiesLoose, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","var objectWithoutPropertiesLoose = require(\"./objectWithoutPropertiesLoose.js\");\nfunction _objectWithoutProperties(source, excluded) {\n  if (source == null) return {};\n  var target = objectWithoutPropertiesLoose(source, excluded);\n  var key, i;\n  if (Object.getOwnPropertySymbols) {\n    var sourceSymbolKeys = Object.getOwnPropertySymbols(source);\n    for (i = 0; i < sourceSymbolKeys.length; i++) {\n      key = sourceSymbolKeys[i];\n      if (excluded.indexOf(key) >= 0) continue;\n      if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue;\n      target[key] = source[key];\n    }\n  }\n  return target;\n}\nmodule.exports = _objectWithoutProperties, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","import _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/objectWithoutProperties\";\nvar _excluded = [\"forwardedRef\"];\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) { symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); } keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport { createElement, forwardRef as forwardRefReact } from 'react';\nimport { useTranslation } from './useTranslation';\nimport { getDisplayName } from './utils';\nexport function withTranslation(ns) {\n  var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  return function Extend(WrappedComponent) {\n    function I18nextWithTranslation(_ref) {\n      var forwardedRef = _ref.forwardedRef,\n          rest = _objectWithoutProperties(_ref, _excluded);\n\n      var _useTranslation = useTranslation(ns, _objectSpread(_objectSpread({}, rest), {}, {\n        keyPrefix: options.keyPrefix\n      })),\n          _useTranslation2 = _slicedToArray(_useTranslation, 3),\n          t = _useTranslation2[0],\n          i18n = _useTranslation2[1],\n          ready = _useTranslation2[2];\n\n      var passDownProps = _objectSpread(_objectSpread({}, rest), {}, {\n        t: t,\n        i18n: i18n,\n        tReady: ready\n      });\n\n      if (options.withRef && forwardedRef) {\n        passDownProps.ref = forwardedRef;\n      } else if (!options.withRef && forwardedRef) {\n        passDownProps.forwardedRef = forwardedRef;\n      }\n\n      return createElement(WrappedComponent, passDownProps);\n    }\n\n    I18nextWithTranslation.displayName = \"withI18nextTranslation(\".concat(getDisplayName(WrappedComponent), \")\");\n    I18nextWithTranslation.WrappedComponent = WrappedComponent;\n\n    var forwardRef = function forwardRef(props, ref) {\n      return createElement(I18nextWithTranslation, Object.assign({}, props, {\n        forwardedRef: ref\n      }));\n    };\n\n    return options.withRef ? forwardRefReact(forwardRef) : I18nextWithTranslation;\n  };\n}","import { h, Component } from \"preact\";\nimport { http } from \"/src/core\";\nimport { withTranslation } from \"react-i18next\";\n\nclass StopNotificationEmails extends Component {\n  constructor() {\n    super();\n    http\n      .get(`/api${  window.location.pathname}`)\n      .then(() => {\n        this.setState({ message: this.props.t(\"notification_emails_stopped\") });\n      })\n      .catch(err => {\n        console.warn(err);\n        this.setState({ message: this.props.t(\"error\") });\n      });\n  }\n\n  render() {\n    return <div>{this.state.message || \"\"}</div>;\n  }\n}\n\nexport default withTranslation()(StopNotificationEmails);\n","import { h } from \"preact\";\nimport Message from \"./message.component.js\";\n\nexport default function MessageChild(props) {\n  return (\n    <Message\n      id={props.id}\n      isChild={true}\n    />\n  );\n}\n","import { h } from \"preact\";\nimport { router, util } from \"/src/core\";\nimport MessageChild from \"./message-child.component.js\";\nimport { useEffect, useState } from \"preact/hooks\";\nimport { useTranslation } from \"react-i18next\";\n\nexport default function MessageChildren(props) {\n\n  const { t } = useTranslation();\n  const [firstDisplayedChild, setFirstDisplayedChild] = useState(0);\n  const [lastDisplayedChild, setLastDisplayedChild] = useState(0);\n\n  const onNewChild = event => {\n    const newMsg = event.detail;\n    if (newMsg.parent && util.getId(newMsg.parent) == props.id) {\n      // a big number to display all children until the new one. This is not elegant...\n      // The issue is that we can't simply increment lastDisplayedChild as it is not defined here\n      // Another issue is that a user could load a comment in the middle of the list and create a new one...\n      // The real answer is to make a paginated list but that is for another time\n      setLastDisplayedChild(1024);\n    }\n  };\n\n  const displayPreviousChildren = () => {\n    setFirstDisplayedChild(Math.max(0, firstDisplayedChild - 10));\n  };\n\n  const displayNextChildren = () => {\n    setLastDisplayedChild(Math.min(props.childMessages.length, lastDisplayedChild + 10));\n  };\n\n  useEffect(() => {\n    window.addEventListener(\"newChild\", onNewChild);\n    let firstDisplayedChild = 0;\n    let lastDisplayedChild = 0;\n    if (props.childMessages.length) {\n      let msgIndex = router.action\n        ? props.childMessages.findIndex(e => e && e.id === router.action)\n        : -1;\n      if (msgIndex != -1) {\n        firstDisplayedChild = Math.max(0, msgIndex - 1);\n        lastDisplayedChild = Math.min(\n          props.childMessages.length,\n          msgIndex + 1\n        );\n      } else {\n        firstDisplayedChild = props.childMessages && props.childMessages.length - 5; // display the last 5 children\n        lastDisplayedChild = props.childMessages && props.childMessages.length;\n      }\n    }\n    setFirstDisplayedChild(firstDisplayedChild);\n    setLastDisplayedChild(lastDisplayedChild);\n  }, []);\n\n  if (\n    lastDisplayedChild - firstDisplayedChild < 1 ||\n    !props.childMessages\n  ) {\n    return null;\n  }\n  return (\n    <div class=\"children\">\n      {firstDisplayedChild > 0 && (\n        <div class=\"d-flex\">\n          <a\n            class=\"more-coms unselectable\"\n            onClick={() => displayPreviousChildren()}\n          >\n            {t(\"previous_coms\")}\n          </a>\n        </div>\n      )}\n      {props.childMessages.map((e, i) => {\n        if (\n          i < firstDisplayedChild ||\n          i > lastDisplayedChild\n        ) {\n          return null;\n        }\n\n        return (\n          <MessageChild\n            id={e.id}\n            key={e.id}\n          />\n        );\n      })}\n      {lastDisplayedChild + 1 <\n        props.childMessages.length && (\n        <div class=\"d-flex\">\n          <span\n            class=\"more-coms unselectable\"\n            onClick={() => displayNextChildren()}\n          >\n            {t(\"next_coms\")}\n          </span>\n        </div>\n      )}\n    </div>\n  );\n}\n","import { h } from \"preact\";\nimport { util } from \"/src/core\";\n\nexport default function MessageHead(props) {\n  return (\n    <div class=\"message-head d-flex\">\n      {!props.isPublic && (\n        <div>\n          <img\n            className={\n              `rounded-circle material-shadow avatar${ \n                props.author && props.author.name ? \"\" : \" removed-user\"}`\n            }\n            style={util.backgroundHash(\n              props.author && props.author.name ? props.author && props.author.id : \"\"\n            )}\n            src={\n              props.author && props.author.avatar\n                ? util.crop(props.author.avatar.id, 100, 100)\n                : util.defaultAvatar\n            }\n            title={props.author && props.author.name ? props.author.name : \"\"}\n          />\n        </div>\n      )}\n      {!props.isChild && !props.isPublic && (\n        <div class=\"infos\">\n          <span class=\"capitalize author\">\n            {props.author && props.author.name ? props.author.name : \"\"}\n          </span>\n        </div>\n      )}\n    </div>\n  );\n}\n","import _FaIcon from \"./fa-icon.component.js\";\n\nexport const FaIcon = _FaIcon;\n","import { h } from \"preact\";\n\n// Fontawesome icons taken from https://raw.githubusercontent.com/FortAwesome/Font-Awesome/master/js/all.js\nfunction FaIcon() {\n  const icons = {\n    regular: {\n      comment: [512, 512, [], \"f075\", \"M256 32C114.6 32 0 125.1 0 240c0 47.6 19.9 91.2 52.9 126.3C38 405.7 7 439.1 6.5 439.5c-6.6 7-8.4 17.2-4.6 26S14.4 480 24 480c61.5 0 110-25.7 139.1-46.3C192 442.8 223.2 448 256 448c141.4 0 256-93.1 256-208S397.4 32 256 32zm0 368c-26.7 0-53.1-4.1-78.4-12.1l-22.7-7.2-19.5 13.8c-14.3 10.1-33.9 21.4-57.5 29 7.3-12.1 14.4-25.7 19.9-40.2l10.6-28.1-20.6-21.8C69.7 314.1 48 282.2 48 240c0-88.2 93.3-160 208-160s208 71.8 208 160-93.3 160-208 160z\"],\n      bookmark: [384, 512, [], \"f02e\", \"M336 0H48C21.49 0 0 21.49 0 48v464l192-112 192 112V48c0-26.51-21.49-48-48-48zm0 428.43l-144-84-144 84V54a6 6 0 0 1 6-6h276c3.314 0 6 2.683 6 5.996V428.43z\"],\n      images: [ 576, 512, [], \"f302\", \"M480 416v16c0 26.51-21.49 48-48 48H48c-26.51 0-48-21.49-48-48V176c0-26.51 21.49-48 48-48h16v48H54a6 6 0 0 0-6 6v244a6 6 0 0 0 6 6h372a6 6 0 0 0 6-6v-10h48zm42-336H150a6 6 0 0 0-6 6v244a6 6 0 0 0 6 6h372a6 6 0 0 0 6-6V86a6 6 0 0 0-6-6zm6-48c26.51 0 48 21.49 48 48v256c0 26.51-21.49 48-48 48H144c-26.51 0-48-21.49-48-48V80c0-26.51 21.49-48 48-48h384zM264 144c0 22.091-17.909 40-40 40s-40-17.909-40-40 17.909-40 40-40 40 17.909 40 40zm-72 96l39.515-39.515c4.686-4.686 12.284-4.686 16.971 0L288 240l103.515-103.515c4.686-4.686 12.284-4.686 16.971 0L480 208v80H192v-48z\"],\n      \"check-circle\": [512, 512, [], \"f058\", \"M256 8C119.033 8 8 119.033 8 256s111.033 248 248 248 248-111.033 248-248S392.967 8 256 8zm0 48c110.532 0 200 89.451 200 200 0 110.532-89.451 200-200 200-110.532 0-200-89.451-200-200 0-110.532 89.451-200 200-200m140.204 130.267l-22.536-22.718c-4.667-4.705-12.265-4.736-16.97-.068L215.346 303.697l-59.792-60.277c-4.667-4.705-12.265-4.736-16.97-.069l-22.719 22.536c-4.705 4.667-4.736 12.265-.068 16.971l90.781 91.516c4.667 4.705 12.265 4.736 16.97.068l172.589-171.204c4.704-4.668 4.734-12.266.067-16.971z\"],\n      \"file-pdf\": [384, 512, [], \"f1c1\", \"M369.9 97.9L286 14C277 5 264.8-.1 252.1-.1H48C21.5 0 0 21.5 0 48v416c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48V131.9c0-12.7-5.1-25-14.1-34zM332.1 128H256V51.9l76.1 76.1zM48 464V48h160v104c0 13.3 10.7 24 24 24h104v288H48zm250.2-143.7c-12.2-12-47-8.7-64.4-6.5-17.2-10.5-28.7-25-36.8-46.3 3.9-16.1 10.1-40.6 5.4-56-4.2-26.2-37.8-23.6-42.6-5.9-4.4 16.1-.4 38.5 7 67.1-10 23.9-24.9 56-35.4 74.4-20 10.3-47 26.2-51 46.2-3.3 15.8 26 55.2 76.1-31.2 22.4-7.4 46.8-16.5 68.4-20.1 18.9 10.2 41 17 55.8 17 25.5 0 28-28.2 17.5-38.7zm-198.1 77.8c5.1-13.7 24.5-29.5 30.4-35-19 30.3-30.4 35.7-30.4 35zm81.6-190.6c7.4 0 6.7 32.1 1.8 40.8-4.4-13.9-4.3-40.8-1.8-40.8zm-24.4 136.6c9.7-16.9 18-37 24.7-54.7 8.3 15.1 18.9 27.2 30.1 35.5-20.8 4.3-38.9 13.1-54.8 19.2zm131.6-5s-5 6-37.3-7.8c35.1-2.6 40.9 5.4 37.3 7.8z\"],\n      bell: [448, 512, [], \"f0f3\", \"M439.39 362.29c-19.32-20.76-55.47-51.99-55.47-154.29 0-77.7-54.48-139.9-127.94-155.16V32c0-17.67-14.32-32-31.98-32s-31.98 14.33-31.98 32v20.84C118.56 68.1 64.08 130.3 64.08 208c0 102.3-36.15 133.53-55.47 154.29-6 6.45-8.66 14.16-8.61 21.71.11 16.4 12.98 32 32.1 32h383.8c19.12 0 32-15.6 32.1-32 .05-7.55-2.61-15.27-8.61-21.71zM67.53 368c21.22-27.97 44.42-74.33 44.53-159.42 0-.2-.06-.38-.06-.58 0-61.86 50.14-112 112-112s112 50.14 112 112c0 .2-.06.38-.06.58.11 85.1 23.31 131.46 44.53 159.42H67.53zM224 512c35.32 0 63.97-28.65 63.97-64H160.03c0 35.35 28.65 64 63.97 64z\"],\n      \"level-down-alt\": [320, 512, [], \"f3be\", \"M313.553 392.331L209.587 504.334c-9.485 10.214-25.676 10.229-35.174 0L70.438 392.331C56.232 377.031 67.062 352 88.025 352H152V80H68.024a11.996 11.996 0 0 1-8.485-3.515l-56-56C-4.021 12.926 1.333 0 12.024 0H208c13.255 0 24 10.745 24 24v328h63.966c20.878 0 31.851 24.969 17.587 40.331z\"]\n    },\n    solid: {\n      bookmark: [384, 512, [], \"f02e\", \"M0 512V48C0 21.49 21.49 0 48 0h288c26.51 0 48 21.49 48 48v464L192 400 0 512z\"],\n      comment: [512, 512, [], \"f075\", \"M256 32C114.6 32 0 125.1 0 240c0 49.6 21.4 95 57 130.7C44.5 421.1 2.7 466 2.2 466.5c-2.2 2.3-2.8 5.7-1.5 8.7S4.8 480 8 480c66.3 0 116-31.8 140.6-51.4 32.7 12.3 69 19.4 107.4 19.4 141.4 0 256-93.1 256-208S397.4 32 256 32z\"],\n      \"pencil-alt\": [512, 512, [], \"f303\", \"M497.9 142.1l-46.1 46.1c-4.7 4.7-12.3 4.7-17 0l-111-111c-4.7-4.7-4.7-12.3 0-17l46.1-46.1c18.7-18.7 49.1-18.7 67.9 0l60.1 60.1c18.8 18.7 18.8 49.1 0 67.9zM284.2 99.8L21.6 362.4.4 483.9c-2.9 16.4 11.4 30.6 27.8 27.8l121.5-21.3 262.6-262.6c4.7-4.7 4.7-12.3 0-17l-111-111c-4.8-4.7-12.4-4.7-17.1 0zM124.1 339.9c-5.5-5.5-5.5-14.3 0-19.8l154-154c5.5-5.5 14.3-5.5 19.8 0s5.5 14.3 0 19.8l-154 154c-5.5 5.5-14.3 5.5-19.8 0zM88 424h48v36.3l-64.5 11.3-31.1-31.1L51.7 376H88v48z\"],\n      \"arrow-left\": [448, 512, [], \"f060\", \"M257.5 445.1l-22.2 22.2c-9.4 9.4-24.6 9.4-33.9 0L7 273c-9.4-9.4-9.4-24.6 0-33.9L201.4 44.7c9.4-9.4 24.6-9.4 33.9 0l22.2 22.2c9.5 9.5 9.3 25-.4 34.3L136.6 216H424c13.3 0 24 10.7 24 24v32c0 13.3-10.7 24-24 24H136.6l120.5 114.8c9.8 9.3 10 24.8.4 34.3z\"],\n      \"caret-down\": [320, 512, [], \"f0d7\", \"M31.3 192h257.3c17.8 0 26.7 21.5 14.1 34.1L174.1 354.8c-7.8 7.8-20.5 7.8-28.3 0L17.2 226.1C4.6 213.5 13.5 192 31.3 192z\"],\n      film: [512, 512, [], \"f008\", \"M488 64h-8v20c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12V64H96v20c0 6.6-5.4 12-12 12H44c-6.6 0-12-5.4-12-12V64h-8C10.7 64 0 74.7 0 88v336c0 13.3 10.7 24 24 24h8v-20c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v20h320v-20c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v20h8c13.3 0 24-10.7 24-24V88c0-13.3-10.7-24-24-24zM96 372c0 6.6-5.4 12-12 12H44c-6.6 0-12-5.4-12-12v-40c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40zm0-96c0 6.6-5.4 12-12 12H44c-6.6 0-12-5.4-12-12v-40c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40zm0-96c0 6.6-5.4 12-12 12H44c-6.6 0-12-5.4-12-12v-40c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40zm272 208c0 6.6-5.4 12-12 12H156c-6.6 0-12-5.4-12-12v-96c0-6.6 5.4-12 12-12h200c6.6 0 12 5.4 12 12v96zm0-168c0 6.6-5.4 12-12 12H156c-6.6 0-12-5.4-12-12v-96c0-6.6 5.4-12 12-12h200c6.6 0 12 5.4 12 12v96zm112 152c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40zm0-96c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40zm0-96c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40z\"],\n      times: [352, 512, [], \"f00d\", \"M242.72 256l100.07-100.07c12.28-12.28 12.28-32.19 0-44.48l-22.24-22.24c-12.28-12.28-32.19-12.28-44.48 0L176 189.28 75.93 89.21c-12.28-12.28-32.19-12.28-44.48 0L9.21 111.45c-12.28 12.28-12.28 32.19 0 44.48L109.28 256 9.21 356.07c-12.28 12.28-12.28 32.19 0 44.48l22.24 22.24c12.28 12.28 32.2 12.28 44.48 0L176 322.72l100.07 100.07c12.28 12.28 32.2 12.28 44.48 0l22.24-22.24c12.28-12.28 12.28-32.19 0-44.48L242.72 256z\"],\n      bell: [448, 512, [], \"f0f3\", \"M224 512c35.32 0 63.97-28.65 63.97-64H160.03c0 35.35 28.65 64 63.97 64zm215.39-149.71c-19.32-20.76-55.47-51.99-55.47-154.29 0-77.7-54.48-139.9-127.94-155.16V32c0-17.67-14.32-32-31.98-32s-31.98 14.33-31.98 32v20.84C118.56 68.1 64.08 130.3 64.08 208c0 102.3-36.15 133.53-55.47 154.29-6 6.45-8.66 14.16-8.61 21.71.11 16.4 12.98 32 32.1 32h383.8c19.12 0 32-15.6 32.1-32 .05-7.55-2.61-15.27-8.61-21.71z\"],\n      \"ellipsis-h\": [512, 512, [], \"f141\", \"M328 256c0 39.8-32.2 72-72 72s-72-32.2-72-72 32.2-72 72-72 72 32.2 72 72zm104-72c-39.8 0-72 32.2-72 72s32.2 72 72 72 72-32.2 72-72-32.2-72-72-72zm-352 0c-39.8 0-72 32.2-72 72s32.2 72 72 72 72-32.2 72-72-32.2-72-72-72z\"],\n      search: [512, 512, [], \"f002\", \"M505 442.7L405.3 343c-4.5-4.5-10.6-7-17-7H372c27.6-35.3 44-79.7 44-128C416 93.1 322.9 0 208 0S0 93.1 0 208s93.1 208 208 208c48.3 0 92.7-16.4 128-44v16.3c0 6.4 2.5 12.5 7 17l99.7 99.7c9.4 9.4 24.6 9.4 33.9 0l28.3-28.3c9.4-9.4 9.4-24.6.1-34zM208 336c-70.7 0-128-57.2-128-128 0-70.7 57.2-128 128-128 70.7 0 128 57.2 128 128 0 70.7-57.2 128-128 128z\"]\n    }\n  };\n\n  const icon = icons[this.props.family][this.props.icon];\n\n  if (icon) {\n    return (\n      <svg\n        style={this.props.rotation ? `transform: rotate(${this.props.rotation})` : null}\n        className={`fa-icon ${this.props.family} ${this.props.icon}`}\n        viewBox={`0 0 ${icon[0]} ${icon[1]}`}\n      >\n        <path fill=\"currentColor\" d={icon[4]} />\n      </svg>\n    );\n  }\n}\n\nexport default FaIcon;\n","import {\n  useMemo,\n  useContext,\n  useState,\n  useLayoutEffect,\n  useEffect\n} from 'preact/hooks'\nimport { createContext, h } from 'preact'\nimport { forwardRef } from 'preact/compat'\n\nlet StoreContext = createContext()\n\nlet useIsomorphicLayoutEffect =\n  typeof window !== 'undefined' ? useLayoutEffect : useEffect\n\nlet customContext = context => (...keys) => {\n  let store = useContext(context)\n  if (process.env.NODE_ENV !== 'production' && !store) {\n    throw new Error(\n      'Could not find storeon context value.' +\n        'Please ensure the component is wrapped in a <StoreContext.Provider>'\n    )\n  }\n\n  let rerender = useState({})\n\n  useIsomorphicLayoutEffect(() => {\n    return store.on('@changed', (_, changed) => {\n      let changesInKeys = keys.some(key => key in changed)\n      if (changesInKeys) rerender[1]({})\n    })\n  }, [])\n\n  return useMemo(() => {\n    let state = store.get()\n    let data = {}\n    keys.forEach(key => {\n      data[key] = state[key]\n    })\n    data.dispatch = store.dispatch\n    return data\n  }, [rerender[0]])\n}\n\nlet useStoreon = customContext(StoreContext)\n\nlet connectStoreon = (...keys) => {\n  let Component = keys.pop()\n  return forwardRef((originProps, ref) => {\n    let props = { ...originProps, ...useStoreon(...keys), ref }\n    return h(Component, props)\n  })\n}\n\nexport { useStoreon, StoreContext, connectStoreon, customContext }\n","import _GroupSearch from \"./group-search.component.js\";\nimport _GroupSearchWrapper from \"./group-search-wrapper.component.js\";\nimport _GroupsDropdownNavbar from \"./groups-dropdown-navbar.component.js\";\nimport _Navbar from \"./navbar.component.js\";\nimport _NotificationsDropdownNavbar from \"./notifications-dropdown-navbar.component.js\";\n\nexport const GroupSearch = _GroupSearch;\nexport const GroupSearchWrapper = _GroupSearchWrapper;\nexport const GroupsDropdownNavbar = _GroupsDropdownNavbar;\nexport const Navbar = _Navbar;\nexport const NotificationsDropdownNavbar = _NotificationsDropdownNavbar;\n","import { h } from \"preact\";\nimport { router, http } from \"/src/core\";\nimport { MessageSearchResult } from \"/src/message\";\nimport { useEffect, useState } from \"preact/hooks\";\nimport { useTranslation } from \"react-i18next\";\n\nexport default function GroupSearch(props) {\n\n  const { t } = useTranslation();\n  const groupId = useState(props.id);\n  const [loaded, setLoaded] = useState(false);\n  const [search, setSearch] = useState(\"\");\n  const [hashtags, setHashtags] = useState(\"\");\n  const [messages, setMessages] = useState([]);\n\n  const loadMessages = () => {\n    const search = router.getParam(\"q\");\n    const hashtags = router.getParam(\"hashtags\");\n    setSearch(search);\n    setHashtags(hashtags);\n    setLoaded(false);\n    setMessages([]);\n    http.post(\"/api/messages/search\", {\n      group: groupId,\n      search,\n      hashtags\n    }).then(res => {\n      if (res && Array.isArray(res[\"messages\"])) {\n        setSearch(search);\n        setMessages(res[\"messages\"]);\n        setLoaded(true);\n      }\n    });\n  };\n\n  useEffect(() => {\n    loadMessages();\n    window.addEventListener(\"groupSearch\", loadMessages);\n    return () => {\n      window.removeEventListener(\"groupSearch\", loadMessages);\n    };\n  }, []);\n\n  if (!Array.isArray(messages)) {\n    return;\n  }\n\n  return (\n    <div>\n      <article id=\"group\" class=\"justify-content-center d-flex\">\n        <div class=\"search-results-container container-fluid d-flex justify-content-center flex-wrap\">\n          {messages.length == 0 && !loaded && (\n            <p>\n              <div class=\"mt-5 spinner orange-spinner\">\n                <div /><div /><div /><div /><div />\n              </div>\n            </p>\n          )}\n          {messages.length == 0 && loaded && (\n            <p>{t(\"search_without_result\")}</p>\n          )}\n          {messages.map((msg, i) => {\n            return (\n              <MessageSearchResult\n                tabindex={i + 1}\n                key={msg.id}\n                message={msg}\n                groupId={groupId}\n                search={search}\n                hashtags={hashtags}\n              />\n            );\n          })}\n        </div>\n      </article>\n    </div>\n  );\n}\n","import { h } from \"preact\";\nimport { Navbar, GroupSearch } from \"/src/navbar\";\nimport { useParams } from \"react-router-dom\";\n\nexport default function GroupSearchWrapper() {\n  let params = useParams();\n  return (\n    <main>\n      <Navbar />\n      <div class=\"content\">\n        <article class=\"mb-3\">\n          <div class=\"container pb-3\">\n            <GroupSearch key={params.id} id={params.id} />\n          </div>\n        </article>\n      </div>\n    </main>\n  );\n}\n","import { h, Fragment } from \"preact\";\nimport { FaIcon } from \"/src/misc\";\nimport { Link } from \"react-router-dom\";\nimport { useTranslation } from \"react-i18next\";\n\nexport default function GroupsDropdownNavbar() {\n  const { t } = useTranslation();\n  return (\n    <Fragment>\n      {this.props.groups && (\n        <div\n          class=\"nav-link dropdown groups unselectable\"\n          tabindex=\"-1\"\n          onClick={e => e.currentTarget.classList.toggle(\"active\")}\n        >\n          <div class=\"unselectable pr-1\">\n            {t(\"groups\")} <FaIcon family={\"solid\"} icon={\"caret-down\"} />\n          </div>\n          <div class=\"dropdown-menu dropdown-left\">\n            {this.props.groups.filter(e => !!e).map(e => (\n              <Link\n                key={e.id}\n                to={`/groups/${e.id}`}\n                class=\"d-block seamless-link unselectable\"\n              >\n                {e.name}\n              </Link>\n            ))}\n            <Link\n              to={\"/create-group\"}\n              class=\"seamless-link unselectable\"\n            >\n              {`+ ${t(\"create_a_group\")}`}\n            </Link>\n          </div>\n        </div>\n      )}\n    </Fragment>\n  );\n}\n","import { h } from \"preact\";\nimport { router, util } from \"/src/core\";\nimport { Search } from \"/src/pages\";\nimport { GroupsDropdownNavbar, NotificationsDropdownNavbar } from \"/src/navbar\";\nimport { Link } from \"react-router-dom\";\nimport { useStoreon } from \"storeon/preact\";\nimport { useTranslation } from \"react-i18next\";\n\nexport default function Navbar() {\n\n  const { t } = useTranslation();\n  const { bookmarks } = useStoreon(\"bookmarks\");\n  const { me } = useStoreon(\"me\");\n\n  return (\n    <div class=\"main-nav nav align-items-center z-index-100\">\n      <div class=\"navbar-block\">\n        <div\n          class=\"menu dropdown cursor-pointer\"\n          tabindex=\"-1\"\n          onClick={e => e.currentTarget.classList.toggle(\"active\")}\n        >\n          <div class=\"rounded-circle avatar unselectable\">\n            <img\n              class=\"rounded-circle\"\n              style={util.backgroundHash(me.id)}\n              src={\n                me.avatar\n                  ? util.crop(me.avatar[\"id\"], 80, 80)\n                  : util.defaultAvatar\n              }\n              onError={e => (e.currentTarget.src = util.defaultAvatar)}\n            />\n          </div>\n          <div class=\"dropdown-menu dropdown-right\">\n            { bookmarks?.length > 0 && (\n              <Link\n                class=\"d-block seamless-link capitalize\"\n                to={\"/bookmarks\"}\n              >\n                {t(\"bookmarks\")}\n              </Link>\n            )}\n            <Link\n              class=\"d-block seamless-link capitalize\"\n              to={`/users/${me.id}/settings`}\n            >\n              {t(\"settings\")}\n            </Link>\n            <Link\n              class=\"d-block seamless-link capitalize\"\n              to={\"/logout\"}\n            >\n              {t(\"logout\")}\n            </Link>\n          </div>\n        </div>\n        <NotificationsDropdownNavbar />\n      </div>\n      { [\"messages\", \"groups\"].includes(router.route) && (\n        <Search />\n      )}\n      <div class=\"navbar-block\">\n        <GroupsDropdownNavbar groups={me.groups} />\n      </div>\n    </div>\n  );\n}\n","import { h } from \"preact\";\nimport { notifications as notifs } from \"/src/core\";\nimport { FaIcon } from \"/src/misc\";\nimport { Notification } from \"/src/pages\";\nimport { useStoreon } from \"storeon/preact\";\nimport { useTranslation } from \"react-i18next\";\n\nexport default function NotificationsDropdownNavbar() {\n\n  const { t } = useTranslation();\n  const { notifications } = useStoreon(\"notifications\");\n  if (!notifications) {\n    return null;\n  }\n\n  return (\n    <div\n      className={\n        `menu dropdown${notifications.length ? \" cursor-pointer\" : \"\"}`\n      }\n      title={t(\"notifications\")}\n      tabindex=\"-1\"\n      onClick={e =>\n        notifications.length &&\n        e.currentTarget.classList.toggle(\"active\")\n      }\n    >\n      <div class=\"unselectable button-with-count\">\n        <FaIcon\n          family={notifications.length ? \"solid\" : \"regular\"}\n          icon={\"bell\"}\n        />\n        {!!notifications.filter(n => !n.read).length && (\n          <div class=\"unread-badge\" />\n        )}\n      </div>\n      <div class=\"dropdown-menu dropdown-right notifications-menu\">\n        <div class=\"notification-header\">\n          <strong class=\"capitalize\">{t(\"notifications\")}</strong>\n          <div\n            class=\"action capitalize\"\n            onClick={() => {\n              notifs.markAllNotificationsAsRead();\n            }}\n          >\n            {t(\"mark_all_as_read\")}\n          </div>\n        </div>\n        {notifications?.length && (\n          notifications.sort((a, b) => b.createdAt - a.createdAt).slice(0,notifs.LIMIT).map(e => <Notification key={e.id + e.read} {...e} />)\n        )}\n      </div>\n    </div>\n  );\n}\n","import { h, Component } from \"preact\";\nimport { http, util } from \"/src/core\";\nimport { withTranslation } from \"react-i18next\";\nimport { Navbar } from \"/src/navbar\";\n\nclass CreateGroup extends Component {\n  constructor() {\n    super();\n    this.postNewGroup = this.postNewGroup.bind(this);\n  }\n\n  postNewGroup(event) {\n    event.preventDefault();\n    const name = document.querySelector(\"#create_group_form input[name='name']\").value;\n    let group = {};\n    if (name) {\n      group.name = name;\n    } else {\n      return false;\n    }\n    group.createdAt = Math.floor(Date.now() / 1000);\n    http.post(\"/api/groups\", group).then(res => {\n      http.post(`/api/groups/invitation/${  res.secretKey}`, {}).then(res => {\n        window.location = util.toApp(`/groups/${res.id}`);\n      });\n    });\n  }\n\n  render() {\n    return (\n      <main>\n        <Navbar />\n        <div class=\"content\">\n          <div class=\"container mt-2\">\n            <div class=\"group-settings\">\n              <div class=\"card\">\n                <div class=\"card-body\">\n                  <div class=\"container-fluid p-1\">\n                    <div class=\"row\">\n                      <div class=\"col-12 col-md-10\">\n                        <form id=\"create_group_form\" class=\"mb-1\">\n                          <div class=\"form-group\">\n                            <label for=\"name\">{this.props.t(\"name\")}: </label>\n                            <input\n                              type=\"text\"\n                              name=\"name\"\n                              minlength=\"1\"\n                              maxlength=\"128\"\n                              placeholder={this.props.t(\"name_input\")}\n                              class=\"form-control\"\n                              required\n                            />\n                          </div>\n                          <button\n                            onClick={e => this.postNewGroup(e)}\n                            class=\"btn btn-primary\"\n                          >\n                            {this.props.t(\"create_the_group\")}\n                          </button>\n                        </form>\n                      </div>\n                    </div>\n                  </div>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      </main>\n    );\n  }\n}\n\nexport default withTranslation()(CreateGroup);\n","import { h, Component } from \"preact\";\n\nexport default class BandCampEmbed extends Component {\n  render() {\n    const embedUrl =\n      `${this.props.url \n      }/size=large/bgcol=f5f5f5/linkcol=0687f5/minimal=true/tracklist=false/`;\n    if (this.state.revealed) {\n      return (\n        <div class=\"bandcamp-embed embed-responsive embed-responsive-1by1\">\n          <iframe class=\"embed-responsive-item\" src={embedUrl} />\n        </div>\n      );\n    }\n    return (\n      <div\n        class=\"embed-preview\"\n        onClick={() => this.setState({ revealed: true })}\n      >\n        <div class=\"bandcamp\" />\n        <img src={this.props.preview} />\n      </div>\n    );\n  }\n}\n","import { h, Component } from \"preact\";\n\nexport default class GenericEmbed extends Component {\n  render() {\n    if (this.state.revealed) {\n      return (\n        <div class=\"embed-responsive embed-responsive-16by9\">\n          <iframe\n            allowfullscreen\n            class=\"embed-responsive-item\"\n            src={this.props.url}\n          />\n        </div>\n      );\n    }\n    return (\n      <div\n        class=\"embed-preview\"\n        onClick={() => this.setState({revealed: true})}\n      >\n        <div className={this.props.playBtnClass} />\n        <img src={this.props.preview} />\n      </div>\n    );\n  }\n}\n","!function(e,t){\"object\"==typeof exports&&\"undefined\"!=typeof module?module.exports=t():\"function\"==typeof define&&define.amd?define(t):(e=e||self).GLightbox=t()}(this,(function(){\"use strict\";function e(t){return(e=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e})(t)}function t(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}function i(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,\"value\"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function n(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e}var s=Date.now();function l(){var e={},t=!0,i=0,n=arguments.length;\"[object Boolean]\"===Object.prototype.toString.call(arguments[0])&&(t=arguments[0],i++);for(var s=function(i){for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t&&\"[object Object]\"===Object.prototype.toString.call(i[n])?e[n]=l(!0,e[n],i[n]):e[n]=i[n])};i<n;i++){var o=arguments[i];s(o)}return e}function o(e,t){if((k(e)||e===window||e===document)&&(e=[e]),A(e)||L(e)||(e=[e]),0!=P(e))if(A(e)&&!L(e))for(var i=e.length,n=0;n<i&&!1!==t.call(e[n],e[n],n,e);n++);else if(L(e))for(var s in e)if(O(e,s)&&!1===t.call(e[s],e[s],s,e))break}function r(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,n=e[s]=e[s]||[],l={all:n,evt:null,found:null};return t&&i&&P(n)>0&&o(n,(function(e,n){if(e.eventName==t&&e.fn.toString()==i.toString())return l.found=!0,l.evt=n,!1})),l}function a(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=t.onElement,n=t.withCallback,s=t.avoidDuplicate,l=void 0===s||s,a=t.once,h=void 0!==a&&a,d=t.useCapture,c=void 0!==d&&d,u=arguments.length>2?arguments[2]:void 0,g=i||[];function v(e){T(n)&&n.call(u,e,this),h&&v.destroy()}return C(g)&&(g=document.querySelectorAll(g)),v.destroy=function(){o(g,(function(t){var i=r(t,e,v);i.found&&i.all.splice(i.evt,1),t.removeEventListener&&t.removeEventListener(e,v,c)}))},o(g,(function(t){var i=r(t,e,v);(t.addEventListener&&l&&!i.found||!l)&&(t.addEventListener(e,v,c),i.all.push({eventName:e,fn:v}))})),v}function h(e,t){o(t.split(\" \"),(function(t){return e.classList.add(t)}))}function d(e,t){o(t.split(\" \"),(function(t){return e.classList.remove(t)}))}function c(e,t){return e.classList.contains(t)}function u(e,t){for(;e!==document.body;){if(!(e=e.parentElement))return!1;if(\"function\"==typeof e.matches?e.matches(t):e.msMatchesSelector(t))return e}}function g(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:\"\",i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(!e||\"\"===t)return!1;if(\"none\"===t)return T(i)&&i(),!1;var n=x(),s=t.split(\" \");o(s,(function(t){h(e,\"g\"+t)})),a(n,{onElement:e,avoidDuplicate:!1,once:!0,withCallback:function(e,t){o(s,(function(e){d(t,\"g\"+e)})),T(i)&&i()}})}function v(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:\"\";if(\"\"===t)return e.style.webkitTransform=\"\",e.style.MozTransform=\"\",e.style.msTransform=\"\",e.style.OTransform=\"\",e.style.transform=\"\",!1;e.style.webkitTransform=t,e.style.MozTransform=t,e.style.msTransform=t,e.style.OTransform=t,e.style.transform=t}function f(e){e.style.display=\"block\"}function p(e){e.style.display=\"none\"}function m(e){var t=document.createDocumentFragment(),i=document.createElement(\"div\");for(i.innerHTML=e;i.firstChild;)t.appendChild(i.firstChild);return t}function y(){return{width:window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth,height:window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight}}function x(){var e,t=document.createElement(\"fakeelement\"),i={animation:\"animationend\",OAnimation:\"oAnimationEnd\",MozAnimation:\"animationend\",WebkitAnimation:\"webkitAnimationEnd\"};for(e in i)if(void 0!==t.style[e])return i[e]}function b(e,t,i,n){if(e())t();else{var s;i||(i=100);var l=setInterval((function(){e()&&(clearInterval(l),s&&clearTimeout(s),t())}),i);n&&(s=setTimeout((function(){clearInterval(l)}),n))}}function S(e,t,i){if(I(e))console.error(\"Inject assets error\");else if(T(t)&&(i=t,t=!1),C(t)&&t in window)T(i)&&i();else{var n;if(-1!==e.indexOf(\".css\")){if((n=document.querySelectorAll('link[href=\"'+e+'\"]'))&&n.length>0)return void(T(i)&&i());var s=document.getElementsByTagName(\"head\")[0],l=s.querySelectorAll('link[rel=\"stylesheet\"]'),o=document.createElement(\"link\");return o.rel=\"stylesheet\",o.type=\"text/css\",o.href=e,o.media=\"all\",l?s.insertBefore(o,l[0]):s.appendChild(o),void(T(i)&&i())}if((n=document.querySelectorAll('script[src=\"'+e+'\"]'))&&n.length>0){if(T(i)){if(C(t))return b((function(){return void 0!==window[t]}),(function(){i()})),!1;i()}}else{var r=document.createElement(\"script\");r.type=\"text/javascript\",r.src=e,r.onload=function(){if(T(i)){if(C(t))return b((function(){return void 0!==window[t]}),(function(){i()})),!1;i()}},document.body.appendChild(r)}}}function w(){return\"navigator\"in window&&window.navigator.userAgent.match(/(iPad)|(iPhone)|(iPod)|(Android)|(PlayBook)|(BB10)|(BlackBerry)|(Opera Mini)|(IEMobile)|(webOS)|(MeeGo)/i)}function T(e){return\"function\"==typeof e}function C(e){return\"string\"==typeof e}function k(e){return!(!e||!e.nodeType||1!=e.nodeType)}function E(e){return Array.isArray(e)}function A(e){return e&&e.length&&isFinite(e.length)}function L(t){return\"object\"===e(t)&&null!=t&&!T(t)&&!E(t)}function I(e){return null==e}function O(e,t){return null!==e&&hasOwnProperty.call(e,t)}function P(e){if(L(e)){if(e.keys)return e.keys().length;var t=0;for(var i in e)O(e,i)&&t++;return t}return e.length}function M(e){return!isNaN(parseFloat(e))&&isFinite(e)}function z(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:-1,t=document.querySelectorAll(\".gbtn[data-taborder]:not(.disabled)\");if(!t.length)return!1;if(1==t.length)return t[0];\"string\"==typeof e&&(e=parseInt(e));var i=[];o(t,(function(e){i.push(e.getAttribute(\"data-taborder\"))}));var n=Math.max.apply(Math,i.map((function(e){return parseInt(e)}))),s=e<0?1:e+1;s>n&&(s=\"1\");var l=i.filter((function(e){return e>=parseInt(s)})),r=l.sort()[0];return document.querySelector('.gbtn[data-taborder=\"'.concat(r,'\"]'))}function X(e){if(e.events.hasOwnProperty(\"keyboard\"))return!1;e.events.keyboard=a(\"keydown\",{onElement:window,withCallback:function(t,i){var n=(t=t||window.event).keyCode;if(9==n){var s=document.querySelector(\".gbtn.focused\");if(!s){var l=!(!document.activeElement||!document.activeElement.nodeName)&&document.activeElement.nodeName.toLocaleLowerCase();if(\"input\"==l||\"textarea\"==l||\"button\"==l)return}t.preventDefault();var o=document.querySelectorAll(\".gbtn[data-taborder]\");if(!o||o.length<=0)return;if(!s){var r=z();return void(r&&(r.focus(),h(r,\"focused\")))}var a=z(s.getAttribute(\"data-taborder\"));d(s,\"focused\"),a&&(a.focus(),h(a,\"focused\"))}39==n&&e.nextSlide(),37==n&&e.prevSlide(),27==n&&e.close()}})}function Y(e){return Math.sqrt(e.x*e.x+e.y*e.y)}function q(e,t){var i=function(e,t){var i=Y(e)*Y(t);if(0===i)return 0;var n=function(e,t){return e.x*t.x+e.y*t.y}(e,t)/i;return n>1&&(n=1),Math.acos(n)}(e,t);return function(e,t){return e.x*t.y-t.x*e.y}(e,t)>0&&(i*=-1),180*i/Math.PI}var N=function(){function e(i){t(this,e),this.handlers=[],this.el=i}return n(e,[{key:\"add\",value:function(e){this.handlers.push(e)}},{key:\"del\",value:function(e){e||(this.handlers=[]);for(var t=this.handlers.length;t>=0;t--)this.handlers[t]===e&&this.handlers.splice(t,1)}},{key:\"dispatch\",value:function(){for(var e=0,t=this.handlers.length;e<t;e++){var i=this.handlers[e];\"function\"==typeof i&&i.apply(this.el,arguments)}}}]),e}();function D(e,t){var i=new N(e);return i.add(t),i}var _=function(){function e(i,n){t(this,e),this.element=\"string\"==typeof i?document.querySelector(i):i,this.start=this.start.bind(this),this.move=this.move.bind(this),this.end=this.end.bind(this),this.cancel=this.cancel.bind(this),this.element.addEventListener(\"touchstart\",this.start,!1),this.element.addEventListener(\"touchmove\",this.move,!1),this.element.addEventListener(\"touchend\",this.end,!1),this.element.addEventListener(\"touchcancel\",this.cancel,!1),this.preV={x:null,y:null},this.pinchStartLen=null,this.zoom=1,this.isDoubleTap=!1;var s=function(){};this.rotate=D(this.element,n.rotate||s),this.touchStart=D(this.element,n.touchStart||s),this.multipointStart=D(this.element,n.multipointStart||s),this.multipointEnd=D(this.element,n.multipointEnd||s),this.pinch=D(this.element,n.pinch||s),this.swipe=D(this.element,n.swipe||s),this.tap=D(this.element,n.tap||s),this.doubleTap=D(this.element,n.doubleTap||s),this.longTap=D(this.element,n.longTap||s),this.singleTap=D(this.element,n.singleTap||s),this.pressMove=D(this.element,n.pressMove||s),this.twoFingerPressMove=D(this.element,n.twoFingerPressMove||s),this.touchMove=D(this.element,n.touchMove||s),this.touchEnd=D(this.element,n.touchEnd||s),this.touchCancel=D(this.element,n.touchCancel||s),this.translateContainer=this.element,this._cancelAllHandler=this.cancelAll.bind(this),window.addEventListener(\"scroll\",this._cancelAllHandler),this.delta=null,this.last=null,this.now=null,this.tapTimeout=null,this.singleTapTimeout=null,this.longTapTimeout=null,this.swipeTimeout=null,this.x1=this.x2=this.y1=this.y2=null,this.preTapPosition={x:null,y:null}}return n(e,[{key:\"start\",value:function(e){if(e.touches){if(e.target&&e.target.nodeName&&[\"a\",\"button\",\"input\"].indexOf(e.target.nodeName.toLowerCase())>=0)console.log(\"ignore drag for this touched element\",e.target.nodeName.toLowerCase());else{this.now=Date.now(),this.x1=e.touches[0].pageX,this.y1=e.touches[0].pageY,this.delta=this.now-(this.last||this.now),this.touchStart.dispatch(e,this.element),null!==this.preTapPosition.x&&(this.isDoubleTap=this.delta>0&&this.delta<=250&&Math.abs(this.preTapPosition.x-this.x1)<30&&Math.abs(this.preTapPosition.y-this.y1)<30,this.isDoubleTap&&clearTimeout(this.singleTapTimeout)),this.preTapPosition.x=this.x1,this.preTapPosition.y=this.y1,this.last=this.now;var t=this.preV;if(e.touches.length>1){this._cancelLongTap(),this._cancelSingleTap();var i={x:e.touches[1].pageX-this.x1,y:e.touches[1].pageY-this.y1};t.x=i.x,t.y=i.y,this.pinchStartLen=Y(t),this.multipointStart.dispatch(e,this.element)}this._preventTap=!1,this.longTapTimeout=setTimeout(function(){this.longTap.dispatch(e,this.element),this._preventTap=!0}.bind(this),750)}}}},{key:\"move\",value:function(e){if(e.touches){var t=this.preV,i=e.touches.length,n=e.touches[0].pageX,s=e.touches[0].pageY;if(this.isDoubleTap=!1,i>1){var l=e.touches[1].pageX,o=e.touches[1].pageY,r={x:e.touches[1].pageX-n,y:e.touches[1].pageY-s};null!==t.x&&(this.pinchStartLen>0&&(e.zoom=Y(r)/this.pinchStartLen,this.pinch.dispatch(e,this.element)),e.angle=q(r,t),this.rotate.dispatch(e,this.element)),t.x=r.x,t.y=r.y,null!==this.x2&&null!==this.sx2?(e.deltaX=(n-this.x2+l-this.sx2)/2,e.deltaY=(s-this.y2+o-this.sy2)/2):(e.deltaX=0,e.deltaY=0),this.twoFingerPressMove.dispatch(e,this.element),this.sx2=l,this.sy2=o}else{if(null!==this.x2){e.deltaX=n-this.x2,e.deltaY=s-this.y2;var a=Math.abs(this.x1-this.x2),h=Math.abs(this.y1-this.y2);(a>10||h>10)&&(this._preventTap=!0)}else e.deltaX=0,e.deltaY=0;this.pressMove.dispatch(e,this.element)}this.touchMove.dispatch(e,this.element),this._cancelLongTap(),this.x2=n,this.y2=s,i>1&&e.preventDefault()}}},{key:\"end\",value:function(e){if(e.changedTouches){this._cancelLongTap();var t=this;e.touches.length<2&&(this.multipointEnd.dispatch(e,this.element),this.sx2=this.sy2=null),this.x2&&Math.abs(this.x1-this.x2)>30||this.y2&&Math.abs(this.y1-this.y2)>30?(e.direction=this._swipeDirection(this.x1,this.x2,this.y1,this.y2),this.swipeTimeout=setTimeout((function(){t.swipe.dispatch(e,t.element)}),0)):(this.tapTimeout=setTimeout((function(){t._preventTap||t.tap.dispatch(e,t.element),t.isDoubleTap&&(t.doubleTap.dispatch(e,t.element),t.isDoubleTap=!1)}),0),t.isDoubleTap||(t.singleTapTimeout=setTimeout((function(){t.singleTap.dispatch(e,t.element)}),250))),this.touchEnd.dispatch(e,this.element),this.preV.x=0,this.preV.y=0,this.zoom=1,this.pinchStartLen=null,this.x1=this.x2=this.y1=this.y2=null}}},{key:\"cancelAll\",value:function(){this._preventTap=!0,clearTimeout(this.singleTapTimeout),clearTimeout(this.tapTimeout),clearTimeout(this.longTapTimeout),clearTimeout(this.swipeTimeout)}},{key:\"cancel\",value:function(e){this.cancelAll(),this.touchCancel.dispatch(e,this.element)}},{key:\"_cancelLongTap\",value:function(){clearTimeout(this.longTapTimeout)}},{key:\"_cancelSingleTap\",value:function(){clearTimeout(this.singleTapTimeout)}},{key:\"_swipeDirection\",value:function(e,t,i,n){return Math.abs(e-t)>=Math.abs(i-n)?e-t>0?\"Left\":\"Right\":i-n>0?\"Up\":\"Down\"}},{key:\"on\",value:function(e,t){this[e]&&this[e].add(t)}},{key:\"off\",value:function(e,t){this[e]&&this[e].del(t)}},{key:\"destroy\",value:function(){return this.singleTapTimeout&&clearTimeout(this.singleTapTimeout),this.tapTimeout&&clearTimeout(this.tapTimeout),this.longTapTimeout&&clearTimeout(this.longTapTimeout),this.swipeTimeout&&clearTimeout(this.swipeTimeout),this.element.removeEventListener(\"touchstart\",this.start),this.element.removeEventListener(\"touchmove\",this.move),this.element.removeEventListener(\"touchend\",this.end),this.element.removeEventListener(\"touchcancel\",this.cancel),this.rotate.del(),this.touchStart.del(),this.multipointStart.del(),this.multipointEnd.del(),this.pinch.del(),this.swipe.del(),this.tap.del(),this.doubleTap.del(),this.longTap.del(),this.singleTap.del(),this.pressMove.del(),this.twoFingerPressMove.del(),this.touchMove.del(),this.touchEnd.del(),this.touchCancel.del(),this.preV=this.pinchStartLen=this.zoom=this.isDoubleTap=this.delta=this.last=this.now=this.tapTimeout=this.singleTapTimeout=this.longTapTimeout=this.swipeTimeout=this.x1=this.x2=this.y1=this.y2=this.preTapPosition=this.rotate=this.touchStart=this.multipointStart=this.multipointEnd=this.pinch=this.swipe=this.tap=this.doubleTap=this.longTap=this.singleTap=this.pressMove=this.touchMove=this.touchEnd=this.touchCancel=this.twoFingerPressMove=null,window.removeEventListener(\"scroll\",this._cancelAllHandler),null}}]),e}();function W(e){var t=function(){var e,t=document.createElement(\"fakeelement\"),i={transition:\"transitionend\",OTransition:\"oTransitionEnd\",MozTransition:\"transitionend\",WebkitTransition:\"webkitTransitionEnd\"};for(e in i)if(void 0!==t.style[e])return i[e]}(),i=window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth,n=c(e,\"gslide-media\")?e:e.querySelector(\".gslide-media\"),s=u(n,\".ginner-container\"),l=e.querySelector(\".gslide-description\");i>769&&(n=s),h(n,\"greset\"),v(n,\"translate3d(0, 0, 0)\"),a(t,{onElement:n,once:!0,withCallback:function(e,t){d(n,\"greset\")}}),n.style.opacity=\"\",l&&(l.style.opacity=\"\")}function B(e){if(e.events.hasOwnProperty(\"touch\"))return!1;var t,i,n,s=y(),l=s.width,o=s.height,r=!1,a=null,g=null,f=null,p=!1,m=1,x=1,b=!1,S=!1,w=null,T=null,C=null,k=null,E=0,A=0,L=!1,I=!1,O={},P={},M=0,z=0,X=document.getElementById(\"glightbox-slider\"),Y=document.querySelector(\".goverlay\"),q=new _(X,{touchStart:function(t){if(r=!0,(c(t.targetTouches[0].target,\"ginner-container\")||u(t.targetTouches[0].target,\".gslide-desc\")||\"a\"==t.targetTouches[0].target.nodeName.toLowerCase())&&(r=!1),u(t.targetTouches[0].target,\".gslide-inline\")&&!c(t.targetTouches[0].target.parentNode,\"gslide-inline\")&&(r=!1),r){if(P=t.targetTouches[0],O.pageX=t.targetTouches[0].pageX,O.pageY=t.targetTouches[0].pageY,M=t.targetTouches[0].clientX,z=t.targetTouches[0].clientY,a=e.activeSlide,g=a.querySelector(\".gslide-media\"),n=a.querySelector(\".gslide-inline\"),f=null,c(g,\"gslide-image\")&&(f=g.querySelector(\"img\")),(window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth)>769&&(g=a.querySelector(\".ginner-container\")),d(Y,\"greset\"),t.pageX>20&&t.pageX<window.innerWidth-20)return;t.preventDefault()}},touchMove:function(s){if(r&&(P=s.targetTouches[0],!b&&!S)){if(n&&n.offsetHeight>o){var a=O.pageX-P.pageX;if(Math.abs(a)<=13)return!1}p=!0;var h,d=s.targetTouches[0].clientX,c=s.targetTouches[0].clientY,u=M-d,m=z-c;if(Math.abs(u)>Math.abs(m)?(L=!1,I=!0):(I=!1,L=!0),t=P.pageX-O.pageX,E=100*t/l,i=P.pageY-O.pageY,A=100*i/o,L&&f&&(h=1-Math.abs(i)/o,Y.style.opacity=h,e.settings.touchFollowAxis&&(E=0)),I&&(h=1-Math.abs(t)/l,g.style.opacity=h,e.settings.touchFollowAxis&&(A=0)),!f)return v(g,\"translate3d(\".concat(E,\"%, 0, 0)\"));v(g,\"translate3d(\".concat(E,\"%, \").concat(A,\"%, 0)\"))}},touchEnd:function(){if(r){if(p=!1,S||b)return C=w,void(k=T);var t=Math.abs(parseInt(A)),i=Math.abs(parseInt(E));if(!(t>29&&f))return t<29&&i<25?(h(Y,\"greset\"),Y.style.opacity=1,W(g)):void 0;e.close()}},multipointEnd:function(){setTimeout((function(){b=!1}),50)},multipointStart:function(){b=!0,m=x||1},pinch:function(e){if(!f||p)return!1;b=!0,f.scaleX=f.scaleY=m*e.zoom;var t=m*e.zoom;if(S=!0,t<=1)return S=!1,t=1,k=null,C=null,w=null,T=null,void f.setAttribute(\"style\",\"\");t>4.5&&(t=4.5),f.style.transform=\"scale3d(\".concat(t,\", \").concat(t,\", 1)\"),x=t},pressMove:function(e){if(S&&!b){var t=P.pageX-O.pageX,i=P.pageY-O.pageY;C&&(t+=C),k&&(i+=k),w=t,T=i;var n=\"translate3d(\".concat(t,\"px, \").concat(i,\"px, 0)\");x&&(n+=\" scale3d(\".concat(x,\", \").concat(x,\", 1)\")),v(f,n)}},swipe:function(t){if(!S)if(b)b=!1;else{if(\"Left\"==t.direction){if(e.index==e.elements.length-1)return W(g);e.nextSlide()}if(\"Right\"==t.direction){if(0==e.index)return W(g);e.prevSlide()}}}});e.events.touch=q}var H=function(){function e(i,n){var s=this,l=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(t(this,e),this.img=i,this.slide=n,this.onclose=l,this.img.setZoomEvents)return!1;this.active=!1,this.zoomedIn=!1,this.dragging=!1,this.currentX=null,this.currentY=null,this.initialX=null,this.initialY=null,this.xOffset=0,this.yOffset=0,this.img.addEventListener(\"mousedown\",(function(e){return s.dragStart(e)}),!1),this.img.addEventListener(\"mouseup\",(function(e){return s.dragEnd(e)}),!1),this.img.addEventListener(\"mousemove\",(function(e){return s.drag(e)}),!1),this.img.addEventListener(\"click\",(function(e){return s.slide.classList.contains(\"dragging-nav\")?(s.zoomOut(),!1):s.zoomedIn?void(s.zoomedIn&&!s.dragging&&s.zoomOut()):s.zoomIn()}),!1),this.img.setZoomEvents=!0}return n(e,[{key:\"zoomIn\",value:function(){var e=this.widowWidth();if(!(this.zoomedIn||e<=768)){var t=this.img;if(t.setAttribute(\"data-style\",t.getAttribute(\"style\")),t.style.maxWidth=t.naturalWidth+\"px\",t.style.maxHeight=t.naturalHeight+\"px\",t.naturalWidth>e){var i=e/2-t.naturalWidth/2;this.setTranslate(this.img.parentNode,i,0)}this.slide.classList.add(\"zoomed\"),this.zoomedIn=!0}}},{key:\"zoomOut\",value:function(){this.img.parentNode.setAttribute(\"style\",\"\"),this.img.setAttribute(\"style\",this.img.getAttribute(\"data-style\")),this.slide.classList.remove(\"zoomed\"),this.zoomedIn=!1,this.currentX=null,this.currentY=null,this.initialX=null,this.initialY=null,this.xOffset=0,this.yOffset=0,this.onclose&&\"function\"==typeof this.onclose&&this.onclose()}},{key:\"dragStart\",value:function(e){e.preventDefault(),this.zoomedIn?(\"touchstart\"===e.type?(this.initialX=e.touches[0].clientX-this.xOffset,this.initialY=e.touches[0].clientY-this.yOffset):(this.initialX=e.clientX-this.xOffset,this.initialY=e.clientY-this.yOffset),e.target===this.img&&(this.active=!0,this.img.classList.add(\"dragging\"))):this.active=!1}},{key:\"dragEnd\",value:function(e){var t=this;e.preventDefault(),this.initialX=this.currentX,this.initialY=this.currentY,this.active=!1,setTimeout((function(){t.dragging=!1,t.img.isDragging=!1,t.img.classList.remove(\"dragging\")}),100)}},{key:\"drag\",value:function(e){this.active&&(e.preventDefault(),\"touchmove\"===e.type?(this.currentX=e.touches[0].clientX-this.initialX,this.currentY=e.touches[0].clientY-this.initialY):(this.currentX=e.clientX-this.initialX,this.currentY=e.clientY-this.initialY),this.xOffset=this.currentX,this.yOffset=this.currentY,this.img.isDragging=!0,this.dragging=!0,this.setTranslate(this.img,this.currentX,this.currentY))}},{key:\"onMove\",value:function(e){if(this.zoomedIn){var t=e.clientX-this.img.naturalWidth/2,i=e.clientY-this.img.naturalHeight/2;this.setTranslate(this.img,t,i)}}},{key:\"setTranslate\",value:function(e,t,i){e.style.transform=\"translate3d(\"+t+\"px, \"+i+\"px, 0)\"}},{key:\"widowWidth\",value:function(){return window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth}}]),e}(),V=function(){function e(){var i=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};t(this,e);var s=n.dragEl,l=n.toleranceX,o=void 0===l?40:l,r=n.toleranceY,a=void 0===r?65:r,h=n.slide,d=void 0===h?null:h,c=n.instance,u=void 0===c?null:c;this.el=s,this.active=!1,this.dragging=!1,this.currentX=null,this.currentY=null,this.initialX=null,this.initialY=null,this.xOffset=0,this.yOffset=0,this.direction=null,this.lastDirection=null,this.toleranceX=o,this.toleranceY=a,this.toleranceReached=!1,this.dragContainer=this.el,this.slide=d,this.instance=u,this.el.addEventListener(\"mousedown\",(function(e){return i.dragStart(e)}),!1),this.el.addEventListener(\"mouseup\",(function(e){return i.dragEnd(e)}),!1),this.el.addEventListener(\"mousemove\",(function(e){return i.drag(e)}),!1)}return n(e,[{key:\"dragStart\",value:function(e){if(this.slide.classList.contains(\"zoomed\"))this.active=!1;else{\"touchstart\"===e.type?(this.initialX=e.touches[0].clientX-this.xOffset,this.initialY=e.touches[0].clientY-this.yOffset):(this.initialX=e.clientX-this.xOffset,this.initialY=e.clientY-this.yOffset);var t=e.target.nodeName.toLowerCase();e.target.classList.contains(\"nodrag\")||u(e.target,\".nodrag\")||-1!==[\"input\",\"select\",\"textarea\",\"button\",\"a\"].indexOf(t)?this.active=!1:(e.preventDefault(),(e.target===this.el||\"img\"!==t&&u(e.target,\".gslide-inline\"))&&(this.active=!0,this.el.classList.add(\"dragging\"),this.dragContainer=u(e.target,\".ginner-container\")))}}},{key:\"dragEnd\",value:function(e){var t=this;e&&e.preventDefault(),this.initialX=0,this.initialY=0,this.currentX=null,this.currentY=null,this.initialX=null,this.initialY=null,this.xOffset=0,this.yOffset=0,this.active=!1,this.doSlideChange&&(this.instance.preventOutsideClick=!0,\"right\"==this.doSlideChange&&this.instance.prevSlide(),\"left\"==this.doSlideChange&&this.instance.nextSlide()),this.doSlideClose&&this.instance.close(),this.toleranceReached||this.setTranslate(this.dragContainer,0,0,!0),setTimeout((function(){t.instance.preventOutsideClick=!1,t.toleranceReached=!1,t.lastDirection=null,t.dragging=!1,t.el.isDragging=!1,t.el.classList.remove(\"dragging\"),t.slide.classList.remove(\"dragging-nav\"),t.dragContainer.style.transform=\"\",t.dragContainer.style.transition=\"\"}),100)}},{key:\"drag\",value:function(e){if(this.active){e.preventDefault(),this.slide.classList.add(\"dragging-nav\"),\"touchmove\"===e.type?(this.currentX=e.touches[0].clientX-this.initialX,this.currentY=e.touches[0].clientY-this.initialY):(this.currentX=e.clientX-this.initialX,this.currentY=e.clientY-this.initialY),this.xOffset=this.currentX,this.yOffset=this.currentY,this.el.isDragging=!0,this.dragging=!0,this.doSlideChange=!1,this.doSlideClose=!1;var t=Math.abs(this.currentX),i=Math.abs(this.currentY);if(t>0&&t>=Math.abs(this.currentY)&&(!this.lastDirection||\"x\"==this.lastDirection)){this.yOffset=0,this.lastDirection=\"x\",this.setTranslate(this.dragContainer,this.currentX,0);var n=this.shouldChange();if(!this.instance.settings.dragAutoSnap&&n&&(this.doSlideChange=n),this.instance.settings.dragAutoSnap&&n)return this.instance.preventOutsideClick=!0,this.toleranceReached=!0,this.active=!1,this.instance.preventOutsideClick=!0,this.dragEnd(null),\"right\"==n&&this.instance.prevSlide(),void(\"left\"==n&&this.instance.nextSlide())}if(this.toleranceY>0&&i>0&&i>=t&&(!this.lastDirection||\"y\"==this.lastDirection)){this.xOffset=0,this.lastDirection=\"y\",this.setTranslate(this.dragContainer,0,this.currentY);var s=this.shouldClose();return!this.instance.settings.dragAutoSnap&&s&&(this.doSlideClose=!0),void(this.instance.settings.dragAutoSnap&&s&&this.instance.close())}}}},{key:\"shouldChange\",value:function(){var e=!1;if(Math.abs(this.currentX)>=this.toleranceX){var t=this.currentX>0?\"right\":\"left\";(\"left\"==t&&this.slide!==this.slide.parentNode.lastChild||\"right\"==t&&this.slide!==this.slide.parentNode.firstChild)&&(e=t)}return e}},{key:\"shouldClose\",value:function(){var e=!1;return Math.abs(this.currentY)>=this.toleranceY&&(e=!0),e}},{key:\"setTranslate\",value:function(e,t,i){var n=arguments.length>3&&void 0!==arguments[3]&&arguments[3];e.style.transition=n?\"all .2s ease\":\"\",e.style.transform=\"translate3d(\".concat(t,\"px, \").concat(i,\"px, 0)\")}}]),e}();function j(e,t,i,n){var s=e.querySelector(\".gslide-media\"),l=new Image,o=\"gSlideTitle_\"+i,r=\"gSlideDesc_\"+i;l.addEventListener(\"load\",(function(){T(n)&&n()}),!1),l.src=t.href,\"\"!=t.sizes&&\"\"!=t.srcset&&(l.sizes=t.sizes,l.srcset=t.srcset),l.alt=\"\",I(t.alt)||\"\"===t.alt||(l.alt=t.alt),\"\"!==t.title&&l.setAttribute(\"aria-labelledby\",o),\"\"!==t.description&&l.setAttribute(\"aria-describedby\",r),t.hasOwnProperty(\"_hasCustomWidth\")&&t._hasCustomWidth&&(l.style.width=t.width),t.hasOwnProperty(\"_hasCustomHeight\")&&t._hasCustomHeight&&(l.style.height=t.height),s.insertBefore(l,s.firstChild)}function F(e,t,i,n){var s=this,l=e.querySelector(\".ginner-container\"),o=\"gvideo\"+i,r=e.querySelector(\".gslide-media\"),a=this.getAllPlayers();h(l,\"gvideo-container\"),r.insertBefore(m('<div class=\"gvideo-wrapper\"></div>'),r.firstChild);var d=e.querySelector(\".gvideo-wrapper\");S(this.settings.plyr.css,\"Plyr\");var c=t.href,u=null==t?void 0:t.videoProvider,g=!1;r.style.maxWidth=t.width,S(this.settings.plyr.js,\"Plyr\",(function(){if(!u&&c.match(/vimeo\\.com\\/([0-9]*)/)&&(u=\"vimeo\"),!u&&(c.match(/(youtube\\.com|youtube-nocookie\\.com)\\/watch\\?v=([a-zA-Z0-9\\-_]+)/)||c.match(/youtu\\.be\\/([a-zA-Z0-9\\-_]+)/)||c.match(/(youtube\\.com|youtube-nocookie\\.com)\\/embed\\/([a-zA-Z0-9\\-_]+)/))&&(u=\"youtube\"),\"local\"===u||!u){u=\"local\";var l='<video id=\"'+o+'\" ';l+='style=\"background:#000; max-width: '.concat(t.width,';\" '),l+='preload=\"metadata\" ',l+='x-webkit-airplay=\"allow\" ',l+=\"playsinline \",l+=\"controls \",l+='class=\"gvideo-local\">',l+='<source src=\"'.concat(c,'\">'),g=m(l+=\"</video>\")}var r=g||m('<div id=\"'.concat(o,'\" data-plyr-provider=\"').concat(u,'\" data-plyr-embed-id=\"').concat(c,'\"></div>'));h(d,\"\".concat(u,\"-video gvideo\")),d.appendChild(r),d.setAttribute(\"data-id\",o),d.setAttribute(\"data-index\",i);var v=O(s.settings.plyr,\"config\")?s.settings.plyr.config:{},f=new Plyr(\"#\"+o,v);f.on(\"ready\",(function(e){a[o]=e.detail.plyr,T(n)&&n()})),b((function(){return e.querySelector(\"iframe\")&&\"true\"==e.querySelector(\"iframe\").dataset.ready}),(function(){s.resize(e)})),f.on(\"enterfullscreen\",R),f.on(\"exitfullscreen\",R)}))}function R(e){var t=u(e.target,\".gslide-media\");\"enterfullscreen\"===e.type&&h(t,\"fullscreen\"),\"exitfullscreen\"===e.type&&d(t,\"fullscreen\")}function G(e,t,i,n){var s,l=this,o=e.querySelector(\".gslide-media\"),r=!(!O(t,\"href\")||!t.href)&&t.href.split(\"#\").pop().trim(),d=!(!O(t,\"content\")||!t.content)&&t.content;if(d&&(C(d)&&(s=m('<div class=\"ginlined-content\">'.concat(d,\"</div>\"))),k(d))){\"none\"==d.style.display&&(d.style.display=\"block\");var c=document.createElement(\"div\");c.className=\"ginlined-content\",c.appendChild(d),s=c}if(r){var u=document.getElementById(r);if(!u)return!1;var g=u.cloneNode(!0);g.style.height=t.height,g.style.maxWidth=t.width,h(g,\"ginlined-content\"),s=g}if(!s)return console.error(\"Unable to append inline slide content\",t),!1;o.style.height=t.height,o.style.width=t.width,o.appendChild(s),this.events[\"inlineclose\"+r]=a(\"click\",{onElement:o.querySelectorAll(\".gtrigger-close\"),withCallback:function(e){e.preventDefault(),l.close()}}),T(n)&&n()}function Z(e,t,i,n){var s=e.querySelector(\".gslide-media\"),l=function(e){var t=e.url,i=e.allow,n=e.callback,s=e.appendTo,l=document.createElement(\"iframe\");return l.className=\"vimeo-video gvideo\",l.src=t,l.style.width=\"100%\",l.style.height=\"100%\",i&&l.setAttribute(\"allow\",i),l.onload=function(){l.onload=null,h(l,\"node-ready\"),T(n)&&n()},s&&s.appendChild(l),l}({url:t.href,callback:n});s.parentNode.style.maxWidth=t.width,s.parentNode.style.height=t.height,s.appendChild(l)}var U=function(){function e(){var i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};t(this,e),this.defaults={href:\"\",sizes:\"\",srcset:\"\",title:\"\",type:\"\",videoProvider:\"\",description:\"\",alt:\"\",descPosition:\"bottom\",effect:\"\",width:\"\",height:\"\",content:!1,zoomable:!0,draggable:!0},L(i)&&(this.defaults=l(this.defaults,i))}return n(e,[{key:\"sourceType\",value:function(e){var t=e;if(null!==(e=e.toLowerCase()).match(/\\.(jpeg|jpg|jpe|gif|png|apn|webp|avif|svg)/))return\"image\";if(e.match(/(youtube\\.com|youtube-nocookie\\.com)\\/watch\\?v=([a-zA-Z0-9\\-_]+)/)||e.match(/youtu\\.be\\/([a-zA-Z0-9\\-_]+)/)||e.match(/(youtube\\.com|youtube-nocookie\\.com)\\/embed\\/([a-zA-Z0-9\\-_]+)/))return\"video\";if(e.match(/vimeo\\.com\\/([0-9]*)/))return\"video\";if(null!==e.match(/\\.(mp4|ogg|webm|mov)/))return\"video\";if(null!==e.match(/\\.(mp3|wav|wma|aac|ogg)/))return\"audio\";if(e.indexOf(\"#\")>-1&&\"\"!==t.split(\"#\").pop().trim())return\"inline\";return e.indexOf(\"goajax=true\")>-1?\"ajax\":\"external\"}},{key:\"parseConfig\",value:function(e,t){var i=this,n=l({descPosition:t.descPosition},this.defaults);if(L(e)&&!k(e)){O(e,\"type\")||(O(e,\"content\")&&e.content?e.type=\"inline\":O(e,\"href\")&&(e.type=this.sourceType(e.href)));var s=l(n,e);return this.setSize(s,t),s}var r=\"\",a=e.getAttribute(\"data-glightbox\"),h=e.nodeName.toLowerCase();if(\"a\"===h&&(r=e.href),\"img\"===h&&(r=e.src,n.alt=e.alt),n.href=r,o(n,(function(s,l){O(t,l)&&\"width\"!==l&&(n[l]=t[l]);var o=e.dataset[l];I(o)||(n[l]=i.sanitizeValue(o))})),n.content&&(n.type=\"inline\"),!n.type&&r&&(n.type=this.sourceType(r)),I(a)){if(!n.title&&\"a\"==h){var d=e.title;I(d)||\"\"===d||(n.title=d)}if(!n.title&&\"img\"==h){var c=e.alt;I(c)||\"\"===c||(n.title=c)}}else{var u=[];o(n,(function(e,t){u.push(\";\\\\s?\"+t)})),u=u.join(\"\\\\s?:|\"),\"\"!==a.trim()&&o(n,(function(e,t){var s=a,l=new RegExp(\"s?\"+t+\"s?:s?(.*?)(\"+u+\"s?:|$)\"),o=s.match(l);if(o&&o.length&&o[1]){var r=o[1].trim().replace(/;\\s*$/,\"\");n[t]=i.sanitizeValue(r)}}))}if(n.description&&\".\"===n.description.substring(0,1)){var g;try{g=document.querySelector(n.description).innerHTML}catch(e){if(!(e instanceof DOMException))throw e}g&&(n.description=g)}if(!n.description){var v=e.querySelector(\".glightbox-desc\");v&&(n.description=v.innerHTML)}return this.setSize(n,t,e),this.slideConfig=n,n}},{key:\"setSize\",value:function(e,t){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,n=\"video\"==e.type?this.checkSize(t.videosWidth):this.checkSize(t.width),s=this.checkSize(t.height);return e.width=O(e,\"width\")&&\"\"!==e.width?this.checkSize(e.width):n,e.height=O(e,\"height\")&&\"\"!==e.height?this.checkSize(e.height):s,i&&\"image\"==e.type&&(e._hasCustomWidth=!!i.dataset.width,e._hasCustomHeight=!!i.dataset.height),e}},{key:\"checkSize\",value:function(e){return M(e)?\"\".concat(e,\"px\"):e}},{key:\"sanitizeValue\",value:function(e){return\"true\"!==e&&\"false\"!==e?e:\"true\"===e}}]),e}(),$=function(){function e(i,n,s){t(this,e),this.element=i,this.instance=n,this.index=s}return n(e,[{key:\"setContent\",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,i=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(c(t,\"loaded\"))return!1;var n=this.instance.settings,s=this.slideConfig,l=w();T(n.beforeSlideLoad)&&n.beforeSlideLoad({index:this.index,slide:t,player:!1});var o=s.type,r=s.descPosition,a=t.querySelector(\".gslide-media\"),d=t.querySelector(\".gslide-title\"),u=t.querySelector(\".gslide-desc\"),g=t.querySelector(\".gdesc-inner\"),v=i,f=\"gSlideTitle_\"+this.index,p=\"gSlideDesc_\"+this.index;if(T(n.afterSlideLoad)&&(v=function(){T(i)&&i(),n.afterSlideLoad({index:e.index,slide:t,player:e.instance.getSlidePlayerInstance(e.index)})}),\"\"==s.title&&\"\"==s.description?g&&g.parentNode.parentNode.removeChild(g.parentNode):(d&&\"\"!==s.title?(d.id=f,d.innerHTML=s.title):d.parentNode.removeChild(d),u&&\"\"!==s.description?(u.id=p,l&&n.moreLength>0?(s.smallDescription=this.slideShortDesc(s.description,n.moreLength,n.moreText),u.innerHTML=s.smallDescription,this.descriptionEvents(u,s)):u.innerHTML=s.description):u.parentNode.removeChild(u),h(a.parentNode,\"desc-\".concat(r)),h(g.parentNode,\"description-\".concat(r))),h(a,\"gslide-\".concat(o)),h(t,\"loaded\"),\"video\"!==o){if(\"external\"!==o)return\"inline\"===o?(G.apply(this.instance,[t,s,this.index,v]),void(s.draggable&&new V({dragEl:t.querySelector(\".gslide-inline\"),toleranceX:n.dragToleranceX,toleranceY:n.dragToleranceY,slide:t,instance:this.instance}))):void(\"image\"!==o?T(v)&&v():j(t,s,this.index,(function(){var i=t.querySelector(\"img\");s.draggable&&new V({dragEl:i,toleranceX:n.dragToleranceX,toleranceY:n.dragToleranceY,slide:t,instance:e.instance}),s.zoomable&&i.naturalWidth>i.offsetWidth&&(h(i,\"zoomable\"),new H(i,t,(function(){e.instance.resize()}))),T(v)&&v()})));Z.apply(this,[t,s,this.index,v])}else F.apply(this.instance,[t,s,this.index,v])}},{key:\"slideShortDesc\",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:50,i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=document.createElement(\"div\");n.innerHTML=e;var s=n.innerText,l=i;if((e=s.trim()).length<=t)return e;var o=e.substr(0,t-1);return l?(n=null,o+'... <a href=\"#\" class=\"desc-more\">'+i+\"</a>\"):o}},{key:\"descriptionEvents\",value:function(e,t){var i=this,n=e.querySelector(\".desc-more\");if(!n)return!1;a(\"click\",{onElement:n,withCallback:function(e,n){e.preventDefault();var s=document.body,l=u(n,\".gslide-desc\");if(!l)return!1;l.innerHTML=t.description,h(s,\"gdesc-open\");var o=a(\"click\",{onElement:[s,u(l,\".gslide-description\")],withCallback:function(e,n){\"a\"!==e.target.nodeName.toLowerCase()&&(d(s,\"gdesc-open\"),h(s,\"gdesc-closed\"),l.innerHTML=t.smallDescription,i.descriptionEvents(l,t),setTimeout((function(){d(s,\"gdesc-closed\")}),400),o.destroy())}})}})}},{key:\"create\",value:function(){return m(this.instance.settings.slideHTML)}},{key:\"getConfig\",value:function(){k(this.element)||this.element.hasOwnProperty(\"draggable\")||(this.element.draggable=this.instance.settings.draggable);var e=new U(this.instance.settings.slideExtraAttributes);return this.slideConfig=e.parseConfig(this.element,this.instance.settings),this.slideConfig}}]),e}(),J=w(),K=null!==w()||void 0!==document.createTouch||\"ontouchstart\"in window||\"onmsgesturechange\"in window||navigator.msMaxTouchPoints,Q=document.getElementsByTagName(\"html\")[0],ee={selector:\".glightbox\",elements:null,skin:\"clean\",theme:\"clean\",closeButton:!0,startAt:null,autoplayVideos:!0,autofocusVideos:!0,descPosition:\"bottom\",width:\"900px\",height:\"506px\",videosWidth:\"960px\",beforeSlideChange:null,afterSlideChange:null,beforeSlideLoad:null,afterSlideLoad:null,slideInserted:null,slideRemoved:null,slideExtraAttributes:null,onOpen:null,onClose:null,loop:!1,zoomable:!0,draggable:!0,dragAutoSnap:!1,dragToleranceX:40,dragToleranceY:65,preload:!0,oneSlidePerOpen:!1,touchNavigation:!0,touchFollowAxis:!0,keyboardNavigation:!0,closeOnOutsideClick:!0,plugins:!1,plyr:{css:\"https://cdn.plyr.io/3.6.12/plyr.css\",js:\"https://cdn.plyr.io/3.6.12/plyr.js\",config:{ratio:\"16:9\",fullscreen:{enabled:!0,iosNative:!0},youtube:{noCookie:!0,rel:0,showinfo:0,iv_load_policy:3},vimeo:{byline:!1,portrait:!1,title:!1,transparent:!1}}},openEffect:\"zoom\",closeEffect:\"zoom\",slideEffect:\"slide\",moreText:\"See more\",moreLength:60,cssEfects:{fade:{in:\"fadeIn\",out:\"fadeOut\"},zoom:{in:\"zoomIn\",out:\"zoomOut\"},slide:{in:\"slideInRight\",out:\"slideOutLeft\"},slideBack:{in:\"slideInLeft\",out:\"slideOutRight\"},none:{in:\"none\",out:\"none\"}},svg:{close:'<svg xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" x=\"0px\" y=\"0px\" viewBox=\"0 0 512 512\" xml:space=\"preserve\"><g><g><path d=\"M505.943,6.058c-8.077-8.077-21.172-8.077-29.249,0L6.058,476.693c-8.077,8.077-8.077,21.172,0,29.249C10.096,509.982,15.39,512,20.683,512c5.293,0,10.586-2.019,14.625-6.059L505.943,35.306C514.019,27.23,514.019,14.135,505.943,6.058z\"/></g></g><g><g><path d=\"M505.942,476.694L35.306,6.059c-8.076-8.077-21.172-8.077-29.248,0c-8.077,8.076-8.077,21.171,0,29.248l470.636,470.636c4.038,4.039,9.332,6.058,14.625,6.058c5.293,0,10.587-2.019,14.624-6.057C514.018,497.866,514.018,484.771,505.942,476.694z\"/></g></g></svg>',next:'<svg xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" x=\"0px\" y=\"0px\" viewBox=\"0 0 477.175 477.175\" xml:space=\"preserve\"> <g><path d=\"M360.731,229.075l-225.1-225.1c-5.3-5.3-13.8-5.3-19.1,0s-5.3,13.8,0,19.1l215.5,215.5l-215.5,215.5c-5.3,5.3-5.3,13.8,0,19.1c2.6,2.6,6.1,4,9.5,4c3.4,0,6.9-1.3,9.5-4l225.1-225.1C365.931,242.875,365.931,234.275,360.731,229.075z\"/></g></svg>',prev:'<svg xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" x=\"0px\" y=\"0px\" viewBox=\"0 0 477.175 477.175\" xml:space=\"preserve\"><g><path d=\"M145.188,238.575l215.5-215.5c5.3-5.3,5.3-13.8,0-19.1s-13.8-5.3-19.1,0l-225.1,225.1c-5.3,5.3-5.3,13.8,0,19.1l225.1,225c2.6,2.6,6.1,4,9.5,4s6.9-1.3,9.5-4c5.3-5.3,5.3-13.8,0-19.1L145.188,238.575z\"/></g></svg>'},slideHTML:'<div class=\"gslide\">\\n    <div class=\"gslide-inner-content\">\\n        <div class=\"ginner-container\">\\n            <div class=\"gslide-media\">\\n            </div>\\n            <div class=\"gslide-description\">\\n                <div class=\"gdesc-inner\">\\n                    <h4 class=\"gslide-title\"></h4>\\n                    <div class=\"gslide-desc\"></div>\\n                </div>\\n            </div>\\n        </div>\\n    </div>\\n</div>',lightboxHTML:'<div id=\"glightbox-body\" class=\"glightbox-container\" tabindex=\"-1\" role=\"dialog\" aria-hidden=\"false\">\\n    <div class=\"gloader visible\"></div>\\n    <div class=\"goverlay\"></div>\\n    <div class=\"gcontainer\">\\n    <div id=\"glightbox-slider\" class=\"gslider\"></div>\\n    <button class=\"gclose gbtn\" aria-label=\"Close\" data-taborder=\"3\">{closeSVG}</button>\\n    <button class=\"gprev gbtn\" aria-label=\"Previous\" data-taborder=\"2\">{prevSVG}</button>\\n    <button class=\"gnext gbtn\" aria-label=\"Next\" data-taborder=\"1\">{nextSVG}</button>\\n</div>\\n</div>'},te=function(){function e(){var i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};t(this,e),this.customOptions=i,this.settings=l(ee,i),this.effectsClasses=this.getAnimationClasses(),this.videoPlayers={},this.apiEvents=[],this.fullElementsList=!1}return n(e,[{key:\"init\",value:function(){var e=this,t=this.getSelector();t&&(this.baseEvents=a(\"click\",{onElement:t,withCallback:function(t,i){t.preventDefault(),e.open(i)}})),this.elements=this.getElements()}},{key:\"open\",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(0===this.elements.length)return!1;this.activeSlide=null,this.prevActiveSlideIndex=null,this.prevActiveSlide=null;var i=M(t)?t:this.settings.startAt;if(k(e)){var n=e.getAttribute(\"data-gallery\");n&&(this.fullElementsList=this.elements,this.elements=this.getGalleryElements(this.elements,n)),I(i)&&(i=this.getElementIndex(e))<0&&(i=0)}M(i)||(i=0),this.build(),g(this.overlay,\"none\"===this.settings.openEffect?\"none\":this.settings.cssEfects.fade.in);var s=document.body,l=window.innerWidth-document.documentElement.clientWidth;if(l>0){var o=document.createElement(\"style\");o.type=\"text/css\",o.className=\"gcss-styles\",o.innerText=\".gscrollbar-fixer {margin-right: \".concat(l,\"px}\"),document.head.appendChild(o),h(s,\"gscrollbar-fixer\")}h(s,\"glightbox-open\"),h(Q,\"glightbox-open\"),J&&(h(document.body,\"glightbox-mobile\"),this.settings.slideEffect=\"slide\"),this.showSlide(i,!0),1===this.elements.length?(h(this.prevButton,\"glightbox-button-hidden\"),h(this.nextButton,\"glightbox-button-hidden\")):(d(this.prevButton,\"glightbox-button-hidden\"),d(this.nextButton,\"glightbox-button-hidden\")),this.lightboxOpen=!0,this.trigger(\"open\"),T(this.settings.onOpen)&&this.settings.onOpen(),K&&this.settings.touchNavigation&&B(this),this.settings.keyboardNavigation&&X(this)}},{key:\"openAt\",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;this.open(null,e)}},{key:\"showSlide\",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,i=arguments.length>1&&void 0!==arguments[1]&&arguments[1];f(this.loader),this.index=parseInt(t);var n=this.slidesContainer.querySelector(\".current\");n&&d(n,\"current\"),this.slideAnimateOut();var s=this.slidesContainer.querySelectorAll(\".gslide\")[t];if(c(s,\"loaded\"))this.slideAnimateIn(s,i),p(this.loader);else{f(this.loader);var l=this.elements[t],o={index:this.index,slide:s,slideNode:s,slideConfig:l.slideConfig,slideIndex:this.index,trigger:l.node,player:null};this.trigger(\"slide_before_load\",o),l.instance.setContent(s,(function(){p(e.loader),e.resize(),e.slideAnimateIn(s,i),e.trigger(\"slide_after_load\",o)}))}this.slideDescription=s.querySelector(\".gslide-description\"),this.slideDescriptionContained=this.slideDescription&&c(this.slideDescription.parentNode,\"gslide-media\"),this.settings.preload&&(this.preloadSlide(t+1),this.preloadSlide(t-1)),this.updateNavigationClasses(),this.activeSlide=s}},{key:\"preloadSlide\",value:function(e){var t=this;if(e<0||e>this.elements.length-1)return!1;if(I(this.elements[e]))return!1;var i=this.slidesContainer.querySelectorAll(\".gslide\")[e];if(c(i,\"loaded\"))return!1;var n=this.elements[e],s=n.type,l={index:e,slide:i,slideNode:i,slideConfig:n.slideConfig,slideIndex:e,trigger:n.node,player:null};this.trigger(\"slide_before_load\",l),\"video\"===s||\"external\"===s?setTimeout((function(){n.instance.setContent(i,(function(){t.trigger(\"slide_after_load\",l)}))}),200):n.instance.setContent(i,(function(){t.trigger(\"slide_after_load\",l)}))}},{key:\"prevSlide\",value:function(){this.goToSlide(this.index-1)}},{key:\"nextSlide\",value:function(){this.goToSlide(this.index+1)}},{key:\"goToSlide\",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.prevActiveSlide=this.activeSlide,this.prevActiveSlideIndex=this.index,!this.loop()&&(e<0||e>this.elements.length-1))return!1;e<0?e=this.elements.length-1:e>=this.elements.length&&(e=0),this.showSlide(e)}},{key:\"insertSlide\",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1;t<0&&(t=this.elements.length);var i=new $(e,this,t),n=i.getConfig(),s=l({},n),o=i.create(),r=this.elements.length-1;s.index=t,s.node=!1,s.instance=i,s.slideConfig=n,this.elements.splice(t,0,s);var a=null,h=null;if(this.slidesContainer){if(t>r)this.slidesContainer.appendChild(o);else{var d=this.slidesContainer.querySelectorAll(\".gslide\")[t];this.slidesContainer.insertBefore(o,d)}(this.settings.preload&&0==this.index&&0==t||this.index-1==t||this.index+1==t)&&this.preloadSlide(t),0===this.index&&0===t&&(this.index=1),this.updateNavigationClasses(),a=this.slidesContainer.querySelectorAll(\".gslide\")[t],h=this.getSlidePlayerInstance(t),s.slideNode=a}this.trigger(\"slide_inserted\",{index:t,slide:a,slideNode:a,slideConfig:n,slideIndex:t,trigger:null,player:h}),T(this.settings.slideInserted)&&this.settings.slideInserted({index:t,slide:a,player:h})}},{key:\"removeSlide\",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:-1;if(e<0||e>this.elements.length-1)return!1;var t=this.slidesContainer&&this.slidesContainer.querySelectorAll(\".gslide\")[e];t&&(this.getActiveSlideIndex()==e&&(e==this.elements.length-1?this.prevSlide():this.nextSlide()),t.parentNode.removeChild(t)),this.elements.splice(e,1),this.trigger(\"slide_removed\",e),T(this.settings.slideRemoved)&&this.settings.slideRemoved(e)}},{key:\"slideAnimateIn\",value:function(e,t){var i=this,n=e.querySelector(\".gslide-media\"),s=e.querySelector(\".gslide-description\"),l={index:this.prevActiveSlideIndex,slide:this.prevActiveSlide,slideNode:this.prevActiveSlide,slideIndex:this.prevActiveSlide,slideConfig:I(this.prevActiveSlideIndex)?null:this.elements[this.prevActiveSlideIndex].slideConfig,trigger:I(this.prevActiveSlideIndex)?null:this.elements[this.prevActiveSlideIndex].node,player:this.getSlidePlayerInstance(this.prevActiveSlideIndex)},o={index:this.index,slide:this.activeSlide,slideNode:this.activeSlide,slideConfig:this.elements[this.index].slideConfig,slideIndex:this.index,trigger:this.elements[this.index].node,player:this.getSlidePlayerInstance(this.index)};if(n.offsetWidth>0&&s&&(p(s),s.style.display=\"\"),d(e,this.effectsClasses),t)g(e,this.settings.cssEfects[this.settings.openEffect].in,(function(){i.settings.autoplayVideos&&i.slidePlayerPlay(e),i.trigger(\"slide_changed\",{prev:l,current:o}),T(i.settings.afterSlideChange)&&i.settings.afterSlideChange.apply(i,[l,o])}));else{var r=this.settings.slideEffect,a=\"none\"!==r?this.settings.cssEfects[r].in:r;this.prevActiveSlideIndex>this.index&&\"slide\"==this.settings.slideEffect&&(a=this.settings.cssEfects.slideBack.in),g(e,a,(function(){i.settings.autoplayVideos&&i.slidePlayerPlay(e),i.trigger(\"slide_changed\",{prev:l,current:o}),T(i.settings.afterSlideChange)&&i.settings.afterSlideChange.apply(i,[l,o])}))}setTimeout((function(){i.resize(e)}),100),h(e,\"current\")}},{key:\"slideAnimateOut\",value:function(){if(!this.prevActiveSlide)return!1;var e=this.prevActiveSlide;d(e,this.effectsClasses),h(e,\"prev\");var t=this.settings.slideEffect,i=\"none\"!==t?this.settings.cssEfects[t].out:t;this.slidePlayerPause(e),this.trigger(\"slide_before_change\",{prev:{index:this.prevActiveSlideIndex,slide:this.prevActiveSlide,slideNode:this.prevActiveSlide,slideIndex:this.prevActiveSlideIndex,slideConfig:I(this.prevActiveSlideIndex)?null:this.elements[this.prevActiveSlideIndex].slideConfig,trigger:I(this.prevActiveSlideIndex)?null:this.elements[this.prevActiveSlideIndex].node,player:this.getSlidePlayerInstance(this.prevActiveSlideIndex)},current:{index:this.index,slide:this.activeSlide,slideNode:this.activeSlide,slideIndex:this.index,slideConfig:this.elements[this.index].slideConfig,trigger:this.elements[this.index].node,player:this.getSlidePlayerInstance(this.index)}}),T(this.settings.beforeSlideChange)&&this.settings.beforeSlideChange.apply(this,[{index:this.prevActiveSlideIndex,slide:this.prevActiveSlide,player:this.getSlidePlayerInstance(this.prevActiveSlideIndex)},{index:this.index,slide:this.activeSlide,player:this.getSlidePlayerInstance(this.index)}]),this.prevActiveSlideIndex>this.index&&\"slide\"==this.settings.slideEffect&&(i=this.settings.cssEfects.slideBack.out),g(e,i,(function(){var t=e.querySelector(\".ginner-container\"),i=e.querySelector(\".gslide-media\"),n=e.querySelector(\".gslide-description\");t.style.transform=\"\",i.style.transform=\"\",d(i,\"greset\"),i.style.opacity=\"\",n&&(n.style.opacity=\"\"),d(e,\"prev\")}))}},{key:\"getAllPlayers\",value:function(){return this.videoPlayers}},{key:\"getSlidePlayerInstance\",value:function(e){var t=\"gvideo\"+e,i=this.getAllPlayers();return!(!O(i,t)||!i[t])&&i[t]}},{key:\"stopSlideVideo\",value:function(e){if(k(e)){var t=e.querySelector(\".gvideo-wrapper\");t&&(e=t.getAttribute(\"data-index\"))}console.log(\"stopSlideVideo is deprecated, use slidePlayerPause\");var i=this.getSlidePlayerInstance(e);i&&i.playing&&i.pause()}},{key:\"slidePlayerPause\",value:function(e){if(k(e)){var t=e.querySelector(\".gvideo-wrapper\");t&&(e=t.getAttribute(\"data-index\"))}var i=this.getSlidePlayerInstance(e);i&&i.playing&&i.pause()}},{key:\"playSlideVideo\",value:function(e){if(k(e)){var t=e.querySelector(\".gvideo-wrapper\");t&&(e=t.getAttribute(\"data-index\"))}console.log(\"playSlideVideo is deprecated, use slidePlayerPlay\");var i=this.getSlidePlayerInstance(e);i&&!i.playing&&i.play()}},{key:\"slidePlayerPlay\",value:function(e){var t;if(!J||null!==(t=this.settings.plyr.config)&&void 0!==t&&t.muted){if(k(e)){var i=e.querySelector(\".gvideo-wrapper\");i&&(e=i.getAttribute(\"data-index\"))}var n=this.getSlidePlayerInstance(e);n&&!n.playing&&(n.play(),this.settings.autofocusVideos&&n.elements.container.focus())}}},{key:\"setElements\",value:function(e){var t=this;this.settings.elements=!1;var i=[];e&&e.length&&o(e,(function(e,n){var s=new $(e,t,n),o=s.getConfig(),r=l({},o);r.slideConfig=o,r.instance=s,r.index=n,i.push(r)})),this.elements=i,this.lightboxOpen&&(this.slidesContainer.innerHTML=\"\",this.elements.length&&(o(this.elements,(function(){var e=m(t.settings.slideHTML);t.slidesContainer.appendChild(e)})),this.showSlide(0,!0)))}},{key:\"getElementIndex\",value:function(e){var t=!1;return o(this.elements,(function(i,n){if(O(i,\"node\")&&i.node==e)return t=n,!0})),t}},{key:\"getElements\",value:function(){var e=this,t=[];this.elements=this.elements?this.elements:[],!I(this.settings.elements)&&E(this.settings.elements)&&this.settings.elements.length&&o(this.settings.elements,(function(i,n){var s=new $(i,e,n),o=s.getConfig(),r=l({},o);r.node=!1,r.index=n,r.instance=s,r.slideConfig=o,t.push(r)}));var i=!1;return this.getSelector()&&(i=document.querySelectorAll(this.getSelector())),i?(o(i,(function(i,n){var s=new $(i,e,n),o=s.getConfig(),r=l({},o);r.node=i,r.index=n,r.instance=s,r.slideConfig=o,r.gallery=i.getAttribute(\"data-gallery\"),t.push(r)})),t):t}},{key:\"getGalleryElements\",value:function(e,t){return e.filter((function(e){return e.gallery==t}))}},{key:\"getSelector\",value:function(){return!this.settings.elements&&(this.settings.selector&&\"data-\"==this.settings.selector.substring(0,5)?\"*[\".concat(this.settings.selector,\"]\"):this.settings.selector)}},{key:\"getActiveSlide\",value:function(){return this.slidesContainer.querySelectorAll(\".gslide\")[this.index]}},{key:\"getActiveSlideIndex\",value:function(){return this.index}},{key:\"getAnimationClasses\",value:function(){var e=[];for(var t in this.settings.cssEfects)if(this.settings.cssEfects.hasOwnProperty(t)){var i=this.settings.cssEfects[t];e.push(\"g\".concat(i.in)),e.push(\"g\".concat(i.out))}return e.join(\" \")}},{key:\"build\",value:function(){var e=this;if(this.built)return!1;var t=document.body.childNodes,i=[];o(t,(function(e){e.parentNode==document.body&&\"#\"!==e.nodeName.charAt(0)&&e.hasAttribute&&!e.hasAttribute(\"aria-hidden\")&&(i.push(e),e.setAttribute(\"aria-hidden\",\"true\"))}));var n=O(this.settings.svg,\"next\")?this.settings.svg.next:\"\",s=O(this.settings.svg,\"prev\")?this.settings.svg.prev:\"\",l=O(this.settings.svg,\"close\")?this.settings.svg.close:\"\",r=this.settings.lightboxHTML;r=m(r=(r=(r=r.replace(/{nextSVG}/g,n)).replace(/{prevSVG}/g,s)).replace(/{closeSVG}/g,l)),document.body.appendChild(r);var d=document.getElementById(\"glightbox-body\");this.modal=d;var g=d.querySelector(\".gclose\");this.prevButton=d.querySelector(\".gprev\"),this.nextButton=d.querySelector(\".gnext\"),this.overlay=d.querySelector(\".goverlay\"),this.loader=d.querySelector(\".gloader\"),this.slidesContainer=document.getElementById(\"glightbox-slider\"),this.bodyHiddenChildElms=i,this.events={},h(this.modal,\"glightbox-\"+this.settings.skin),this.settings.closeButton&&g&&(this.events.close=a(\"click\",{onElement:g,withCallback:function(t,i){t.preventDefault(),e.close()}})),g&&!this.settings.closeButton&&g.parentNode.removeChild(g),this.nextButton&&(this.events.next=a(\"click\",{onElement:this.nextButton,withCallback:function(t,i){t.preventDefault(),e.nextSlide()}})),this.prevButton&&(this.events.prev=a(\"click\",{onElement:this.prevButton,withCallback:function(t,i){t.preventDefault(),e.prevSlide()}})),this.settings.closeOnOutsideClick&&(this.events.outClose=a(\"click\",{onElement:d,withCallback:function(t,i){e.preventOutsideClick||c(document.body,\"glightbox-mobile\")||u(t.target,\".ginner-container\")||u(t.target,\".gbtn\")||c(t.target,\"gnext\")||c(t.target,\"gprev\")||e.close()}})),o(this.elements,(function(t,i){e.slidesContainer.appendChild(t.instance.create()),t.slideNode=e.slidesContainer.querySelectorAll(\".gslide\")[i]})),K&&h(document.body,\"glightbox-touch\"),this.events.resize=a(\"resize\",{onElement:window,withCallback:function(){e.resize()}}),this.built=!0}},{key:\"resize\",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;if((e=e||this.activeSlide)&&!c(e,\"zoomed\")){var t=y(),i=e.querySelector(\".gvideo-wrapper\"),n=e.querySelector(\".gslide-image\"),s=this.slideDescription,l=t.width,o=t.height;if(l<=768?h(document.body,\"glightbox-mobile\"):d(document.body,\"glightbox-mobile\"),i||n){var r=!1;if(s&&(c(s,\"description-bottom\")||c(s,\"description-top\"))&&!c(s,\"gabsolute\")&&(r=!0),n)if(l<=768)n.querySelector(\"img\");else if(r){var a=s.offsetHeight,u=n.querySelector(\"img\");u.setAttribute(\"style\",\"max-height: calc(100vh - \".concat(a,\"px)\")),s.setAttribute(\"style\",\"max-width: \".concat(u.offsetWidth,\"px;\"))}if(i){var g=O(this.settings.plyr.config,\"ratio\")?this.settings.plyr.config.ratio:\"\";if(!g){var v=i.clientWidth,f=i.clientHeight,p=v/f;g=\"\".concat(v/p,\":\").concat(f/p)}var m=g.split(\":\"),x=this.settings.videosWidth,b=this.settings.videosWidth,S=(b=M(x)||-1!==x.indexOf(\"px\")?parseInt(x):-1!==x.indexOf(\"vw\")?l*parseInt(x)/100:-1!==x.indexOf(\"vh\")?o*parseInt(x)/100:-1!==x.indexOf(\"%\")?l*parseInt(x)/100:parseInt(i.clientWidth))/(parseInt(m[0])/parseInt(m[1]));if(S=Math.floor(S),r&&(o-=s.offsetHeight),b>l||S>o||o<S&&l>b){var w=i.offsetWidth,T=i.offsetHeight,C=o/T,k={width:w*C,height:T*C};i.parentNode.setAttribute(\"style\",\"max-width: \".concat(k.width,\"px\")),r&&s.setAttribute(\"style\",\"max-width: \".concat(k.width,\"px;\"))}else i.parentNode.style.maxWidth=\"\".concat(x),r&&s.setAttribute(\"style\",\"max-width: \".concat(x,\";\"))}}}}},{key:\"reload\",value:function(){this.init()}},{key:\"updateNavigationClasses\",value:function(){var e=this.loop();d(this.nextButton,\"disabled\"),d(this.prevButton,\"disabled\"),0==this.index&&this.elements.length-1==0?(h(this.prevButton,\"disabled\"),h(this.nextButton,\"disabled\")):0!==this.index||e?this.index!==this.elements.length-1||e||h(this.nextButton,\"disabled\"):h(this.prevButton,\"disabled\")}},{key:\"loop\",value:function(){var e=O(this.settings,\"loopAtEnd\")?this.settings.loopAtEnd:null;return e=O(this.settings,\"loop\")?this.settings.loop:e,e}},{key:\"close\",value:function(){var e=this;if(!this.lightboxOpen){if(this.events){for(var t in this.events)this.events.hasOwnProperty(t)&&this.events[t].destroy();this.events=null}return!1}if(this.closing)return!1;this.closing=!0,this.slidePlayerPause(this.activeSlide),this.fullElementsList&&(this.elements=this.fullElementsList),this.bodyHiddenChildElms.length&&o(this.bodyHiddenChildElms,(function(e){e.removeAttribute(\"aria-hidden\")})),h(this.modal,\"glightbox-closing\"),g(this.overlay,\"none\"==this.settings.openEffect?\"none\":this.settings.cssEfects.fade.out),g(this.activeSlide,this.settings.cssEfects[this.settings.closeEffect].out,(function(){if(e.activeSlide=null,e.prevActiveSlideIndex=null,e.prevActiveSlide=null,e.built=!1,e.events){for(var t in e.events)e.events.hasOwnProperty(t)&&e.events[t].destroy();e.events=null}var i=document.body;d(Q,\"glightbox-open\"),d(i,\"glightbox-open touching gdesc-open glightbox-touch glightbox-mobile gscrollbar-fixer\"),e.modal.parentNode.removeChild(e.modal),e.trigger(\"close\"),T(e.settings.onClose)&&e.settings.onClose();var n=document.querySelector(\".gcss-styles\");n&&n.parentNode.removeChild(n),e.lightboxOpen=!1,e.closing=null}))}},{key:\"destroy\",value:function(){this.close(),this.clearAllEvents(),this.baseEvents&&this.baseEvents.destroy()}},{key:\"on\",value:function(e,t){var i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(!e||!T(t))throw new TypeError(\"Event name and callback must be defined\");this.apiEvents.push({evt:e,once:i,callback:t})}},{key:\"once\",value:function(e,t){this.on(e,t,!0)}},{key:\"trigger\",value:function(e){var t=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=[];o(this.apiEvents,(function(t,s){var l=t.evt,o=t.once,r=t.callback;l==e&&(r(i),o&&n.push(s))})),n.length&&o(n,(function(e){return t.apiEvents.splice(e,1)}))}},{key:\"clearAllEvents\",value:function(){this.apiEvents.splice(0,this.apiEvents.length)}},{key:\"version\",value:function(){return\"3.1.0\"}}]),e}();return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=new te(e);return t.init(),t}}));",null,null,null,null,null,null,null,"import _EmbedBlock from \"./embed-block.component.js\";\nimport _FileGrid from \"./file-grid.component.js\";\nimport _BigFile from \"./big-file.component.js\";\nimport _MiniFile from \"./mini-file.component.js\";\n\nexport const EmbedBlock = _EmbedBlock;\nexport const FileGrid = _FileGrid;\nexport const BigFile = _BigFile;\nexport const MiniFile = _MiniFile;\n","import { h } from \"preact\";\nimport { util, router } from \"/src/core\";\nimport { useState, useEffect } from \"preact/hooks\";\nimport BandCampEmbed from \"./bandcamp-embed.component.js\";\nimport GenericEmbed from \"./generic-embed.component.js\";\nimport GLightbox from \"glightbox\";\n\nexport default function EmbedBlock(props) {\n\n  const [lightbox, setLightbox] = useState(null);\n\n  useEffect(() => {\n    setLightbox(GLightbox({\n      autoplayVideos: false,\n      draggable: true,\n      loop: false,\n      touchNavigation: true,\n      zoomable: true,\n      elements: [],\n    }));\n  }, []);\n\n  const openLightbox = evt => {\n    evt.preventDefault();\n    evt.stopPropagation();\n    if (lightbox != null && Array.from(document.getElementsByClassName(\"glightbox\")).length > 0) {\n      const elements = Array.from(document.getElementsByClassName(\"glightbox\")).map(e => {\n        const r = {href: e.href};\n        if (e?.dataset?.width) {\n          r.width = e?.dataset?.width;\n        }\n        if (e?.dataset?.height) {\n          r.height = e?.dataset?.height;\n        }\n        if (e?.dataset?.type) {\n          r.type = e?.dataset?.type;\n        }\n        if (e?.dataset?.srcset) {\n          r.srcset = e?.dataset?.srcset;\n        }\n        if (e?.dataset?.sizes) {\n          r.sizes = e?.dataset?.sizes;\n        }\n        return r;\n      });\n      lightbox.setElements(elements);\n      lightbox.open(null, elements.findIndex(e => e.href === evt.target.closest(\".glightbox\").href));\n    }\n  };\n\n  const getPreview = () => {\n    if (props?.data?.exception) {\n      console.warn(props.data);\n    }\n    if (props.data[\"providerName\"]) {\n      if (\"peertube\" == props.data[\"providerName\"].toLowerCase()) {\n        // default embed code\n        if (props.data[\"code\"]) {\n          return (\n            <div class=\"embed-container\" dangerouslySetInnerHTML={{ __html: props.data[\"code\"] }} />\n          );\n        }\n      }\n      if (\"soundcloud\" == props.data[\"providerName\"].toLowerCase()) {\n        if (props.data[\"code\"]) {\n          return (\n            <GenericEmbed\n              preview={util.crop(props.preview.id, 1024, 270)}\n              url={\n                `${props.data[\"code\"].match(/https:\\/\\/[^\"\\s]+/)[0] \n                }&auto_play=true`\n              }\n              playBtnClass={\"soundcloud\"}\n            />\n          );\n        }\n      }\n      if (\"bandcamp\" == props.data[\"providerName\"].toLowerCase()) {\n        if (props.data[\"code\"]) {\n          let id = props.data[\"code\"].match(/https:\\/\\/.*album=\\d+/);\n          if (!id) {\n            id = props.data[\"code\"].match(/https:\\/\\/.*track=\\d+/);\n          }\n          if (id) {\n            return (\n              <BandCampEmbed\n                preview={util.crop(props.preview.id, 1024, 270)}\n                url={id[0]}\n              />\n            );\n          }\n        }\n      }\n      if (\"lichess.org\" == props.data[\"providerName\"].toLowerCase()) {\n        let url = props?.data?.url && typeof(props?.data.url) == \"string\" ? props.data?.url : props.url;\n        if (util.isValidUrl(url) && !url.match(/embed/) && !url.match(/study/) && !url.match(/blog/)) {\n          url = new URL(url.replace(\"lichess.org/\", \"lichess.org/embed/\"));\n          let id;\n          try {\n            id = url.pathname.split(\"/\").slice(-1)[0];\n          } catch (e) {\n            id = \"\";\n          }\n          url = new URL(url.href.replace(id, id.slice(0, 8)));\n          if (id) {\n            return (\n              <GenericEmbed\n                preview={util.crop(props.preview.id, 270, 270)}\n                url={url}\n                playBtnClass={\"lichess\"}\n              />\n            );\n          }\n        }\n      }\n      if (\"youtube\" == props.data[\"providerName\"].toLowerCase()) {\n        let url = props.url;\n        if (props?.preview?.id && url) {\n          url = new URL(url);\n          let video_id;\n          let playlist_id;\n          if (\n            url.host == \"www.youtube.com\"\n            || url.host == \"m.youtube.com\"\n            || url.host == \"youtube.com\"\n            || url.host == \"music.youtube.com\"\n          ) {\n            if(url.pathname.match(/shorts/)) {\n              video_id = [`v=${url.pathname.split(\"/\").slice(-1)[0]}`];\n              playlist_id = [];\n            } else if(url.pathname.match(/embed/)) {\n              video_id = [`v=${url.pathname.split(\"/\").slice(-1)[0]}`];\n              playlist_id = [];\n            } else {\n              video_id = url.search.substring(1).split(\"&\").filter(e => e.match(/^v=/));\n              playlist_id = url.search.substring(1).split(\"&\").filter(e => e.match(/^list=/));\n            }\n          }\n          if (url.host == \"youtu.be\") {\n            video_id = [`v=${url.pathname.slice(1)}`];\n            playlist_id = [];\n          }\n          let timecode = router.getParam(\"t\", url.search.substring(1));\n          if (playlist_id.length && video_id.length) {\n            return (\n              <GenericEmbed\n                preview={util.crop(props.preview.id, 1024, 270)}\n                url={\n                  `https://youtube.com/embed/${video_id[0].split(\"=\")[1]}?autoplay=1&controls=2&wmode=opaque&list=${playlist_id[0].split(\"=\")[1]}${timecode ? `&start=${timecode}` : \"\"}`\n                }\n                playBtnClass={\"youtube\"}\n              />\n            );\n          }\n          if (playlist_id.length) {\n            return (\n              <GenericEmbed\n                preview={util.crop(props.preview.id, 1024, 270)}\n                url={\n                  `https://youtube.com/embed/videoseries?list=${playlist_id[0].split(\"=\")[1]}&autoplay=1&controls=2&wmode=opaque${timecode ? `&start=${timecode}` : \"\"}`\n                }\n                playBtnClass={\"youtube\"}\n              />\n            );\n          }\n          if (video_id.length) {\n            return (\n              <GenericEmbed\n                preview={util.crop(props.preview.id, 1024, 270)}\n                url={\n                  `https://youtube.com/embed/${video_id[0].split(\"=\")[1]}?autoplay=1&controls=2&wmode=opaque${timecode ? `&start=${timecode}` : \"\"}`\n                }\n                playBtnClass={\"youtube\"}\n              />\n            );\n          }\n        }\n      }\n    }\n    if (props.data[\"content-type\"] == \"image/gif\") {\n      return (\n        <div class=\"container d-flex justify-content-center flex-wrap align-items-center\">\n          <img\n            href={util.toApp(props.url)}\n            class=\"img-fluid\"\n            data-origin={props.url}\n            data-src={props.url}\n            src={props.url}\n          />\n        </div>\n      );\n    }\n    if (/image/.test(props.data[\"content-type\"])) {\n      return (\n        <div class=\"container d-flex justify-content-center flex-wrap align-items-center\">\n          <a\n            href={util.toApp(props.url)}\n            class=\"glightbox\"\n            data-type=\"image\"\n            data-srcset={`${util.thumbnail(props.preview.id, 720)} 720w, ${util.thumbnail(props.preview.id, 1366)} 1366w, ${util.thumbnail(props.preview.id, 2048)} 2048w`}\n            data-sizes=\"(max-width: 992px) 720px, (max-width: 1400px) 1366px, 2048px\"\n            onClick={e => openLightbox(e)}\n          >\n            <img\n              href={util.toApp(props.url)}\n              class=\"img-fluid cursor-pointer\"\n              data-origin={props.url}\n              data-src={util.thumbnail(props.preview.id, 1366)}\n              src={util.thumbnail(props.preview.id, 2048)}\n            />\n          </a>\n        </div>\n      );\n    }\n    // application/ogg: https://developer.mozilla.org/en-US/docs/Web/HTTP/Configuring_servers_for_Ogg_media\n    if (/video/.test(props.data[\"content-type\"]) || props.data[\"content-type\"] == \"application/ogg\") {\n      return (\n        <div class=\"container d-flex justify-content-center flex-wrap align-items-center\">\n          <video class=\"img-fluid\" controls src={props.url} />\n        </div>\n      );\n    }\n    if (/audio/.test(props.data[\"content-type\"])) {\n      return (\n        <div class=\"container d-flex justify-content-center flex-wrap align-items-center\">\n          <audio class=\"w-100\" controls>\n            <source src={props.url} />\n          </audio>\n        </div>\n      );\n    }\n    if (\n      props.data[\"title\"] &&\n      (props.preview || props.data[\"description\"])\n    ) {\n      return (\n        <a\n          class=\"preview-card seamless-link d-inline-block\"\n          target=\"_blank\"\n          rel=\"noreferrer\"\n          href={util.toApp(props.url)}\n        >\n          <div class=\"card\" style=\"max-width: 480px\">\n            {props.preview && (\n              <img\n                class=\"card-img-top\"\n                src={util.crop(props.preview.id, 320, 180)}\n              />\n            )}\n            <div class=\"card-body p-1\">\n              <h5>{props.data[\"title\"]}</h5>\n              {props.data[\"description\"] && (\n                <p>\n                  <small>{props.data[\"description\"].slice(0, 500)}</small>\n                </p>\n              )}\n            </div>\n          </div>\n        </a>\n      );\n    }\n    return null;\n  };\n\n  if (!props.url || !props.data) {\n    return null;\n  }\n  let preview = getPreview();\n  if (preview) {\n    return <p class=\"text-center card-text\">{preview}</p>;\n  }\n  return null;\n}\n","import { h } from \"preact\";\nimport { BigFile, MiniFile } from \"/src/embed\";\n\nexport default function FileGrid(props) {\n\n  const toggleFile = (evt) => {\n    evt.stopPropagation();\n    evt.preventDefault();\n    if (typeof props.toggleFile == \"function\") {\n      props.toggleFile(evt.target.closest(\".file-embed\").id);\n    }\n  };\n\n  if (!props.files || props.files.length === 0) {\n    return null;\n  }\n  if (props.files && props.files.length > 3) {\n    return (\n      <div class=\"file-grid\">\n        {props.files\n          .map(e => (\n            <MiniFile\n              key={e.id}\n              invertFiles={props.invertFiles}\n              toggleFile={toggleFile}\n              file={e}\n              inWriter={props.inWriter}\n            />\n          ))}\n      </div>\n    );\n  }\n  return (\n    <div class=\"d-flex justify-content-center flex-wrap\">\n      {props.files\n        .map(e => (\n          <BigFile\n            key={e.id}\n            toggleFile={toggleFile}\n            invertFiles={props.invertFiles}\n            file={e}\n            inWriter={props.inWriter}\n          />\n        ))}\n    </div>\n  );\n}\n","import { h } from \"preact\";\nimport { util } from \"/src/core\";\nimport { FaIcon } from \"/src/misc\";\nimport { useTranslation } from \"react-i18next\";\nimport { useState, useEffect } from \"preact/hooks\";\nimport GLightbox from \"glightbox\";\n\nexport default function BigFile(props) {\n\n  const [lightbox, setLightbox] = useState(null);\n\n  const { t } = useTranslation();\n  const filePath = props.file.contentUrl ? `/files/${props.file.contentUrl}` : null;\n  let url = filePath;\n\n  useEffect(() => {\n    setLightbox(GLightbox({\n      autoplayVideos: false,\n      draggable: true,\n      loop: false,\n      touchNavigation: true,\n      zoomable: true,\n      elements: [],\n    }));\n  }, []);\n\n  const openLightbox = evt => {\n    if (!props.inWriter) {\n      evt.preventDefault();\n      evt.stopPropagation();\n      if (lightbox != null && Array.from(document.getElementsByClassName(\"glightbox\")).length > 0) {\n        const elements = Array.from(document.getElementsByClassName(\"glightbox\")).map(e => {\n          const r = {href: e.href};\n          if (e?.dataset?.width) {\n            r.width = e?.dataset?.width;\n          }\n          if (e?.dataset?.height) {\n            r.height = e?.dataset?.height;\n          }\n          if (e?.dataset?.type) {\n            r.type = e?.dataset?.type;\n          }\n          if (e?.dataset?.srcset) {\n            r.srcset = e?.dataset?.srcset;\n          }\n          if (e?.dataset?.sizes) {\n            r.sizes = e?.dataset?.sizes;\n          }\n          return r;\n        });\n        lightbox.setElements(elements);\n        lightbox.open(null, elements.findIndex(e => e.href === evt.target.closest(\".glightbox\").href));\n      }\n    }\n  };\n\n  if (props.file.contentUrl) {\n    if (/video/.test(props.file.type)) {\n      if (props.file.status == \"ready\") {\n        return (\n          <video\n            draggable=\"false\"\n            poster={util.thumbnail(props.file.id, 1280, 720)}\n            class=\"file-embed img-fluid contained-height video\"\n            controls=\"true\"\n            src={url}\n            id={props.file.id}\n          />\n        );\n      }\n      return (\n        <a class=\"file-embed image video-uploaded\" id={props.file.id}>\n          <img\n            class=\"img-fluid video-raw\"\n            src={util.crop(props.file.id, 320, 180)}\n          />\n          <div class=\"video-not-ready\">\n            {t(\"video_not_ready\")}\n          </div>\n        </a>\n      );\n    }\n    if (/pdf/.test(props.file.type)) {\n      return (\n        <a\n          data-origin={util.toApp(filePath)}\n          draggable=\"false\"\n          href={!props.inWriter ? util.toApp(url) : undefined}\n          className={`glightbox file-embed pdf-outline image${props.file.removed ? \" removed\" : \"\"}`}\n          id={props.file.id}\n          data-width=\"calc(90vw - 10px)\"\n          data-height=\"100vh\"\n          onClick={e => openLightbox(e)}\n        >\n          <img class=\"img-fluid\" src={util.thumbnail(props.file.id, 210*2, 497*2)} />\n          <div\n            class=\"remove-button\"\n            style={props.file.removed ? \"color:red\" : \"\"}\n            onClick={e => props.toggleFile(e)}\n          >\n            <FaIcon family={\"solid\"} icon={\"times\"} />\n          </div>\n        </a>\n      );\n    }\n    if (/image/.test(props.file.type)) {\n\n      if (props.file.type == \"image/gif\") {\n        return (\n          <a\n            data-origin={util.toApp(filePath)}\n            draggable=\"false\"\n            href={!props.inWriter ? util.toApp(filePath) : undefined}\n            className={`glightbox file-embed image${props.file.removed ? \" removed\" : \"\"}`}\n            id={props.file.id}\n            data-type=\"image\"\n            onClick={e => openLightbox(e)}\n          >\n            <img class=\"img-fluid\" src={util.toApp(filePath)} />\n            <div\n              class=\"remove-button\"\n              style={props.file.removed ? \"color:red\" : \"\"}\n              onClick={e => props.toggleFile(e)}\n            >\n              <FaIcon family={\"solid\"} icon={\"times\"} />\n            </div>\n          </a>\n        );\n      }\n\n      return (\n        <a\n          data-origin={util.toApp(filePath)}\n          draggable=\"false\"\n          data-type=\"image\"\n          data-srcset={`${util.thumbnail(props.file.id, 720)} 720w, ${util.thumbnail(props.file.id, 1366)} 1366w, ${util.thumbnail(props.file.id, 2048)} 2048w`}\n          data-sizes=\"(max-width: 992px) 720px, (max-width: 1400px) 1366px, 2048px\"\n          href={!props.inWriter ? util.toApp(filePath) : undefined}\n          className={`glightbox file-embed image${props.file.removed ? \" removed\" : \"\"}`}\n          id={props.file.id}\n          onClick={e => openLightbox(e)}\n        >\n          <img class=\"img-fluid\" src={util.thumbnail(props.file.id, 720)} />\n          <div\n            class=\"remove-button\"\n            style={props.file.removed ? \"color:red\" : \"\"}\n            onClick={e => props.toggleFile(e)}\n          >\n            <FaIcon family={\"solid\"} icon={\"times\"} />\n          </div>\n        </a>\n      );\n    }\n  }\n\n  if (props.file.status == \"loading\") {\n    return (\n      <div class=\"file-embed file-placeholder\" id={props.file.id}/>\n    );\n  }\n  return (\n    <div class=\"file-embed file-placeholder\" id={props.file.id}>\n      {props.file[\"error\"] ? (\n        <div class=\"orange-error\">&times;</div>\n      ) : (\n        <div class=\"spinner orange-spinner\">\n          <div /><div /><div /><div /><div />\n        </div>\n      )}\n      <div class=\"progress-bar\">\n        <div style={{ width: `${props.file.progress}%` }} />\n      </div>\n    </div>\n  );\n}\n","import { h } from \"preact\";\nimport { useState, useRef, useEffect } from \"preact/hooks\";\nimport { util } from \"/src/core\";\nimport { FaIcon } from \"/src/misc\";\nimport { polyfill } from \"mobile-drag-drop\";\nimport GLightbox from \"glightbox\";\n\nexport default function MiniFile(props) {\n\n  const [lightbox, setLightbox] = useState(null);\n\n  const filePath = props.file.contentUrl ? `/files/${props.file.contentUrl}` : null;\n  let url = filePath;\n  const innerRef = useRef(null);\n  polyfill({\n    tryFindDraggableTarget: e => {\n      if (!props.inWriter) {\n        return undefined;\n      }\n      const cp = e.composedPath();\n      for (const o of cp) {\n        let el = o;\n        do {\n          if (el.draggable === false) {\n            continue;\n          }\n          if (el.draggable === true) {\n            return el;\n          }\n          if (\n            el.getAttribute\n            && el.getAttribute(\"draggable\") === \"true\"\n          ) {\n            return el;\n          }\n        } while((el = el.parentNode) && el !== document.body);\n      }\n    },\n  });\n\n  useEffect(() => {\n    setLightbox(GLightbox({\n      autoplayVideos: false,\n      draggable: true,\n      loop: false,\n      touchNavigation: true,\n      zoomable: true,\n      elements: [],\n    }));\n  }, []);\n\n  const openLightbox = evt => {\n    if (!props.inWriter) {\n      evt.preventDefault();\n      evt.stopPropagation();\n      if (lightbox != null && Array.from(document.getElementsByClassName(\"glightbox\")).length > 0) {\n        const elements = Array.from(document.getElementsByClassName(\"glightbox\")).map(e => {\n          const r = {href: e.href};\n          if (e?.dataset?.width) {\n            r.width = e?.dataset?.width;\n          }\n          if (e?.dataset?.height) {\n            r.height = e?.dataset?.height;\n          }\n          if (e?.dataset?.type) {\n            r.type = e?.dataset?.type;\n          }\n          if (e?.dataset?.srcset) {\n            r.srcset = e?.dataset?.srcset;\n          }\n          if (e?.dataset?.sizes) {\n            r.sizes = e?.dataset?.sizes;\n          }\n          return r;\n        });\n        lightbox.setElements(elements);\n        lightbox.open(null, elements.findIndex(e => e.href === evt.target.closest(\".glightbox\").href));\n      }\n    }\n  };\n\n  const fileDragStart = e => {\n    e.target.style.opacity = \"0.4\";\n    e.dataTransfer.effectAllowed = \"move\";\n    e.dataTransfer.setData(\"id\", props.file.id);\n    document.querySelectorAll(\".remove-button\").forEach(e => e.style.display = \"none\");\n  };\n\n  const fileDragEnd = e => {\n    e.target.style.opacity = \"1\";\n    document.querySelectorAll(\".remove-button\").forEach(e => e.style.display = \"block\");\n    document.querySelectorAll(\".drag-over\").forEach(e => e.classList.remove(\"drag-over\"));\n  };\n\n  const fileDragEnter = e => {\n    e.preventDefault();\n    innerRef.current.classList.add(\"drag-over\");\n    return false;\n  };\n\n  const fileDragLeave = e => {\n    e.preventDefault();\n    innerRef.current.classList.remove(\"drag-over\");\n    return false;\n  };\n\n  // necessary to declare a drop target\n  const fileDragOver = e => {\n    e.preventDefault();\n    return false;\n  };\n\n  const fileDrop = e => {\n    // stops the browser from redirecting.\n    e.preventDefault();\n    props.invertFiles(e.dataTransfer.getData(\"id\"), props.file.id);\n    return false;\n  };\n\n  useEffect(() => {\n    if (props.inWriter && props.file.status == \"ready\") {\n      innerRef.current.addEventListener(\"dragstart\", fileDragStart);\n      innerRef.current.addEventListener(\"dragend\", fileDragEnd);\n      innerRef.current.addEventListener(\"dragover\", fileDragOver);\n      innerRef.current.addEventListener(\"dragenter\", fileDragEnter);\n      innerRef.current.addEventListener(\"dragleave\", fileDragLeave);\n      innerRef.current.addEventListener(\"drop\", fileDrop);\n      return () => {\n        innerRef.current.removeEventListener(\"dragstart\", fileDragStart);\n        innerRef.current.removeEventListener(\"dragend\", fileDragEnd);\n        innerRef.current.removeEventListener(\"dragover\", fileDragOver);\n        innerRef.current.removeEventListener(\"dragenter\", fileDragEnter);\n        innerRef.current.removeEventListener(\"dragleave\", fileDragLeave);\n        innerRef.current.removeEventListener(\"drop\", fileDrop);\n      };\n    }\n  }, []);\n\n  switch (props.file.status) {\n  case \"raw\":\n    return (\n      <a class=\"file-embed rounded\" id={props.file.id}>\n        <div class=\"miniature\">\n          <FaIcon family={\"regular\"} icon={\"check-circle\"} />\n        </div>\n      </a>\n    );\n  case \"loading\":\n    return (\n      <a class=\"file-embed rounded\" id={props.file.id}>\n        <div class=\"miniature\"/>\n      </a>\n    );\n  case \"uploading\":\n  case \"initial\":\n    return (\n      <a class=\"file-embed rounded\" id={props.file.id}>\n        <div\n          class=\"miniature video-raw\"\n          style={`background-image:url(\"${util.crop(props.file.id, 160, 160)}\")`}\n        />\n        <div class=\"spinner orange-spinner\">\n          <div /><div /><div /><div /><div />\n        </div>\n        { props.file && props.file.progress > 0 && (\n          <div class=\"progress-bar\">\n            <div style={{ width: `${props.file.progress}%` }} />\n          </div>\n        )}\n      </a>\n    );\n  case \"ready\":\n  default:\n    if (/pdf/.test(props.file.type) || /video/.test(props.file.type)) {\n      return (\n        <a\n          ref={innerRef}\n          draggable={!!props.inWriter}\n          data-origin={util.toApp(filePath)}\n          href={!props.inWriter ? util.toApp(url) : undefined}\n          className={`${!props.inWriter ? \"glightbox \": \"\"}file-embed rounded ${props.file.removed ? \" removed\" : \"\"}`}\n          id={props.file.id}\n          data-width=\"calc(90vw - 10px)\"\n          data-height=\"100vh\"\n          onClick={e => openLightbox(e)}\n        >\n          <div\n            className={`miniature${props.file.removed ? \" removed\" : \"\"}`}\n            style={\n              `background-image:url(\"${util.crop(props.file.id, 160, 160)}\")`\n            }\n          />\n          <div\n            class=\"remove-button\"\n            style={props.file.removed ? \"color:red\" : \"\"}\n            onClick={e => props.toggleFile(e)}\n          >\n            <FaIcon family={\"solid\"} icon={\"times\"} />\n          </div>\n        </a>\n      );\n    }\n    if (props.file.type == \"image/gif\") {\n      return (\n        <a\n          ref={innerRef}\n          draggable={!!props.inWriter}\n          data-origin={util.toApp(filePath)}\n          href={!props.inWriter ? util.toApp(filePath) : undefined}\n          class={`${!props.inWriter ? \"glightbox \": \"\"}file-embed rounded`}\n          id={props.file.id}\n          data-type=\"image\"\n          onClick={e => openLightbox(e)}\n        >\n          <div\n            className={`miniature${props.file.removed ? \" removed\" : \"\"}`}\n            style={\n              `background-image:url(\"${util.crop(props.file.id, 160, 160)}\")`\n            }\n          />\n          <div\n            class=\"remove-button\"\n            style={props.file.removed ? \"color:red\" : \"\"}\n            onClick={e => props.toggleFile(e)}\n          >\n            <FaIcon family={\"solid\"} icon={\"times\"} />\n          </div>\n        </a>\n      );\n    }\n    if (/image/.test(props.file.type)) {\n      return (\n        <a\n          ref={innerRef}\n          draggable={!!props.inWriter}\n          data-origin={util.toApp(filePath)}\n          data-type=\"image\"\n          data-srcset={`${util.thumbnail(props.file.id, 720)} 720w, ${util.thumbnail(props.file.id, 1366)} 1366w, ${util.thumbnail(props.file.id, 2048)} 2048w`}\n          data-sizes=\"(max-width: 992px) 720px, (max-width: 1400px) 1366px, 2048px\"\n          href={!props.inWriter ? util.toApp(filePath) : undefined}\n          class={`${!props.inWriter ? \"glightbox \": \"\"}file-embed rounded`}\n          id={props.file.id}\n          onClick={e => openLightbox(e)}\n        >\n          <div\n            className={`miniature${props.file.removed ? \" removed\" : \"\"}`}\n            style={\n              `background-image:url(\"${util.crop(props.file.id, 160, 160)}\")`\n            }\n          />\n          <div\n            class=\"remove-button\"\n            style={props.file.removed ? \"color:red\" : \"\"}\n            onClick={e => props.toggleFile(e)}\n          >\n            <FaIcon family={\"solid\"} icon={\"times\"} />\n          </div>\n        </a>\n      );\n    }\n  }\n}\n","import _GroupWriter from \"./group-writer.component.js\";\nimport _Writer from \"./writer.component.js\";\nimport _WritingWidget from \"./writing-widget.component.js\";\n\nexport const GroupWriter = _GroupWriter;\nexport const Writer = _Writer;\nexport const WritingWidget = _WritingWidget;\n","import { h } from \"preact\";\nimport { Writer } from \"/src/writer\";\nimport { Navbar } from \"/src/navbar\";\nimport { useParams } from \"react-router-dom\";\n\nexport default function GroupWriter() {\n  let params = useParams();\n\n  return (\n    <main>\n      <Navbar />\n      <div class=\"content\">\n        <article class=\"mb-3\">\n          <div class=\"container pb-3\">\n            <Writer focus={true} group={params.id} />\n          </div>\n        </article>\n      </div>\n    </main>\n  );\n}\n","import { h } from \"preact\";\nimport { alert, http, util, me } from \"/src/core\";\nimport { useTranslation } from \"react-i18next\";\nimport { WritingWidget } from \"/src/writer\";\nimport { useNavigate } from \"react-router-dom\";\nimport { useState, useEffect, useRef } from \"preact/hooks\";\n\n// trick from https://stackoverflow.com/a/53837442\nfunction useForceUpdate() {\n  const [value, setValue] = useState(0); // integer state\n  return () => setValue(value => value + 1); // update state to force render\n}\n\nexport default function Writer(props) {\n\n  const { t } = useTranslation();\n  const navigate = useNavigate();\n  const [files, setFiles] = useState(props?.files || []);\n  const [sending, setSending] = useState(false);\n  const [uploading, setUploading] = useState(false);\n  const forceUpdate = useForceUpdate();\n  const writerId = util.genId();\n\n  // This allows to have the latest state of files in callbacks\n  // https://stackoverflow.com/a/60643670\n  const currentFiles = useRef();\n  currentFiles.current = files;\n\n  const setForm = (writerForm, files = [], title = \"\", text = \"\") => {\n    setFiles(files);\n    Array.from(writerForm.current.getElementsByClassName(\"title-input\")).map(e => e.value = title);\n    Array.from(writerForm.current.getElementsByClassName(\"text-input\")).map(e => e.value = text);\n  };\n\n  const updateFile = (id, file) => {\n    setFiles(currentFiles.current.map(f => f.id === id ? Object.assign(f, file) : f));\n  };\n\n  const invertFiles = (id_a, id_b) => {\n    const index_a = files.findIndex(e => e.id === id_a);\n    const index_b = files.findIndex(e => e.id === id_b);\n    [files[index_a], files[index_b]] = [files[index_b], files[index_a]];\n    setFiles(files);\n    forceUpdate();\n  };\n\n  const removeFile = id => {\n    setFiles(files.filter(f => f.id != id));\n  };\n\n  const uploadFile = fileId => {\n    const formData = new FormData();\n    let file = files.find(e => e.id == fileId);\n    if (!file || !file.inputFile) {\n      // TODO handle this properly\n      console.error(files, file, fileId);\n      throw \"error\";\n    }\n\n    formData.append(\"file\", file.inputFile);\n\n    updateFile(fileId, Object.assign(file, {status: \"uploading\"}));\n    setUploading(true);\n\n    http.sendFile(\n      formData,\n      file => {\n        setUploading(false);\n        updateFile(fileId, Object.assign({status: \"ready\"}, file));\n      },\n      e => {\n        updateFile(\n          fileId,\n          {status: \"uploading\", progress: Math.floor((e.loaded / e.total) * 100)}\n        );\n      },\n      e => {\n        setUploading(false);\n        console.warn(e);\n        alert.add(t(\"error_upload\"), \"alert-danger\");\n        removeFile(fileId);\n      }\n    );\n  };\n\n  const putMessage = (msg, writerForm) => {\n    http.put(`/api/messages/${props.messageId}`, msg).then(res => {\n      setForm(writerForm, [], \"\", \"\");\n      setSending(false);\n      if (!res) {\n        alert.add(t(\"error_new_message\"), \"alert-danger\");\n        return;\n      }\n      window.dispatchEvent(new CustomEvent(\"editMessage\", { detail: res }));\n    });\n    setSending(true);\n  };\n\n  const postMessage = (msg, writerForm) => {\n    msg = Object.assign(msg, {\n      createdAt: Math.floor(Date.now() / 1000),\n      author: me.id,\n      group: util.getId(props.group),\n      children: [],\n      lastActivityDate: Math.floor(Date.now() / 1000)\n    });\n    if (props.parent) {\n      msg.parent = util.getId(props.parent);\n    }\n    // don't post if there is nothing to post\n    if (!msg.files.length && !msg.data.text && !msg.data.title) {\n      alert.add(t(\"empty_message\"), \"alert-danger\");\n      return;\n    }\n    http.post(\"/api/messages\", msg).then(res => {\n      if (!res) {\n        setSending(false);\n        alert.add(t(\"error_new_message\"), \"alert-danger\");\n        return;\n      }\n      if (props.isChild) {\n        setSending(false);\n        window.dispatchEvent(new CustomEvent(\"newChild\", { detail: res }));\n      } else {\n        navigate(`/messages/${res.id}`);\n      }\n      setForm(writerForm, [], \"\", \"\");\n    });\n    setSending(true);\n  };\n\n  const sendMessage = (writerForm, data) => {\n    let msg = {\n      files: files.filter(e => !e?.removed).filter(e => [\"ready\", \"raw\"].includes(e?.status)).map(e => e?.id).filter(e => !!e),\n      data: {\n        title: data?.title,\n        text: data?.text,\n      }\n    };\n    if (props.messageId) {\n      putMessage(msg, writerForm);\n    } else {\n      postMessage(msg, writerForm);\n    }\n  };\n\n  // toggle state (removed or not) of a file\n  const toggleFile = id => {\n    setFiles(files.map(f => {\n      if (f.id == id) {\n        f.removed = !f.removed;\n      }\n      return f;\n    }));\n  };\n\n  const addFiles = (mimetype, input_files) => {\n    let list = Array.from(input_files).map(e => ({\n      inputFile: e,\n      type: mimetype,\n      id: util.genId(),\n      progress: 0,\n      status: \"initial\",\n    }));\n    setFiles([...files, ...list]);\n  };\n\n  const inputFile = (mimetype, multiple = false) => {\n    const input = document.createElement(\"input\");\n    document.body.appendChild(input);\n    input.style.display = \"none\";\n    input.type = \"file\";\n    input.accept = mimetype;\n    if (multiple) {\n      input.multiple = \"multiple\";\n    }\n    input.addEventListener(\"change\", event => {\n      addFiles(mimetype, event.target.files);\n    });\n    input.click();\n  };\n\n  useEffect(() => {\n    if (files.filter(e => e.status === \"uploading\").length < 2) {\n      for (let i = 0; i < files.length; i++) {\n        if (files[i].status == \"initial\" && !!files[i].inputFile) {\n          uploadFile(files[i].id);\n          break;\n        }\n      }\n    }\n  }, [files]);\n\n  return (\n    <WritingWidget\n      id={writerId}\n      sending={sending}\n      uploading={uploading}\n      inputFile={inputFile}\n      sendMessage={sendMessage}\n      cancel={props.cancel}\n      files={files}\n      toggleFile={toggleFile}\n      invertFiles={invertFiles}\n      addFiles={addFiles}\n      group={props.group}\n      isChild={props.isChild}\n      text={props.text}\n      title={props.title}\n    />\n  );\n}\n","import { h } from \"preact\";\nimport { http, util, api } from \"/src/core\";\nimport { FaIcon } from \"/src/misc\";\nimport { EmbedBlock, FileGrid } from \"/src/embed\";\nimport { useTranslation } from \"react-i18next\";\nimport { useState, useRef, useEffect } from \"preact/hooks\";\n\nexport default function WritingWidget(props) {\n  const [preview, setPreview] = useState(null);\n  const [link, setLink] = useState(\"\");\n  const [text, setText] = useState(props.text || \"\");\n  const [title, setTitle] = useState(props.title || \"\");\n  const { t } = useTranslation();\n  const writerForm = useRef(null);\n\n  const cleanForm = () => {\n    setPreview(null);\n    setLink(null);\n    setText(\"\");\n    setTitle(\"\");\n  };\n\n  const sendMessage = writerForm => {\n    props.sendMessage(writerForm, {\n      // we get the raw value here because onChange() does not capture all possible inputs\n      // and then the values of text/title could not be up to date\n      title: writerForm?.current?.querySelector(\".title-input\")?.value,\n      text: writerForm?.current?.querySelector(\".text-input\")?.value,\n    });\n    cleanForm();\n  };\n\n  const genPreview = t => {\n    if (!t) {\n      return;\n    }\n    t.style.height = \"1px\";\n    t.style.height = `${25 + t.scrollHeight}px`;\n    // waiting for the dom to be updated\n    setTimeout(() => {\n      const text = t.value;\n      let links = text.match(/(https?:\\/\\/[^\\s]+)/gi);\n      if (links && links[0] != link) {\n        http\n          .get(`/api/links/by_url?url=${encodeURIComponent(links[0])}`)\n          .then(r => {\n            if (r && t.value.indexOf(links[0]) >= 0) {\n              setLink(links[0]);\n              setPreview(r);\n            }\n          });\n      }\n    }, 0);\n  };\n\n  const onKeyPress = (event, doGenPreview = false) => {\n    if (event.ctrlKey && util.is_it_enter(event)) {\n      sendMessage(writerForm);\n      return;\n    }\n    if (![\" \", \"Enter\", \"v\"].includes(event.key)) {\n      return;\n    }\n    if (doGenPreview) {\n      genPreview(event.currentTarget);\n    }\n  };\n\n  const onPaste = (event) => {\n    props.addFiles(\"image/jpeg\", event.clipboardData.files);\n  };\n\n  useEffect(() => {\n    genPreview(document?.getElementById(props.id)?.querySelector(\".text-input\"));\n  }, []);\n\n  if (props.sending) {\n    return (\n      <div class=\"message-placeholder\">\n        <div class=\"spinner orange-spinner\">\n          <div /><div /><div /><div /><div />\n        </div>\n      </div>\n    );\n  }\n  return (\n    <div id={props.id} class=\"writer\" ref={writerForm}>\n      {!props.isChild && (\n        <input\n          type=\"text\"\n          class=\"title-input\"\n          onKeyPress={e => onKeyPress(e)}\n          placeholder={t(\"title_placeholder\")}\n          value={title}\n          onChange={e => setTitle(e.target.value)}\n        />\n      )}\n      <textarea\n        onKeyPress={e => onKeyPress(e, true)}\n        onPaste={e => onPaste(e)}\n        class=\"text-input\"\n        rows=\"5\"\n        autocomplete=\"off\"\n        autofocus={props.focus}\n        placeholder={t(\"text_placeholder\")}\n        maxlength=\"50000\"\n        value={text}\n        onChange={e => setText(e.target.value)}\n      />\n      {!!preview && (\n        <EmbedBlock inWriter={true} {...preview} />\n      )}\n      {!!props.files.length && (\n        <FileGrid\n          files={props.files}\n          toggleFile={props.toggleFile}\n          invertFiles={props.invertFiles}\n          inWriter={true}\n        />\n      )}\n      <div class=\"options\">\n        {api?.info?.upload?.image && (\n          <button\n            class=\"option\"\n            onClick={() => props.inputFile(\"image/*\", true)}\n            title={t(\"upload_image\")}\n          >\n            <FaIcon family={\"regular\"} icon={\"images\"} />\n          </button>\n        )}\n        {api?.info?.upload?.video && (\n          <button\n            class=\"option\"\n            onClick={() => props.inputFile(\"video/*\")}\n            title={t(\"upload_video\")}\n          >\n            <FaIcon family={\"solid\"} icon={\"film\"} />\n          </button>\n        )}\n        {api?.info?.upload?.pdf && (\n          <button\n            class=\"option\"\n            onClick={() => props.inputFile(\"application/pdf\")}\n            title={t(\"upload_pdf\")}\n          >\n            <FaIcon family={\"regular\"} icon={\"file-pdf\"} />\n          </button>\n        )}\n        <div class=\"actions\">\n          {!!props.cancel && (\n            <button class=\"cancel\" onClick={e => props.cancel(e)}>\n              {t(\"cancel\")}\n            </button>\n          )}\n          <button\n            disabled={!props.group || props.uploading}\n            type=\"submit\"\n            class=\"submit\"\n            onClick={() => sendMessage(writerForm)}\n          >\n            {t(\"submit\")}\n          </button>\n        </div>\n      </div>\n    </div>\n  );\n}\n","import _BookmarkBoard from \"./bookmark-board.component.js\";\nimport _CreateGroup from \"./create-group.component.js\";\nimport _GroupBoard from \"./group-board.component.js\";\nimport _HumanTime from \"./human-time.component.js\";\nimport _Notification from \"./notification.component.js\";\nimport _RandomMessage from \"./random-message.component.js\";\nimport _Search from \"./search.component.js\";\nimport _Share from \"./share.component.js\";\n\nexport const BookmarkBoard = _BookmarkBoard;\nexport const CreateGroup = _CreateGroup;\nexport const GroupBoard = _GroupBoard;\nexport const HumanTime = _HumanTime;\nexport const Notification = _Notification;\nexport const RandomMessage = _RandomMessage;\nexport const Search = _Search;\nexport const Share = _Share;\n","import { h } from \"preact\";\nimport { MessagePreview } from \"/src/message\";\nimport { Navbar } from \"/src/navbar\";\nimport { useStoreon } from \"storeon/preact\";\n\nexport default function BookmarkBoard() {\n\n  const { bookmarks } = useStoreon(\"bookmarks\");\n  if (!bookmarks) {\n    return null;\n  }\n\n  if (!Array.isArray(bookmarks) || bookmarks.length < 1) {\n    return;\n  }\n\n  return (\n    <main>\n      <Navbar />\n      <div class=\"content\">\n        <article id=\"group\" class=\"justify-content-center d-flex\">\n          <div class=\"message-container container-fluid d-flex justify-content-center flex-wrap\">\n            {bookmarks.map((b, i) => {\n              return (\n                <MessagePreview\n                  tabindex={i + 1}\n                  key={b.message.id}\n                  id={b.message.id}\n                />\n              );\n            })}\n          </div>\n        </article>\n      </div>\n    </main>\n  );\n}\n","import { h } from \"preact\";\nimport { FaIcon } from \"/src/misc\";\nimport { Navbar } from \"/src/navbar\";\nimport { MessageList } from \"/src/message\";\nimport { Link, useParams } from \"react-router-dom\";\n\nexport default function GroupBoard() {\n  let params = useParams();\n  return (\n    <main>\n      <Navbar />\n      <div class=\"content\">\n        <div>\n          <div>\n            <article id=\"group\" class=\"justify-content-center d-flex\">\n              <div class=\"message-container container-fluid d-flex justify-content-center flex-wrap\">\n                <MessageList key={params.id} id={params.id} />\n              </div>\n            </article>\n          </div>\n          <Link\n            class=\"write-button material-shadow seamless-link\"\n            to={`/groups/${params.id}/write`}\n          >\n            <FaIcon family={\"solid\"} icon={\"pencil-alt\"} />\n          </Link>\n        </div>\n      </div>\n    </main>\n  );\n}\n","import { h, Fragment } from \"preact\";\nimport { util } from \"/src/core\";\nimport { useTranslation } from \"react-i18next\";\n\nexport default function HumanTime(props) {\n\n  const { t } = useTranslation();\n\n  // duration relative to event\n  const humanTime = timestamp => {\n    if (!timestamp) {\n      return null;\n    }\n    const duration = Math.abs(Math.round((Date.now() / 1000 - timestamp) / 60));\n    if (duration < 1) {\n      return t(\"just_now\");\n    }\n    if (duration < 60) {\n      return t(\"ago\", { duration: `${duration  }mn` });\n    }\n    if (duration < 60 * 24) {\n      return t(\"ago\", { duration: `${Math.floor(duration / 60)  }h` });\n    }\n    return util.humanFullDate(timestamp).split(\" \")[0];\n  };\n\n  return (\n    <Fragment>{humanTime(props.timestamp)}</Fragment>\n  );\n}\n","import { h, Fragment } from \"preact\";\nimport { http, util, notifications } from \"/src/core\";\nimport { useEffect, useState } from \"preact/hooks\";\nimport { useNavigate, Link } from \"react-router-dom\";\nimport { useTranslation } from \"react-i18next\";\nimport { FaIcon } from \"/src/misc\";\n\nexport default function Notification(props) {\n\n  const navigate = useNavigate();\n  const { t } = useTranslation();\n  const [target, setTarget] = useState(null);\n  const [action, setAction] = useState(null);\n  const [title, setTitle] = useState(null);\n  const [author, setAuthor] = useState(null);\n  const [notification, setNotification] = useState(null);\n\n  const getMiniature = (notification) => {\n    let imgSrc = util.defaultAvatar;\n    if (\n      notification?.miniature\n      && notification.type != \"global_notification\"\n    ) {\n      imgSrc = util.crop(notification?.miniature?.id, 80, 80);\n    }\n    return (\n      <img\n        style={util.backgroundHash(notification?.fromUser?.id)}\n        src={imgSrc}\n        onError={e => setMiniatureOnError(e)}\n      />\n    );\n  };\n\n  const setMiniatureOnError = (event) => {\n    event.currentTarget.src = util.defaultAvatar;\n  };\n\n  const getAction = (notification) => {\n    switch (notification?.type) {\n    case \"new_message\":\n      return t(\"has_posted_in\");\n    case \"new_comment\":\n      return t(\"has_commented_on\");\n    case \"user_joined_group\":\n      return t(\"has_joined\");\n    case \"user_left_group\":\n      return t(\"has_left\");\n    case \"group_name_change\":\n      return t(\"changed_group_name\");\n    default:\n      return \"\";\n    }\n  };\n\n  const getObject = (notification) => {\n    switch (notification?.type) {\n    case \"new_message\":\n      return (\n        <Fragment>\n          <strong>\n            {notification?.fromGroup.name}\n          </strong>\n          {title && (\n            <Fragment>\n              <br />\n              <small><em>{util.limitStrSize(title, 50)}</em></small>\n            </Fragment>\n          )}\n        </Fragment>\n      );\n    case \"new_comment\":\n      return (\n        <span>\n          {`${t(\"the_message_from\")  } `}\n          <strong>{notification?.parentAuthorName}</strong>\n          {title && (\n            <Fragment>\n              <br />\n              <small><em>{util.limitStrSize(title, 50)}</em></small>\n            </Fragment>\n          )}\n        </span>\n      );\n    case \"user_joined_group\":\n    case \"user_left_group\":\n      return (\n        <strong>\n          {notification?.fromGroup.name}\n        </strong>\n      );\n    case \"group_name_change\":\n      return (\n        <span>\n          <strong>{notification.data[\"previousGroupName\"]}</strong>\n          {` ${t(\"to\")} `}\n          <strong>{notification.data[\"newGroupName\"]}</strong>\n        </span>\n      );\n    case \"global_notification\":\n      return notification.data[\"text\"];\n    default:\n      return \"\";\n    }\n  };\n\n  const getTarget = (notification, message_id) => {\n    switch (notification?.type) {\n    case \"user_joined_group\":\n    case \"user_left_group\":\n    case \"group_name_change\":\n      return `/groups/${notification.fromGroup.id}`;\n    case \"new_message\":\n      return `/messages/${notification.target}`;\n    case \"new_comment\":\n      return (\n        `/messages/${message_id}/${notification.target}`\n      );\n    case \"global_notification\":\n      return notification.target;\n    default:\n      return \"\";\n    }\n  };\n\n  const onClick = (event, target) => {\n    event.preventDefault();\n    notifications.markAsRead(props.id).then(() => {\n      navigate(target);\n    });\n  };\n\n  useEffect(() => {\n    http.get(`/api/notifications/${props.id}`, false, 100).then(n => {\n      if (n) {\n        setTarget(getTarget(n, n.fromMessage?.id));\n        setAction(getAction(n));\n        setTitle(n.title);\n        if (n?.fromUser?.id) {\n          http.get(`/api/users/${n.fromUser.id}`).then(u => {\n            setAuthor(u);\n          });\n        }\n        setNotification(n);\n      }\n    });\n  }, []);\n\n  if (!notification) {\n    return null;\n  }\n  return (\n    <Link\n      key={props.id}\n      class={`notification seamless-link unselectable ${!notification.read ? \"unread\" : \"\"}`}\n      to={target}\n      title={title}\n    >\n      <div class=\"miniature unselectable\">{getMiniature(notification)}</div>\n      <div class=\"infos\">\n        <div class=\"description\">\n          {notification.type != \"global_notification\" && (\n            <Fragment>\n              <strong>{author?.name || \"--\"}</strong>\n              <span>{` ${action} `}</span>\n            </Fragment>\n          )}\n          {getObject(notification)}\n        </div>\n        <div class=\"date\">\n          {util.humanTime(notification.createdAt)}\n        </div>\n      </div>\n      <div\n        class=\"options dropdown\"\n        onClick={e => {\n          e.stopPropagation();\n          e.preventDefault();\n          e?.target?.closest(\".dropdown\")?.classList.toggle(\"active\");\n        }}\n      >\n        <div class=\"none-if-follows-empty\">\n          <FaIcon family=\"solid\" icon=\"ellipsis-h\" />\n        </div>\n        <div class=\"dropdown-menu dropdown-options\">\n          <a\n            class=\"seamless-link capitalize\"\n            onClick={() => notifications.removeMatchingNotifications(notification.id)}\n          >\n            {t(\"delete\")}\n          </a>\n        </div>\n      </div>\n    </Link>\n  );\n}\n","import { h } from \"preact\";\nimport { http } from \"/src/core\";\nimport { useParams, Navigate } from \"react-router-dom\";\nimport { useEffect, useState } from \"preact/hooks\";\n\nexport default function RandomMessage() {\n  const params = useParams();\n  const [message, setMessage] = useState(null);\n\n  useEffect(() => {\n    http.get(`/api/groups/${params.id}/random`).then(m => {\n      setMessage(m);\n    });\n  }, []);\n\n  if (message) {\n    return <Navigate to={`/messages/${message.id}`} replace={true} />;\n  }\n}\n","import { h } from \"preact\";\nimport { router } from \"/src/core\";\nimport { FaIcon } from \"/src/misc\";\nimport { useNavigate } from \"react-router-dom\";\nimport { useTranslation } from \"react-i18next\";\n\nexport default function Search() {\n\n  const { t } = useTranslation();\n  const navigate = useNavigate();\n\n  function search(evt) {\n    evt.preventDefault();\n    router.getEntity().then(entity => {\n      let group_id = null;\n      switch (entity.entityType) {\n      case \"group\":\n        group_id = entity.id;\n        break;\n      case \"message\":\n        group_id = entity.group.id;\n        break;\n      default:\n      }\n      // https://stackoverflow.com/a/37511463\n      let searchTerms = document\n        .getElementById(\"search\")\n        .value.normalize(\"NFD\")\n        .replace(/[\\u0300-\\u036f]/g, \"\")\n        .split(\" \");\n      navigate(`/groups/${group_id}/search?q=${searchTerms.join(\"+\")}`);\n      window.dispatchEvent(new CustomEvent(\"groupSearch\"));\n    });\n  }\n\n  return (\n    <form class=\"navbar-block search-block\" onSubmit={e => search(e)}>\n      <div class=\"input-group\">\n        <input\n          class=\"form-control\"\n          type=\"text\"\n          id=\"search\"\n          placeholder={t(\"search_in_group\")}\n          value={router.getParam(\"q\").replace(/\\+/g, \" \")}\n        />\n        <div class=\"input-group-append\">\n          <button\n            class=\"btn btn-secondary\"\n            type=\"submit\"\n          >\n            <FaIcon family={\"solid\"} icon={\"search\"} />\n          </button>\n        </div>\n      </div>\n    </form>\n  );\n}\n","import { h } from \"preact\";\nimport { me as meService, http } from \"/src/core\";\nimport { Writer } from \"/src/writer\";\nimport { Navbar } from \"/src/navbar\";\nimport { useStoreon } from \"storeon/preact\";\nimport { useLocation } from \"react-router-dom\";\nimport { useTranslation } from \"react-i18next\";\nimport { useEffect, useState } from \"preact/hooks\";\n\nexport default function Share() {\n\n  const { t } = useTranslation();\n  const { me } = useStoreon(\"me\");\n  const location = useLocation();\n  const searchParams = new URLSearchParams(location.search);\n\n  const [loaded, setLoaded] = useState(false);\n  const [title, setTitle] = useState(searchParams.get(\"title\") || \"\");\n  const [text, setText] = useState(searchParams.get(\"text\") || \"\");\n  const [url, setUrl] = useState(searchParams.get(\"url\") || \"\");\n  const parent = searchParams.get(\"parent\") || \"\";\n  const [files, setFiles] = useState([]);\n  const [group, setGroup] = useState(\"\");\n\n  useEffect(() => {\n    setTimeout(() => {\n      meService.fetch().then(user => {\n        if (user.data[\"default_group\"]) {\n          setGroup(user.data[\"default_group\"]);\n        } else if (user.groups.length == 1) {\n          setGroup(user.groups[0][\"id\"]);\n        }\n        if(searchParams.get(\"message\")) {\n          http.get(`/api/messages/${searchParams.get(\"message\")}`)\n            .then(m => {\n              if (m?.files?.length) {\n                Promise.all(m.files.map(f => http.get(`/api/files/${f.id}`).then(f => f))).then(\n                  files => {\n                    setFiles(files);\n                    setTitle(m?.data?.title || \"\");\n                    setText(m?.data?.text || \"\");\n                    setUrl(\"\");\n                    setLoaded(true);\n                  }\n                );\n              } else {\n                setTitle(m?.data?.title || \"\");\n                setText(m?.data?.text || \"\");\n                setUrl(\"\");\n                setLoaded(true);\n              }\n            });\n        } else {\n          setLoaded(true);\n        }\n      });\n    }, 100);\n  }, []);\n\n  if (!loaded) {\n    return;\n  }\n\n  return (\n    <main>\n      <Navbar />\n      <div class=\"content\">\n        <article class=\"mt-2\">\n          <div class=\"container\">\n            {!parent && me?.groups?.length > 1 && (\n              <div class=\"mb-1\">\n                <label class=\"px-1\" for=\"group_share_choice\">\n                  {t(\"group_share_choice\")}\n                </label>\n                <select\n                  value={group}\n                  class=\"form-select\"\n                  name=\"group_share_choice\"\n                  onChange={e => setGroup(e.target.value)}\n                  required\n                >\n                  {me?.groups.map(e => (\n                    <option key={e[\"id\"]} value={e[\"id\"]}>{e.name}</option>\n                  ))}\n                </select>\n              </div>\n            )}\n            {!!parent && (\n              <div class=\"form-group\">\n                <label for=\"apiKey\">\n                  {t(\"parent_message\")}:{\" \"}\n                </label>\n                <input\n                  type=\"text\"\n                  name=\"parent_message\"\n                  value={parent}\n                  class=\"form-control font-size-80\"\n                  readonly=\"readonly\"\n                />\n              </div>\n            )}\n            <Writer\n              focus={true}\n              group={group}\n              title={title}\n              parent={parent}\n              text={text || url ? `${text}\\n${url}` : \"\"}\n              files={files}\n            />\n          </div>\n        </article>\n      </div>\n    </main>\n  );\n}\n","import { h, Fragment } from \"preact\";\nimport { util, me, notifications, alert } from \"/src/core\";\nimport { Link } from \"react-router-dom\";\nimport { FaIcon } from \"/src/misc\";\nimport { useTranslation } from \"react-i18next\";\nimport { HumanTime } from \"/src/pages\";\nimport { useStoreon } from \"storeon/preact\";\nimport store from \"/src/store\";\n\nexport default function MessageFooter(props) {\n\n  const { t } = useTranslation();\n  const { bookmarks } = useStoreon(\"bookmarks\");\n\n  return (\n    <div class=\"message-footer\">\n      <div class=\"infos\">\n        {!props?.isPublic && props?.author && props?.author?.id === me.id && (\n          <Fragment>\n            <a\n              class=\"action seamless-link font-size-90 capitalize d-none d-sm-block\"\n              onClick={e => props.editMessage(e)}\n            >\n              {t(\"edit\")}\n            </a>\n            <div class=\"dot d-none d-sm-block\">&bull;</div>\n          </Fragment>\n        )}\n        {!props?.isPublic && props?.isChild && props?.message && (\n          <Fragment>\n            <Link\n              class=\"action seamless-link font-size-90 capitalize\"\n              to={\n                `/messages/${props?.message.id}${props?.message?.children.length ? \"\" : \"?focus=reply\"}`\n              }\n            >\n              {props?.message?.children.length ? (\n                props.message.children.some(e => notifications.isNew(e.id)) ? (\n                  <b>\n                    {t(\"replies\", {\n                      count: props.message.children.length\n                    })}\n                  </b>\n                ) : (\n                  t(\"replies\", {\n                    count: props.message.children.length\n                  })\n                )\n              ) : (\n                t(\"reply\")\n              )}\n            </Link>\n            <div class=\"dot\">&bull;</div>\n          </Fragment>\n        )}\n        <div\n          class=\"date font-size-90\"\n          title={util.humanFullDate(props?.message.createdAt)}\n        >\n          <HumanTime timestamp={props?.message.createdAt} />\n        </div>\n        <Fragment>\n          <div class=\"dot\">&bull;</div>\n          <div class=\"font-size-90\">\n            {\n              props?.author && props?.author?.name ? props.author.name : \"--\"\n            }\n          </div>\n        </Fragment>\n      </div>\n      <div>\n        {!props?.isPublic && (\n          <div\n            class=\"options dropdown\"\n            onClick={e =>\n              e?.target?.closest(\".dropdown\")?.classList.toggle(\"active\")\n            }\n          >\n            <div class=\"none-if-follows-empty\">\n              <FaIcon family=\"solid\" icon=\"ellipsis-h\" />\n            </div>\n            <div class=\"dropdown-menu dropdown-options\">\n              {props?.author && props?.author?.id === me.id && (\n                <a\n                  class=\"seamless-link capitalize\"\n                  onClick={e => props.deleteMessage(e)}\n                >\n                  {t(\"delete\")}\n                </a>\n              )}\n              {\n                <a\n                  class=\"seamless-link capitalize\"\n                  onClick={e => props.openPublicLink(e)}\n                >\n                  {t(\"public_link\")}\n                </a>\n              }\n              {me.groups?.length > 1 && (\n                <a\n                  class=\"seamless-link capitalize\"\n                  onClick={e => props.shareMessage(e)}\n                >\n                  {t(\"share_message\")}\n                </a>\n              )}\n              {!props?.message?.isInFront &&\n                  props?.author &&\n                  props?.author.id == me.id && (\n                <a\n                  class=\"seamless-link capitalize\"\n                  onClick={e => props.publishInGroup(e)}\n                >\n                  {t(\"publish_in_group\")}\n                </a>\n              )}\n              {!bookmarks.some(b => b.message.id === props?.message.id) && (\n                <a\n                  class=\"seamless-link capitalize\"\n                  onClick={() => {\n                    alert.add(t(\"bookmark_added\"));\n                    store.dispatch(\"bookmark/add\", props.message.id);\n                  }}\n                >\n                  {t(\"add_bookmark\")}\n                </a>\n              )}\n              {bookmarks.some(b => b.message.id === props?.message.id) && (\n                <a\n                  class=\"seamless-link capitalize\"\n                  onClick={() => {\n                    alert.add(t(\"bookmark_removed\"));\n                    store.dispatch(\"bookmark/remove\", bookmarks.find(b => b.message.id === props.message.id));\n                  }}\n                >\n                  {t(\"remove_bookmark\")}\n                </a>\n              )}\n              {props?.author?.id == me.id && (\n                <a\n                  class=\"seamless-link capitalize\"\n                  onClick={e => props.editMessage(e)}\n                >\n                  {t(\"edit\")}\n                </a>\n              )}\n            </div>\n          </div>\n        )}\n      </div>\n    </div>\n  );\n}\n","import { h } from \"preact\";\nimport { http, util } from \"/src/core\";\nimport { EmbedBlock, FileGrid } from \"/src/embed\";\nimport { useEffect, useState } from \"preact/hooks\";\n\nexport default function MessageBody(props) {\n\n  const [preview, setPreview] = useState(null);\n\n  const displayMessageText = () => {\n    if (!props.message.data) {\n      return \"\";\n    }\n    // escape html a little (just enough to avoid xss I hope)\n    let txt = props.message.data[\"text\"]\n      .replace(/</g, \"&lt;\")\n      .replace(/>/g, \"&gt;\")\n      .trim();\n    // replace url by real links\n    let shift = 0;\n    let match = null;\n    while ((match = util.getUrl(txt.slice(shift)))) {\n      let url = match[0];\n      if (url.length >= 50) {\n        url = `${url.slice(0, 25)  }...${  url.slice(-24)}`;\n      }\n      let link = `<a href=\"${match[0]}\" target=\"_blank\">${url}</a>`;\n      txt =\n        txt.slice(0, match[\"index\"] + shift) +\n        link +\n        txt.slice(match[\"index\"] + shift + match[0].length);\n      shift += match[\"index\"] + link.length;\n    }\n    // replace line returns\n    txt = txt.replace(/\\n/g, \"<br/>\");\n    return { __html: txt };\n  };\n\n  useEffect(() => {\n    if (!preview && props.message) {\n      if (props.message.data) {\n        let previewUrl = util.getUrl(props.message.data[\"text\"]);\n        if (previewUrl) {\n          http\n            .get(`/api/links/by_url?url=${encodeURIComponent(previewUrl[0])}`)\n            .then(r => setPreview(r));\n        }\n      }\n    }\n  });\n\n  return (\n    <div class=\"message-body\">\n      {props.message.data && props.message.data.title && (\n        <div class=\"title\">\n          <span>{props.message.data.title}</span>\n        </div>\n      )}\n      {props.message.data &&\n        props.message.data.text &&\n        props.message.data.text.trim() && (\n        <p\n          class=\"card-text\"\n          dangerouslySetInnerHTML={displayMessageText()}\n        />\n      )}\n      {preview && (!props.message.data || !props.message.data[\"no_embed\"]) && (\n        <EmbedBlock\n          key={preview.url}\n          url={preview.url}\n          preview={preview.preview}\n          data={preview.data}\n        />\n      )}\n      {props.files && (\n        <FileGrid files={props.files} />\n      )}\n    </div>\n  );\n}\n","import { h, Fragment } from \"preact\";\nimport { http, util } from \"/src/core\";\nimport { Link } from \"react-router-dom\";\nimport { useEffect, useState } from \"preact/hooks\";\n\nexport default function MessageBreadcrumbs(props) {\n\n  const stack = [props.message.id, ...props.message.lineage].reverse();\n  const [breadcrumbs, setBreadcrumbs] = useState([]);\n  const [group, setGroup] = useState(null);\n\n  const getTitle = (message, previewLink) => {\n    if (message) {\n      if (message[\"data\"] && message[\"data\"][\"title\"]) {\n        return message[\"data\"][\"title\"];\n      }\n      if (previewLink && previewLink[\"data\"]) {\n        return previewLink[\"data\"][\"title\"];\n      }\n      if (message[\"data\"] && message[\"data\"][\"text\"]) {\n        let url = util.getUrl(message[\"data\"][\"text\"]);\n        if (url && url.length > 0) {\n          url = url[0];\n        }\n        if (url) {\n          return url;\n        }\n        return message[\"data\"][\"text\"];\n      }\n    }\n    // When all else fails, just say who and when\n    return `${message?.author?.name}, ${util.humanTime(message.createdAt)}`;\n  };\n\n  const loadBreadcrumbs = ids => {\n    let breadcrumbs = [];\n    Promise.all(ids.map(id => http.get(`/api/messages/${id}`))).then((messages) => {\n      Promise.all(messages.map(message => {\n        let previewUrl = util.getUrl(message?.data?.text);\n        if (previewUrl) {\n          return http.get(`/api/links/by_url?url=${encodeURIComponent(previewUrl[0])}`);\n        }\n        return Promise.resolve(null);\n      })).then((links) => {\n        for (let i = 0; i < ids.length; i++) {\n          breadcrumbs[i] = getTitle(messages[i], links[i]);\n        }\n        setBreadcrumbs(breadcrumbs);\n      });\n    });\n  };\n\n  useEffect(() => {\n    loadBreadcrumbs(stack);\n    http.get(`/api/groups/${props.message.group.id}`).then(group => {\n      setGroup(group);\n    });\n  }, []);\n\n  if (stack.length > 0) {\n    const stack_truncated = [stack[0], ...stack.slice(Math.min(3, stack.length) * -1).slice(1)];\n    const breadcrumbs_truncated = [breadcrumbs[0], ...breadcrumbs.slice(Math.min(3, breadcrumbs.length) * -1).slice(1)];\n    return (\n      <div class=\"message-breadcrumbs\">\n        <nav style=\"--bs-breadcrumb-divider: '>';\">\n          <ol class=\"breadcrumb\">\n            {group && (\n              <li class=\"breadcrumb-item\">\n                <Link\n                  key={group.id}\n                  to={`/groups/${group.id}`}\n                  class=\"no-decoration\"\n                >{util.limitLength(group.name || group.id.slice(0, 8), 30)}</Link>\n              </li>\n            )}\n            {stack_truncated.map((e, i) => (\n              <Fragment key={e}>\n                <Fragment>\n                  {i == 1 && stack.length > 3 && (\n                    <li class=\"breadcrumb-item\">...</li>\n                  )}\n                </Fragment>\n                <li class=\"breadcrumb-item\">\n                  <Link\n                    key={e}\n                    to={`/messages/${e}`}\n                    class=\"no-decoration\"\n                  >{util.limitLength(breadcrumbs_truncated[i] || e.slice(0, 8), 30)}</Link>\n                </li>\n              </Fragment>\n            ))}\n          </ol>\n        </nav>\n      </div>\n    );\n  }\n}\n","import { h, Fragment } from \"preact\";\nimport { http, router, util, notifications } from \"/src/core\";\nimport MessageChildren from \"./message-children.component.js\";\nimport MessageHead from \"./message-head.component.js\";\nimport MessageFooter from \"./message-footer.component.js\";\nimport MessageBody from \"./message-body.component.js\";\nimport MessageBreadcrumbs from \"./message-breadcrumbs.component.js\";\nimport { Writer } from \"/src/writer\";\nimport { useEffect, useState, useRef, useReducer } from \"preact/hooks\";\nimport { useNavigate } from \"react-router-dom\";\nimport { useTranslation } from \"react-i18next\";\nimport { useStoreon } from \"storeon/preact\";\n\nexport default function Message(props) {\n\n  const navigate = useNavigate();\n  const { t } = useTranslation();\n  const { me } = useStoreon(\"me\");\n  const [author, setAuthor] = useState(null);\n  const [parent, setParent] = useState(null);\n  const [files, setFiles] = useState(null);\n  const [isRemoved, setIsRemoved] = useState(false);\n  const [edit, setEdit] = useState(false);\n\n  const [message, setMessage] = useState(null);\n  const messageRef = useRef(message);\n  const setMessageRef = message => {\n    messageRef.current = message;\n    setMessage(message);\n  };\n\n  const [, forceUpdate] = useReducer(x => x + 1, 0);\n\n  useEffect(() => {\n    window.addEventListener(\"newChild\", onNewChild);\n    window.addEventListener(\"editMessage\", onEditMessage);\n    loadMessage();\n    notifications.markAsRead(props.id);\n\n    if (!props.isChild) {\n      setTimeout(() => window.scrollTo(0, 0));\n    }\n\n    setTimeout(() => {\n      if (props.id == router.action) {\n        const msgElement = document.getElementById(props.id);\n        if (msgElement) {\n          msgElement.scrollIntoView({ block: \"start\", behavior: \"smooth\" });\n          setTimeout(() => msgElement.classList.remove(\"highlight\"), 1000);\n        }\n      }\n    }, 1000);\n  }, []);\n\n  const hydrateMessage = m => {\n    setMessageRef(m);\n    if (m?.author?.id) {\n      http.get(`/api/users/${m.author.id}`).then(u => {\n        setAuthor(u);\n      });\n    }\n    if (m?.parent?.id) {\n      http.get(`/api/messages/${m.parent.id}`).then(p => {\n        setParent(p);\n      });\n    }\n    // delay loading of files a little bit\n    setTimeout(() => {\n      if (m?.files?.length) {\n        Promise.all(m.files.map(f => http.get(`/api/files/${f.id}`).then(f => f))).then(\n          files => setFiles(files)\n        );\n      }\n    }, 100);\n  };\n\n  const loadMessage = () => {\n    if (props?.message) {\n      if (props?.files?.length) {\n        setFiles(props?.message?.files.map(f => ({id: f.id, status: \"loading\"})));\n      }\n      hydrateMessage(props.message);\n    } else if (props?.token) {\n      http.get(`/api/public/${props.token}`).then(m => {\n        if (m?.files?.length) {\n          setFiles(m?.files.map(f => ({id: f.id, status: \"loading\"})));\n        }\n        hydrateMessage(m);\n      });\n    } else {\n      http.get(`/api/messages/${props.id}`).then(m => {\n        if (m?.files?.length) {\n          setFiles(m?.files.map(f => ({id: f.id, status: \"loading\"})));\n        }\n        hydrateMessage(m);\n      });\n    }\n  };\n\n  const onNewChild = event => {\n    if (!messageRef.current?.id) {\n      return;\n    }\n    const newMsg = event.detail;\n    if (newMsg?.parent && util.getId(newMsg?.parent) == props.id) {\n      newMsg.author = me;\n      let newChildren = messageRef?.current?.children ? [...messageRef.current.children, newMsg] : [newMsg];\n      let newRef = Object.assign(\n        messageRef.current,\n        {\n          children: newChildren\n        },\n      );\n      setMessageRef(newRef);\n      forceUpdate();\n    }\n  };\n\n  const openPublicLink = async event => {\n    event.preventDefault();\n    let newTab = window.open(\"about:blank\", \"_blank\");\n    const res = await http.get(\n      `/api/messages/${props.id}/get-public-link`\n    );\n    newTab.location = `${document.baseURI}public/${res.token}`;\n  };\n\n  const onEditMessage = event => {\n    if (event.detail.id == props.id) {\n      setEdit(false);\n      hydrateMessage(event.detail);\n      props.key = +Date.now();\n    }\n  };\n\n  const getComponentClass = () => {\n    let cn = \"message\";\n    if (props.isChild) {\n      cn += \" child\";\n    }\n    if (props.id == router.action) {\n      cn += \" highlight\";\n    }\n    return cn;\n  };\n\n  const deleteMessage = event => {\n    event.preventDefault();\n    if (confirm(t(\"ask_delete_message\"))) {\n      http.delete(`/api/messages/${props.id}`).then(() => {\n        if (props.isChild) {\n          setIsRemoved(true);\n        } else {\n          navigate(`/groups/${message.group.id}`);\n        }\n      });\n    }\n  };\n\n  const shareMessage = event => {\n    event.preventDefault();\n    navigate(`/share?message=${props.id}`);\n  };\n\n  const editMessage = event => {\n    event.preventDefault();\n    setEdit(true);\n  };\n\n  const publishInGroup = () => {\n    http\n      .put(`/api/messages/${props.id}`, {\n        lastActivityDate: Math.floor(Date.now() / 1000),\n        isInFront: true\n      })\n      .then(res => {\n        if (!res) {\n          alert.add(t(\"error\"), \"alert-danger\");\n          return;\n        }\n        navigate(`/groups/${message.group.id}`);\n      });\n  };\n\n  const cancelEdit = event => {\n    event.preventDefault();\n    setEdit(false);\n  };\n\n  const displayWriter = (isChild, focus) => {\n    return (\n      <Writer\n        cancel={edit ? cancelEdit : null}\n        files={edit ? files : []}\n        focus={focus || !!edit}\n        group={message.group}\n        messageId={edit ? props.id : null}\n        parent={\n          edit ? parent?.id : props.id\n        }\n        text={edit ? message.data[\"text\"] : \"\"}\n        title={edit ? message.data[\"title\"] : \"\"}\n        isChild={isChild}\n      />\n    );\n  };\n\n  if (isRemoved || !message) {\n    // placeholder (to be able to target it)\n    return (\n      <div id={props.id} className=\"message\" />\n    );\n  }\n\n  return (\n    <Fragment>\n      {!props?.isChild && !props?.isPublic && (\n        <MessageBreadcrumbs key={message?.id} message={message} />\n      )}\n      <div id={props.id} className={getComponentClass()}>\n        {edit && displayWriter(props?.isChild)}\n        {!edit && (\n          <Fragment>\n            {props.isChild && !props.isPublic && edit && (\n              <div class=\"message-head d-none d-md-block\">\n                <img\n                  class=\"rounded-circle w-3 material-shadow avatar\"\n                  style={util.backgroundHash(me.id)}\n                  src={\n                    me.avatar\n                      ? util.crop(me.avatar?.id, 100, 100)\n                      : util.defaultAvatar\n                  }\n                />\n              </div>\n            )}\n            <MessageHead\n              author={author}\n              message={message}\n              isPublic={props?.isPublic}\n              isChild={props?.isChild}\n            />\n            <div class=\"main\">\n              <MessageBody\n                message={message}\n                files={files || []}\n                isPublic={props?.isPublic}\n                isChild={props?.isChild}\n              />\n              <MessageFooter\n                author={author}\n                message={message}\n                editMessage={editMessage}\n                deleteMessage={deleteMessage}\n                shareMessage={shareMessage}\n                publishInGroup={publishInGroup}\n                openPublicLink={openPublicLink}\n                isPublic={props?.isPublic}\n                isChild={props?.isChild}\n              />\n            </div>\n          </Fragment>\n        )}\n      </div>\n      {props?.postMessageComponent}\n      {!props?.isChild && !props?.isPublic && (\n        <MessageChildren\n          childMessages={message?.children}\n          key={props.id}\n          id={props.id}\n        />\n      )}\n      {!edit && !props?.isPublic && !props?.isChild && (\n        <div class=\"message child mt-2\">\n          {me?.id && (\n            <div class=\"message-head d-none d-md-block\">\n              <img\n                class=\"rounded-circle w-3 material-shadow avatar\"\n                style={util.backgroundHash(me.id)}\n                src={\n                  me?.avatar\n                    ? util.crop(me.avatar[\"id\"], 100, 100)\n                    : util.defaultAvatar\n                }\n              />\n            </div>\n          )}\n          {displayWriter(true, props.focus)}\n        </div>\n      )}\n    </Fragment>\n  );\n}\n","import _Message from \"./message.component.js\";\nimport _MessageBody from \"./message-body.component.js\";\nimport _MessageBreadcrumbs from \"./message-breadcrumbs.component.js\";\nimport _MessageChild from \"./message-child.component.js\";\nimport _MessageChildren from \"./message-children.component.js\";\nimport _MessageFooter from \"./message-footer.component.js\";\nimport _MessageHead from \"./message-head.component.js\";\nimport _MessageList from \"./message-list.component.js\";\nimport _MessageParent from \"./message-parent.component.js\";\nimport _MessagePreview from \"./message-preview.component.js\";\nimport _MessageSearchResult from \"./message-search-result.component.js\";\n\nexport const Message = _Message;\nexport const MessageBody = _MessageBody;\nexport const MessageBreadcrumbs = _MessageBreadcrumbs;\nexport const MessageChild = _MessageChild;\nexport const MessageChildren = _MessageChildren;\nexport const MessageFooter = _MessageFooter;\nexport const MessageHead = _MessageHead;\nexport const MessageList = _MessageList;\nexport const MessageParent = _MessageParent;\nexport const MessagePreview = _MessagePreview;\nexport const MessageSearchResult = _MessageSearchResult;\n","import { h, Component, Fragment } from \"preact\";\nimport { http } from \"/src/core\";\nimport { MessagePreview } from \"/src/message\";\n\nexport default class MessageList extends Component {\n  constructor(props) {\n    super(props);\n    let loaded = 1 + Math.floor((window.screen.width * window.screen.height) / (320 * 215));\n    this.state = {\n      loaded,\n      messages: [],\n      scrollTop: 0,\n      totalMessages: 0,\n      pageYOffset: 0,\n      page: 0\n    };\n    this.scroll_cooldown = Date.now();\n    this.onScroll = this.onScroll.bind(this);\n    this.loadMessages = this.loadMessages.bind(this);\n    this.onNewParent = this.onNewParent.bind(this);\n    window.addEventListener(\"newParent\", this.onNewParent);\n  }\n\n  onNewParent() {\n    this.loadMessages(0);\n  }\n\n  componentDidMount() {\n    this.loadMessages(0);\n    window.addEventListener(\"scroll\", this.onScroll);\n  }\n\n  componentWillUnmount() {\n    window.removeEventListener(\"scroll\", this.onScroll);\n  }\n\n  loadMessages(page) {\n    http\n      .get(`/api/groups/${this.props.id}`)\n      .then(res => {\n        this.setState({\n          group: res\n        });\n      });\n\n    http\n      .get(`/api/groups/${this.props.id}/page/${page}`)\n      .then(res => {\n        if (res && Array.isArray(res[\"messages\"])) {\n          let new_loaded = Math.max(this.state.loaded, page * 30);\n          let msgList = this.state.messages;\n          // don't add already added messages\n          res[\"messages\"].map(\n            m => !msgList.find(msg => msg.id == m.id) && msgList.push(m)\n          );\n          this.setState({\n            messages: msgList,\n            totalMessages: res[\"totalItems\"],\n            page,\n            loaded: new_loaded\n          });\n          if ((page + 1) * 30 < new_loaded) {\n            setTimeout(() => this.loadMessages(page + 1));\n          }\n        }\n      });\n  }\n\n  onScroll() {\n    // prevent loading messages if we are in a post\n    if (\n      window.getComputedStyle(document.getElementById(\"group\").parentNode)\n        .display == \"none\"\n    ) {\n      return;\n    }\n    // don't load if on cooldown\n    if (this.scroll_cooldown + 100 < Date.now()) {\n      this.scroll_cooldown = Date.now();\n      this.setState({ pageYOffset: window.pageYOffset });\n      // don't load if unecessary\n      if (\n        Array.isArray(this.state.messages) &&\n        document.body.scrollHeight - window.screen.height - 500 <\n          window.pageYOffset &&\n        this.state.loaded < this.state.totalMessages\n      ) {\n        this.setState(prevState => ({ loaded: prevState.loaded + 10 }));\n        if (this.state.loaded + 30 > this.state.messages.length) {\n          this.loadMessages(this.state.page + 1);\n          // update page count right away\n          this.setState(prevState => ({ page: prevState.page + 1 }));\n        }\n      }\n    }\n  }\n\n  render() {\n    if (!this.props.id) {\n      return;\n    }\n    return (\n      <Fragment>\n        {Array.isArray(this.state.messages) && this.state.messages.slice(0, this.state.loaded).map((msg, i) => {\n          return (\n            <MessagePreview\n              tabindex={i + 1}\n              key={msg.id}\n              id={msg.id}\n            />\n          );\n        })}\n      </Fragment>\n    );\n  }\n}\n","import { h } from \"preact\";\nimport { router } from \"/src/core\";\nimport Message from \"./message.component.js\";\nimport { Navbar } from \"/src/navbar\";\nimport { useParams } from \"react-router-dom\";\n\nexport default function MessageParent(props) {\n  let params = useParams();\n  return (\n    <main>\n      <Navbar />\n      <div class=\"content\">\n        <article class=\"mb-3 justify-content-center d-flex\">\n          <div class=\"container pb-3\">\n            <Message\n              focus={!!router.getParam(\"focus\", router.search)}\n              isPublic={false}\n              isChild={false}\n              message={props?.message}\n              id={params.id}\n              key={params.id}\n            />\n          </div>\n        </article>\n      </div>\n    </main>\n  );\n}\n","import { h, Fragment } from \"preact\";\nimport { util, notifications, http } from \"/src/core\";\nimport { FaIcon } from \"/src/misc\";\nimport { Link } from \"react-router-dom\";\nimport { HumanTime } from \"/src/pages\";\nimport { useEffect, useState } from \"preact/hooks\";\n\nexport default function MessagePreview(props) {\n\n  const [author, setAuthor] = useState(null);\n  const [preview, setPreview] = useState(null);\n  const [id, setId] = useState(null);\n  const [data, setData] = useState(null);\n  const [lastActivityDate, setLastActivityDate] = useState(null);\n  const [children, setChildren] = useState(0);\n  const [loaded, setLoaded] = useState(false);\n\n  const getAvatar = user => {\n    return (\n      <img\n        title={user ? user.name : \"--\"}\n        className={`avatar material-shadow${user ? \"\" : \" removed-user\"}`}\n        style={util.backgroundHash(user ? user.id : \"\")}\n        src={\n          user?.avatar\n            ? util.crop(user.avatar[\"id\"], 100, 100)\n            : util.defaultAvatar\n        }\n        onError={e => (e.currentTarget.src = util.defaultAvatar)}\n      />\n    );\n  };\n\n  useEffect(() => {\n    http.get(`/api/messages/${props.id}/preview`).then(p => {\n      if (p?.author?.id) {\n        http.get(`/api/users/${p.author.id}`).then(u => {\n          setAuthor(u);\n        });\n      }\n      console.log(p);\n      setPreview(p?.preview);\n      setId(p?.id);\n      setChildren(p?.children);\n      setLoaded(true);\n      setLastActivityDate(p?.lastActivityDate);\n      setData(p?.data);\n    });\n  }, []);\n\n  if (!props?.id || !data) {\n    return null;\n  }\n  return (\n    <Link\n      to={`/messages/${id}`}\n      class=\"d-inline-block seamless-link message-preview unselectable\"\n      title={data?.title}\n    >\n      <div tabindex={props?.tabindex} class=\"card material-shadow-with-hover\">\n        {getAvatar(author)}\n        <div class=\"card-miniature-loading\">\n          {loaded && (\n            <Fragment>\n              {preview ? (\n                <div\n                  class=\"card-miniature\"\n                >\n                  <img width=\"320\" height=\"180\" src={util.crop(util.getId(preview), 320, 180)} />\n                </div>\n              ) : (\n                <div class=\"text-preview\">{data?.text}</div>\n              )}\n            </Fragment>\n          )}\n        </div>\n        <div class=\"card-body border-top d-flex justify-content-between\">\n          <span class=\"left-buffer\" />\n          <span\n            class=\"title\"\n            title={\n              data?.title || util.humanFullDate(lastActivityDate)\n            }\n          >\n            {data?.title || (<HumanTime timestamp={lastActivityDate} />)}\n          </span>\n          <span class=\"children\">\n            {children > 0 && (\n              <span>\n                {`${children} `}\n                <FaIcon\n                  family={\n                    notifications.isNew(id) ? \"solid\" : \"regular\"\n                  }\n                  icon={\"comment\"}\n                />\n              </span>\n            )}\n          </span>\n        </div>\n      </div>\n    </Link>\n  );\n}\n","import { h } from \"preact\";\nimport { http, util, notifications } from \"/src/core\";\nimport { FaIcon } from \"/src/misc\";\nimport { useEffect, useState } from \"preact/hooks\";\nimport { Link } from \"react-router-dom\";\n\nexport default function MessageSearchResult(props) {\n\n  const [author, setAuthor] = useState(props?.message?.author || null);\n\n  useEffect(() => {\n    if (props?.message?.author) {\n      http.get(`/api/users/${props.message.author}`).then(author => author && setAuthor(author));\n    }\n  }, []);\n\n  const displayAuthorName = () => {\n    if (!author?.name) {\n      return { __html: \"--\" };\n    }\n    let authorName = author.name;\n\n    // make the search terms stand out\n    let words = authorName.split(\" \");\n    for (let j = 0; j < words.length; j++) {\n      if (!words[j].match(util.urlRegExp)) {\n        let searchTerms = props.search.split(\" \");\n        for (let k = 0; k < searchTerms.length; k++) {\n          words[j] = words[j].replace(\n            new RegExp(util.escapeRegex(searchTerms[k]), \"gi\"),\n            \"<b>$&</b>\"\n          );\n        }\n      }\n    }\n    authorName = words.join(\" \");\n    return { __html: authorName };\n  };\n\n  const displayMessageTitle = () => {\n    if (!props?.message?.data?.title) {\n      return { __html: util.humanTime(props?.message?.lastActivityDate) };\n    }\n    // escape html a little (just enough to avoid xss I hope)\n    let title = props?.message?.data?.title.replace(/</g, \"&lt;\").replace(/>/g, \"&gt;\").trim();\n\n    // make the search terms stand out\n    let words = title.split(\" \");\n    let searchTerms = props?.search.split(\" \") || [];\n    for (let j = 0; j < words.length; j++) {\n      if (!words[j].match(util.urlRegExp)) {\n        for (let k = 0; k < searchTerms.length; k++) {\n          words[j] = words[j].replace(new RegExp(util.escapeRegex(searchTerms[k]), \"gi\"), \"<b>$&</b>\");\n        }\n      }\n    }\n    title = words.join(\" \");\n    return { __html: title };\n  };\n\n  const displayMessageText = () => {\n    if (!props?.message?.data?.text) {\n      return \"\";\n    }\n\n    // escape html a little (just enough to avoid xss I hope)\n    let txt = props?.message?.data?.text.replace(/</g, \"&lt;\").replace(/>/g, \"&gt;\").trim();\n\n    // make the search terms stand out for not url words\n    let lines = txt.split(\"\\n\");\n    for (let i = 0; i < lines.length; i++) {\n      let words = lines[i].split(\" \");\n      for (let j = 0; j < words.length; j++) {\n        if (!words[j].match(util.urlRegExp)) {\n          let searchTerms = props.search.split(\" \");\n          for (let k = 0; k < searchTerms.length; k++) {\n            if (!searchTerms[k]) {\n              continue;\n            }\n            words[j] = words[j].replace(\n              new RegExp(util.escapeRegex(searchTerms[k]), \"gi\"),\n              \"<b>$&</b>\"\n            );\n          }\n          let hashtags = props?.hashtags.split(\" \") || [];\n          for (let k = 0; k < hashtags.length; k++) {\n            if (!hashtags[k]) {\n              continue;\n            }\n            words[j] = words[j].replace(\n              new RegExp(`#${  hashtags[k]}`, \"gi\"),\n              \"<b>$&</b>\"\n            );\n          }\n        }\n      }\n      lines[i] = words.join(\" \");\n    }\n    txt = lines.join(\"\\n\");\n\n    // replace url by real links\n    let shift = 0;\n    let match = null;\n    while ((match = util.getUrl(txt.slice(shift)))) {\n      let url = match[0];\n      if (url.length >= 50) {\n        url = `${url.slice(0, 25)  }...${  url.slice(-24)}`;\n      }\n      let searchTerms = props?.search.split(\" \") || [];\n      for (let i = 0; i < searchTerms.length; i++) {\n        url = url.replace(new RegExp(util.escapeRegex(searchTerms[i]), \"gi\"), \"<b>$&</b>\");\n      }\n      let link = `<a href=\"${  match[0]  }\" target=\"_blank\">${  url  }</a>`;\n      txt =\n        txt.slice(0, match[\"index\"] + shift) +\n        link +\n        txt.slice(match[\"index\"] + shift + match[0].length);\n      shift += match[\"index\"] + link.length;\n    }\n\n    // replace line returns\n    txt = txt.replace(/\\n/g, \"<br/>\");\n\n    return { __html: txt };\n  };\n\n  const getMiniature = () => {\n    if (props?.preview) {\n      return (\n        <div\n          class=\"card-miniature\"\n          style={\n            `background-image: url('${util.crop(props?.preview, 100, 100)}')`\n          }\n        />\n      );\n    }\n    let avatar = util.defaultAvatar;\n    if (author?.avatar?.id) {\n      avatar = util.crop(author.avatar[\"id\"], 100, 100);\n    }\n    return (\n      <div\n        class=\"card-miniature\"\n        style={`background-image: url('${avatar}')`}\n      />\n    );\n  };\n\n  const getLink = () => {\n    if (props.message.parent && props.message.children == 0) {\n      return (\n        `/messages/${props.message.parent}/${props.message.id}`\n      );\n    }\n    return `/messages/${props.message.id}`;\n  };\n\n  return (\n    <Link\n      class=\"d-inline-block seamless-link message-preview unselectable\"\n      to={getLink()}\n      title={props?.title}\n    >\n      <div tabindex={props.tabindex} class=\"card material-shadow-with-hover\">\n        <div class=\"card-body border-top\">\n          {getMiniature()}\n          <div class=\"infos\">\n            <div\n              class=\"title\"\n              dangerouslySetInnerHTML={displayAuthorName()}\n            />\n            <div class=\"dot\">&bull;</div>\n            <div\n              class=\"title\"\n              title={props?.title || util.humanFullDate(props.message.lastActivityDate)}\n              dangerouslySetInnerHTML={displayMessageTitle()}\n            />\n          </div>\n          <div class=\"text\">\n            {props?.message?.data?.text.trim() && (\n              <p\n                class=\"card-text\"\n                dangerouslySetInnerHTML={displayMessageText()}\n              />\n            )}\n          </div>\n          <div class=\"children\">\n            {!!props.message.children && (\n              <span>\n                {`${props.message.children} `}\n                <FaIcon\n                  family={\n                    notifications.isNew(props.message.id) ? \"solid\" : \"regular\"\n                  }\n                  icon={\"comment\"}\n                />\n              </span>\n            )}\n          </div>\n        </div>\n      </div>\n    </Link>\n  );\n}\n","import _Login from \"./login.component.js\";\nimport _PasswordReset from \"./password-reset.component.js\";\nimport _Signup from \"./signup.component.js\";\nimport _StopNotificationEmails from \"./stop-notification-emails.component.js\";\nimport _Public from \"./public.component.js\";\n\nexport const Login = _Login;\nexport const PasswordReset = _PasswordReset;\nexport const Signup = _Signup;\nexport const StopNotificationEmails = _StopNotificationEmails;\nexport const Public = _Public;\n","import { h } from \"preact\";\nimport { alert, storage, http, me } from \"/src/core\";\nimport { useTranslation } from \"react-i18next\";\nimport { useEffect, useState } from \"preact/hooks\";\nimport { useNavigate } from \"react-router-dom\";\n\nexport default function Login() {\n\n  const [sending, setSending] = useState(false);\n  const [showResetPassword, setShowResetPassword] = useState(false);\n  const navigate = useNavigate();\n  const { t } = useTranslation();\n\n  useEffect(() => {\n    // reroute if already logged in\n    storage.get(\"apiKey\").then(apiKey => apiKey && navigate(\"/\"));\n    storage.reset();\n  }, []);\n\n  const sendPasswordReset = e => {\n    e.preventDefault();\n    let login = document.getElementById(\"login\").value || \"\";\n    login.toLowerCase();\n    setSending(true);\n    http.post(\"/api/password-reset-mail\", { mail: login }).then(res => {\n      setSending(false);\n      if (res && !res.message) {\n        alert.add(t(\"password_reset_mail_sent\"));\n      } else {\n        alert.add(t(res.message), \"alert-danger\");\n      }\n    });\n  };\n\n  const sendLoginForm = e => {\n    e.preventDefault();\n    setSending(true);\n    let login = document.getElementById(\"login\").value || \"\";\n    login.toLowerCase();\n    const password = document.getElementById(\"password\").value;\n    http.post(\"/api/login\", {login, password}).then(res => {\n      setSending(false);\n      if (res && res.api_key) {\n        storage.set(\"apiKey\", res.api_key).then(() => {\n          me.update().then(user => {\n            let redirect = \"/create-group\";\n            if (user.data?.default_group) {\n              redirect = `/groups/${user?.data[\"default_group\"]}`;\n            } else if (user?.groups[0]) {\n              redirect = `/groups/${user?.groups[0].id}`;\n            }\n            navigate(redirect);\n          });\n        });\n      } else if (res && res.message) {\n        alert.add(t(res.message), \"alert-danger\");\n      } else {\n        alert.add(t(\"error\"), \"alert-danger\");\n      }\n    });\n  };\n\n  return (\n    <div class=\"login\">\n      <div class=\"login-form\">\n        <img src={new URL(\"/src/assets/zusam_logo.svg\", import.meta.url)} />\n        {!showResetPassword && (\n          <form>\n            <div class=\"form-group mb-3\">\n              <input\n                type=\"email\"\n                class=\"form-control\"\n                required\n                id=\"login\"\n                placeholder={t(\"login_placeholder\")}\n              />\n            </div>\n            <div class=\"form-group\">\n              <input\n                type=\"password\"\n                class=\"form-control\"\n                required\n                id=\"password\"\n                placeholder={t(\"password_placeholder\")}\n              />\n            </div>\n            <div class=\"forgot-password\">\n              <span onClick={() => setShowResetPassword(true)}>\n                {t(\"forgot_password\")}\n              </span>\n            </div>\n            <button\n              type=\"submit\"\n              class=\"btn btn-light\"\n              onClick={e => sendLoginForm(e)}\n              disabled={sending}\n            >\n              {t(\"connect\")}\n            </button>\n          </form>\n        )}\n        {!!showResetPassword && (\n          <form>\n            <div class=\"form-group mb-3\">\n              <input\n                type=\"email\"\n                class=\"form-control\"\n                required\n                id=\"login\"\n                placeholder={t(\"login_placeholder\")}\n              />\n            </div>\n            <button\n              type=\"submit\"\n              class=\"btn btn-light\"\n              onClick={e => sendPasswordReset(e)}\n              disabled={sending}\n            >\n              {t(\"submit\")}\n            </button>\n          </form>\n        )}\n      </div>\n    </div>\n  );\n}\n","import { h } from \"preact\";\nimport { alert, storage, http, router } from \"/src/core\";\nimport { useTranslation } from \"react-i18next\";\nimport { useNavigate } from \"react-router-dom\";\n\nexport default function PasswordReset() {\n\n  const { t } = useTranslation();\n  const navigate = useNavigate();\n\n  const sendNewPassword = e => {\n    e.preventDefault();\n    storage.set(\"apiKey\", \"\");\n    const password = document.getElementById(\"password\").value || \"\";\n    const passwordConfirmation = document.getElementById(\"password_confirmation\").value || \"\";\n    const mail = router.getParam(\"mail\");\n    const key = router.getParam(\"key\");\n    if (mail && password) {\n      if (password != passwordConfirmation) {\n        alert.add(t(\"passwords_dont_match\"));\n        return;\n      }\n      http\n        .post(\"/api/new-password\", { mail, key, password })\n        .then(res => {\n          if (res.api_key) {\n            storage.set(\"apiKey\", res.api_key);\n            setTimeout(() => navigate(\"/\"), 100);\n          } else {\n            alert.add(t(res.message));\n          }\n        })\n        .catch(res => console.warn(res));\n    }\n  };\n\n  return (\n    <div class=\"login\">\n      <div class=\"login-form\">\n        <h2 class=\"title\">{t(\"reset_password_title\")}</h2>\n        <form>\n          <div class=\"form-group\">\n            <input\n              type=\"password\"\n              class=\"form-control\"\n              required\n              id=\"password\"\n              placeholder={t(\"new_password_placeholder\")}\n            />\n          </div>\n          <div class=\"form-group\">\n            <input\n              type=\"password\"\n              class=\"form-control\"\n              required\n              id=\"password_confirmation\"\n              placeholder={t(\"confirm_password_placeholder\")}\n            />\n          </div>\n          <button\n            type=\"submit\"\n            class=\"btn btn-light\"\n            onClick={e => sendNewPassword(e)}\n          >\n            {t(\"submit\")}\n          </button>\n        </form>\n      </div>\n    </div>\n  );\n}\n","import { h } from \"preact\";\nimport { alert, storage, http, router } from \"/src/core\";\nimport { useTranslation } from \"react-i18next\";\nimport { useNavigate } from \"react-router-dom\";\n\nexport default function Signup() {\n\n  const navigate = useNavigate();\n  const { t } = useTranslation();\n\n  const sendSignupForm = e => {\n    e.preventDefault();\n    let login = document.getElementById(\"login\").value || \"\";\n    login.toLowerCase();\n    const password = document.getElementById(\"password\").value;\n    storage.set(\"apiKey\", \"\");\n    http\n      .post(\"/api/signup\", {\n        login,\n        password,\n        invite_key: router.getParam(\"inviteKey\")\n      })\n      .then(res => {\n        if (res && !res.message) {\n          storage.set(\"apiKey\", res.api_key);\n          setTimeout(() => navigate(\"/\"), 100);\n        } else {\n          alert.add(t(res.message));\n        }\n      });\n  };\n\n  return (\n    <div class=\"signup\">\n      <div class=\"signup-form\">\n        <img src={new URL(\"/src/assets/zusam_logo.svg\", import.meta.url)} />\n        <div class=\"welcome lead\">{t(\"invitation_welcome\")}</div>\n        <form>\n          <div class=\"form-group\">\n            <input\n              type=\"email\"\n              class=\"form-control\"\n              required\n              id=\"login\"\n              placeholder={t(\"login_placeholder\")}\n            />\n          </div>\n          <div class=\"form-group\">\n            <input\n              type=\"password\"\n              class=\"form-control\"\n              required\n              id=\"password\"\n              placeholder={t(\"password_placeholder\")}\n            />\n          </div>\n          <button\n            type=\"submit\"\n            class=\"btn btn-light\"\n            onClick={e => sendSignupForm(e)}\n          >\n            {t(\"signup\")}\n          </button>\n        </form>\n      </div>\n    </div>\n  );\n}\n","import { h } from \"preact\";\nimport { Message } from \"/src/message\";\nimport { useParams } from \"react-router-dom\";\n\nexport default function Public() {\n  let params = useParams();\n\n  return (\n    <article class=\"justify-content-center d-flex mt-2\">\n      <div class=\"container\">\n        <main>\n          <div class=\"content\">\n            <article class=\"mb-3 justify-content-center d-flex\">\n              <div class=\"container pb-3\">\n                <Message\n                  focus={false}\n                  isPublic={true}\n                  isChild={false}\n                  token={params.token}\n                />\n              </div>\n            </article>\n          </div>\n        </main>\n      </div>\n    </article>\n  );\n}\n","import { h } from \"preact\";\nimport { alert, http, util, router } from \"/src/core\";\nimport { useStoreon } from \"storeon/preact\";\nimport { useEffect, useState } from \"preact/hooks\";\nimport { useTranslation } from \"react-i18next\";\nimport { useNavigate, useParams } from \"react-router-dom\";\n\nexport default function GroupSettings() {\n\n  const params = useParams();\n  const { t } = useTranslation();\n  const { me, dispatch } = useStoreon(\"me\");\n  const navigate = useNavigate();\n  const [secretKey, setSecretKey] = useState(\"\");\n  const [users, setUsers] = useState([]);\n  const [group, setGroup] = useState({});\n  const [alertMessage, setAlertMessage] = useState(\"\");\n\n  useEffect(() => {\n    http.get(`/api/groups/${params.id}`).then(\n      group => {\n        setGroup(group);\n        setSecretKey(group.secretKey);\n        Promise.all(group.users.map(u => http.get(`/api/users/${u.id}`).then(u => u))).then(\n          users => setUsers(users)\n        );\n      }\n    );\n    setAlertMessage(t(router.getParam(\"alert\")));\n  }, []);\n\n  const resetSecretKey = (event) => {\n    event.preventDefault();\n    http\n      .post(`/api/groups/${group.id}/reset-invite-key`, {})\n      .then(res => {\n        alert.add(t(\"group_updated\"));\n        setSecretKey(res[\"inviteKey\"]);\n      });\n  };\n\n  const updateSettings = (event) => {\n    event.preventDefault();\n    const name = document.querySelector(\"#settings_form input[name='name']\").value;\n    if (name) {\n      group.name = name;\n    }\n    setGroup(Object.assign({}, group));\n    http.put(`/api/groups/${group.id}`, group).then(res => {\n      setGroup(res);\n      setAlertMessage(t(\"group_updated\"));\n      navigate(`${location.pathname}?alert=group_updated`);\n    });\n  };\n\n  const leaveGroup = (event) => {\n    event.preventDefault();\n    if (me.data?.default_group == group.id) {\n      let user = {};\n      user.data = { default_group: me.groups[0].id };\n      http.put(`/api/users/${me.id}`, user).then(() => {\n        dispatch(\"me/fetch\");\n        leave();\n      });\n    } else {\n      leave();\n    }\n  };\n\n  const leave = () => {\n    http.post(`/api/groups/${group.id}/leave`, {}).then(res => {\n      if (!res || !res[\"entityType\"]) {\n        alert.add(t(\"error\"), \"alert-danger\");\n      } else {\n        dispatch(\"me/fetch\");\n        alert.add(t(\"group_left\"));\n        navigate(\"/\");\n      }\n    });\n  };\n\n  return (\n    <div>\n      <div class=\"group-settings mb-3\">\n        <div class=\"card\">\n          <div class=\"card-body\">\n            <div class=\"container-fluid p-1\">\n              <div class=\"row\">\n                <div class=\"col-12 col-md-10\">\n                  <form id=\"settings_form\" class=\"mb-1 border-bottom pb-1\">\n                    <div class=\"form-group\">\n                      <label for=\"name\">{t(\"name\")}: </label>\n                      <input\n                        type=\"text\"\n                        name=\"name\"\n                        minlength=\"1\"\n                        maxlength=\"128\"\n                        placeholder={t(\"name_input\")}\n                        value={group.name}\n                        class=\"form-control\"\n                        required\n                      />\n                    </div>\n                    <button\n                      onClick={updateSettings}\n                      class=\"btn btn-outline-secondary\"\n                    >\n                      {t(\"save_changes\")}\n                    </button>\n                  </form>\n                  <form class=\"mb-1 border-bottom pb-1\">\n                    <div class=\"form-group\">\n                      <label for=\"inviteKey\">\n                        {t(\"invitation_link\")}:{\" \"}\n                      </label>\n                      <input\n                        type=\"text\"\n                        name=\"inviteKey\"\n                        value={\n                          `${window.location.protocol}//${window.location.host}/invitation/${secretKey}`\n                        }\n                        class=\"form-control font-size-80\"\n                        readonly=\"readonly\"\n                      />\n                    </div>\n                    <button\n                      class=\"btn btn-outline-secondary\"\n                      onClick={resetSecretKey}\n                    >\n                      {t(\"reset_invitation_link\")}\n                    </button>\n                  </form>\n                  <form>\n                    <button\n                      onClick={e => leaveGroup(e)}\n                      class=\"btn btn-outline-danger\"\n                    >\n                      {t(\"quit_group\")}\n                    </button>\n                  </form>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n      <div class=\"user-list mb-3\">\n        <h3>{t(\"users\")}</h3>\n        {users.map(\n          user =>\n            user && (\n              <div class=\"user-card\">\n                <img\n                  class=\"avatar material-shadow-with-hover\"\n                  style={util.backgroundHash(user.id)}\n                  src={\n                    user.avatar\n                      ? util.crop(user.avatar[\"id\"], 200, 200)\n                      : util.defaultAvatar\n                  }\n                  onError={e => (e.currentTarget.src = util.defaultAvatar)}\n                />\n                <span>{user[\"name\"]}</span>\n              </div>\n            )\n        )}\n      </div>\n      {alertMessage && (\n        <div class=\"global-alert alert alert-success\">{alertMessage}</div>\n      )}\n    </div>\n  );\n}\n","import { h } from \"preact\";\nimport { lang, router, alert, http, util, storage } from \"/src/core\";\nimport { useStoreon } from \"storeon/preact\";\nimport { useEffect, useState } from \"preact/hooks\";\nimport { useTranslation } from \"react-i18next\";\nimport { useNavigate, useLocation } from \"react-router-dom\";\n\nexport default function UserSettings() {\n\n  const { t } = useTranslation();\n  const { me } = useStoreon(\"me\");\n  const navigate = useNavigate();\n  const location = useLocation();\n  const [apiKey, setApiKey] = useState(null);\n  const [alertMessage, setAlertMessage] = useState(\"\");\n\n  useEffect(() => {\n    storage.get(\"apiKey\").then(apiKey => setApiKey(apiKey));\n    setAlertMessage(t(router.getParam(\"alert\")));\n  }, []);\n\n  const resetApiKey = (event) => {\n    event.preventDefault();\n    http.post(`/api/users/${me.id}/reset-api-key`, {}).then(() => router.logout());\n  };\n\n  const inputAvatar = () => {\n    const input = document.createElement(\"input\");\n    input.type = \"file\";\n    input.accept = \"image/*\";\n    input.addEventListener(\"change\", event => {\n      const formData = new FormData();\n      formData.append(\"file\", event.target.files[0]);\n      http.sendFile(\n        formData,\n        file => {\n          http.put(`/api/users/${me.id}`, { avatar: file[\"id\"] }).then(() => {\n            setAlertMessage(t(\"settings_updated\"));\n            navigate(`${location.pathname}?alert=settings_updated`);\n          });\n        }\n      );\n    });\n    input.click();\n  };\n\n  const destroyAccount = (event) => {\n    event.preventDefault();\n    let confirmDeletion = confirm(t(\"are_you_sure\"));\n    if (confirmDeletion) {\n      http.delete(`/api/users/${me.id}`).then(() => {\n        navigate(\"/logout\");\n      });\n    }\n  };\n\n  const updateSettings = (event) => {\n    event.preventDefault();\n    const name = document.querySelector(\"#settings_form input[name='name']\")\n      .value;\n    const login = document.querySelector(\"#settings_form input[name='email']\")\n      .value;\n    const password = document.querySelector(\n      \"#settings_form input[name='password']\"\n    ).value;\n    const notification_emails = document.querySelector(\n      \"#settings_form select[name='notification_emails']\"\n    ).value;\n    const default_group = document.querySelector(\n      \"#settings_form select[name='default_group']\"\n    ).value;\n    const lang = document.querySelector(\"#settings_form select[name='lang']\")\n      .value;\n    let user = {};\n    if (name) {\n      user.name = name;\n    }\n    if (login) {\n      user.login = login;\n    }\n    if (password) {\n      user.password = password;\n    }\n    user[\"data\"] = {\n      notification_emails,\n      default_group,\n      lang\n    };\n    http.put(`/api/users/${me.id}`, user).then(res => {\n      if (res[\"error\"]) {\n        alert.add(res[\"error\"], \"alert-danger\");\n      } else {\n        setAlertMessage(t(\"settings_updated\"));\n        navigate(`${location.pathname}?alert=settings_updated`);\n      }\n    });\n  };\n\n  if (me && me?.data) {\n    return (\n      <div class=\"user-settings\">\n        <div class=\"card\">\n          <div class=\"identite card-body\">\n            <div class=\"container-fluid p-1\">\n              <div class=\"row\">\n                <div class=\"col-12 col-md-2\">\n                  <img\n                    class=\"img-fluid rounded-circle material-shadow avatar\"\n                    src={\n                      me.avatar\n                        ? util.crop(me.avatar[\"id\"], 100, 100)\n                        : util.defaultAvatar\n                    }\n                    style={util.backgroundHash(me.id || \"\")}\n                    onError={e => (e.currentTarget.src = util.defaultAvatar)}\n                    onClick={e => inputAvatar(e)}\n                  />\n                </div>\n                <div class=\"col-12 col-md-10\">\n                  <form id=\"settings_form\" class=\"mb-3\">\n                    <div class=\"form-group\">\n                      <label for=\"name\">{t(\"name\")}: </label>\n                      <input\n                        type=\"text\"\n                        name=\"name\"\n                        minlength=\"1\"\n                        maxlength=\"128\"\n                        placeholder={t(\"name_input\")}\n                        value={me.name}\n                        class=\"form-control\"\n                      />\n                    </div>\n                    <div class=\"form-group\">\n                      <label for=\"email\">{t(\"email\")}: </label>\n                      <input\n                        type=\"email\"\n                        name=\"email\"\n                        placeholder={t(\"email_input\")}\n                        value={me.login}\n                        class=\"form-control\"\n                      />\n                    </div>\n                    <div class=\"form-group\">\n                      <label for=\"password\">{t(\"password\")}: </label>\n                      <input\n                        type=\"password\"\n                        name=\"password\"\n                        autocomplete=\"off\"\n                        minlength=\"8\"\n                        maxlength=\"128\"\n                        placeholder={t(\"password_input\")}\n                        class=\"form-control\"\n                      />\n                    </div>\n                    <div class=\"form-group\">\n                      <label for=\"notification_emails\">\n                        {t(\"notification_emails\")}:\n                      </label>\n                      <select\n                        name=\"notification_emails\"\n                        class=\"form-control\"\n                        value={me?.data[\"notification_emails\"]}\n                      >\n                        <option value=\"none\">{t(\"none\")}</option>\n                        <option value=\"hourly\">{t(\"hourly\")}</option>\n                        <option value=\"daily\">{t(\"daily\")}</option>\n                        <option value=\"weekly\">{t(\"weekly\")}</option>\n                        <option value=\"monthly\">{t(\"monthly\")}</option>\n                      </select>\n                    </div>\n                    <div class=\"form-group\">\n                      <label for=\"default_group\">\n                        {t(\"default_group\")}:\n                      </label>\n                      <select\n                        name=\"default_group\"\n                        class=\"form-control\"\n                        value={me?.data[\"default_group\"]}\n                      >\n                        {me.groups?.map(e => (\n                          <option key={e.id} value={e.id}>{e.name}</option>\n                        ))}\n                      </select>\n                    </div>\n                    <div class=\"form-group\">\n                      <label class=\"capitalize\" for=\"lang\">\n                        {t(\"lang\")}:\n                      </label>\n                      <select\n                        name=\"lang\"\n                        class=\"form-control\"\n                        value={lang.getCurrentLang()}\n                      >\n                        {Object.keys(lang.possibleLang).map(k => (\n                          <option key={k} value={k}>{lang.possibleLang[k]}</option>\n                        ))}\n                      </select>\n                    </div>\n                    <button\n                      onClick={e => updateSettings(e)}\n                      class=\"btn btn-primary\"\n                    >\n                      {t(\"save_changes\")}\n                    </button>\n                  </form>\n                  <form id=\"api_key_form\">\n                    <div class=\"form-group\">\n                      <label for=\"apiKey\">\n                        {t(\"api_key\")}:{\" \"}\n                      </label>\n                      <input\n                        type=\"text\"\n                        name=\"apiKey\"\n                        value={apiKey}\n                        class=\"form-control font-size-80\"\n                        readonly=\"readonly\"\n                      />\n                    </div>\n                    <button\n                      class=\"btn btn-outline-secondary\"\n                      onClick={resetApiKey}\n                    >\n                      {t(\"reset_api_key\")}\n                    </button>\n                  </form>\n                  <form id=\"destroy_form\">\n                    <label class=\"d-block\" for=\"destroy_account\">\n                      {t(\"destroy_account_explain\")}\n                    </label>\n                    <button\n                      onClick={e => destroyAccount(e)}\n                      name=\"destroy_account\"\n                      class=\"btn btn-danger\"\n                    >\n                      {t(\"destroy_account\")}\n                    </button>\n                  </form>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n        {alertMessage && (\n          <div class=\"global-alert alert alert-success\">{alertMessage}</div>\n        )}\n      </div>\n    );\n  }\n}\n","import _GroupSettings from \"./group-settings.component.js\";\nimport _Settings from \"./settings.component.js\";\nimport _UserSettings from \"./user-settings.component.js\";\n\nexport const GroupSettings = _GroupSettings;\nexport const Settings = _Settings;\nexport const UserSettings = _UserSettings;\n","import { h } from \"preact\";\nimport UserSettings from \"./user-settings.component.js\";\nimport GroupSettings from \"./group-settings.component.js\";\nimport { Navbar } from \"/src/navbar\";\nimport { Link, useParams } from \"react-router-dom\";\nimport { useStoreon } from \"storeon/preact\";\nimport { useTranslation } from \"react-i18next\";\n\nexport default function Settings() {\n\n  const params = useParams();\n  const { t } = useTranslation();\n  const { me } = useStoreon(\"me\");\n\n  return (\n    <main>\n      <Navbar />\n      <div class=\"content\">\n        <article class=\"mt-2 justify-content-center d-flex\">\n          <div class=\"container pb-3\">\n            <div class=\"settings\">\n              <ul class=\"nav nav-tabs\">\n                <li class=\"nav-item\">\n                  <Link\n                    class={`nav-link${params.type == \"users\" ? \" active\" : \"\"}`}\n                    to={`/users/${me.id}/settings`}\n                  >\n                    {t(\"account\")}\n                  </Link>\n                </li>\n                {me.groups?.length > 0 && (\n                  <li\n                    class=\"nav-item dropdown group-list\"\n                    tabindex=\"-1\"\n                    onClick={e => e.currentTarget.classList.toggle(\"active\")}\n                  >\n                    <div\n                      class={`nav-link${params.type == \"groups\" ? \" active\" : \"\"}`}\n                    >\n                      {t(\"groups\")}\n                    </div>\n                    <div class=\"dropdown-menu\">\n                      {me.groups?.map(e => (\n                        <Link\n                          key={`/groups/${e.id}/settings`}\n                          class=\"seamless-link\"\n                          to={`/groups/${e.id}/settings`}\n                        >\n                          {e.name}\n                        </Link>\n                      ))}\n                    </div>\n                  </li>\n                )}\n              </ul>\n              {params.type === \"users\" && (\n                <UserSettings id={params.id} key={params.id} />\n              )}\n              {params.type === \"groups\" && (\n                <GroupSettings id={params.id} key={params.id} />\n              )}\n            </div>\n          </div>\n        </article>\n      </div>\n    </main>\n  );\n}\n","import { h } from \"preact\";\nimport { http, api, me, notifications, bookmarks_utils, router } from \"/src/core\";\nimport {\n  Login,\n  Public,\n  PasswordReset,\n  Signup,\n  StopNotificationEmails\n} from \"/src/outside\";\nimport { MessageParent } from \"/src/message\";\nimport { GroupWriter } from \"/src/writer\";\nimport { CreateGroup, GroupBoard, Share, BookmarkBoard, RandomMessage } from \"/src/pages\";\nimport { Settings } from \"/src/settings\";\nimport { GroupSearchWrapper } from \"/src/navbar\";\nimport {\n  Navigate,\n  Routes,\n  Route,\n  useNavigate,\n  useLocation,\n} from \"react-router-dom\";\nimport { useEffect } from \"preact/hooks\";\n\nfunction App() {\n\n  const navigate = useNavigate();\n  const location = useLocation();\n\n  const toggleDropdowns = e => {\n    if (!e.target.closest(\".dropdown\")) {\n      // close dropdowns if we are clicking on something else\n      document.querySelectorAll(\".dropdown\").forEach(n => n.classList.remove(\"active\"));\n    } else {\n      // close dropdowns that are not clicked on\n      document\n        .querySelectorAll(\".dropdown\")\n        .forEach(n => {\n          if(n != e.target.closest(\".dropdown\")) {\n            n.classList.remove(\"active\");\n          }\n        });\n    }\n  };\n\n  // initial load\n  useEffect(() => {\n    api.update();\n    notifications.update();\n    bookmarks_utils.update();\n\n    // manage dropdowns\n    window.addEventListener(\"click\", e => toggleDropdowns(e));\n    return () => {\n      window.removeEventListener(\"click\", e => toggleDropdowns(e));\n    };\n  });\n\n  me.fetch().then(user => {\n    if (location.pathname == \"/\") {\n      let redirect = \"/login\";\n      if (user) {\n        redirect = \"/create-group\";\n        if (user.data?.default_group) {\n          redirect = `/groups/${user?.data[\"default_group\"]}`;\n        } else if (user?.groups[0]) {\n          redirect = `/groups/${user?.groups[0].id}`;\n        }\n      }\n      navigate(redirect);\n    }\n\n    if (location.pathname.match(/^\\/invitation/)) {\n      if (user) {\n        http.post(`/api/groups/invitation/${router.id}`, {}).then(() => {\n          navigate(\"/\");\n        });\n      } else {\n        navigate(`/signup?inviteKey=${router.id}`);\n      }\n    }\n\n    if (!router.isOutside() && !user) {\n      navigate(\"/login\");\n    }\n  });\n\n  return (\n    <Routes>\n      <Route path=\"/password-reset\" element={<PasswordReset />} />\n      <Route path=\"/public/:token\" element={<Public />} />\n      <Route path=\"/share\" element={<Share />} />\n      <Route path=\"/signup\" element={<Signup />} />\n      <Route path=\"/stop-notification-emails\" element={<StopNotificationEmails />} />\n      <Route path=\"/login\" element={<Login />} />\n      <Route path=\"/logout\" element={<Navigate replace to=\"/login\" />} />\n      <Route path=\"/:type/:id/settings\" element={<Settings />} />\n      <Route path=\"/bookmarks\" element={<BookmarkBoard />} />\n      <Route path=\"/create-group\" element={<CreateGroup />} />\n      <Route path=\"/groups/:id\" element={<GroupBoard />} />\n      <Route path=\"/groups/:id/random\" element={<RandomMessage />} />\n      <Route path=\"/groups/:id/search\" element={<GroupSearchWrapper />} />\n      <Route path=\"/groups/:id/write\" element={<GroupWriter />} />\n      <Route path=\"/messages/:id\" element={<MessageParent />} />\n      <Route path=\"/messages/:id/:child_id\" element={<MessageParent />} />\n    </Routes>\n  );\n}\n\nexport default App;\n","import { h, render } from \"preact\";\nimport App from \"./app.js\";\nimport {\n  BrowserRouter as Router,\n} from \"react-router-dom\";\nimport { StoreContext } from \"storeon/preact\";\nimport store from \"/src/store\";\n\nfunction Index() {\n  return (\n    <Router>\n      <MainRouter />\n    </Router>\n  );\n}\n\nfunction MainRouter() {\n  return (\n    <StoreContext.Provider value={store}>\n      <App />\n    </StoreContext.Provider>\n  );\n}\n\nrender(<Index />, document.body);\n"],"names":["$8bfebded0011ab7d$export$6503ec6e8aabbaf","$8bfebded0011ab7d$export$f7ad0328861e2f03","$8bfebded0011ab7d$var$mapping","pairs","keys","Object","i","length","id","resolved","Error","parcelRequire","register","JSON","parse","slice","options","vnodeId","rerenderQueue","prevDebounce","defer","depthSort","EMPTY_OBJ","EMPTY_ARR","IS_NON_DIMENSIONAL","assign","obj","props","removeNode","node","parentNode","removeChild","createElement","type","children","key","ref","normalizedProps","arguments","call","defaultProps","createVNode","original","vnode","__k","__","__b","__e","__d","__c","__h","constructor","__v","createRef","current","Fragment","Component","context","this","getDomSibling","childIndex","indexOf","sibling","updateParentDomPointers","child","base","enqueueRender","c","push","process","__r","debounceRendering","renderQueueLength","component","commitQueue","oldVNode","oldDom","parentDom","sort","shift","__P","diff","__n","ownerSVGElement","commitRoot","diffChildren","renderResult","newParentVNode","oldParentVNode","globalContext","isSvg","excessDomChildren","isHydrating","j","childVNode","newDom","firstChildDom","refs","oldChildren","oldChildrenLength","Array","isArray","reorderChildren","placeChild","getLastDom","nextSibling","unmount","applyRef","tmp","toChildArray","out","some","nextDom","sibDom","outer","appendChild","insertBefore","lastDom","setStyle","style","value","setProperty","test","dom","name","oldValue","useCapture","o","cssText","replace","toLowerCase","l","addEventListener","eventProxyCapture","eventProxy","removeEventListener","e","removeAttribute","setAttribute","event","newVNode","isNew","oldProps","oldState","snapshot","clearProcessingException","newProps","provider","componentContext","renderHook","count","newType","contextType","__E","prototype","render","doRender","sub","state","_sb","__s","getDerivedStateFromProps","componentWillMount","componentDidMount","componentWillReceiveProps","shouldComponentUpdate","forEach","componentWillUpdate","componentDidUpdate","getChildContext","getSnapshotBeforeUpdate","oldHtml","newHtml","nodeType","localName","document","createTextNode","createElementNS","is","data","childNodes","dangerouslySetInnerHTML","attributes","__html","innerHTML","diffProps","hydrate","checked","diffElementNodes","diffed","root","cb","parentVNode","skipRemove","r","componentWillUnmount","replaceNode","firstChild","cloneElement","createContext","defaultValue","contextId","Consumer","contextValue","Provider","subs","ctx","_props","old","splice","error","errorInfo","ctor","handled","getDerivedStateFromError","setState","componentDidCatch","update","callback","s","forceUpdate","Promise","then","bind","resolve","setTimeout","a","b","alert","remove","getElementById","outerHTML","add","text","alertStyle","countdown","alertNode","hash","classList","body","str","charCodeAt","$7e84e1a08353bb30$export$2e2bcd8739ae039","storage","usage","k","total","localStorage","hasOwnProperty","createStorageBox","metadata","createdAt","Date","now","removeItem","set","setItem","stringify","get","getItem","reset","clear","window","dispatchEvent","CustomEvent","$a43f12068c4c782d$export$2e2bcd8739ae039","$b7ae12cde431bd4b$export$2e2bcd8739ae039","modules","events","store","dispatch","changes","includes","on","filter","createStoreon","api","me","route","action","backUrl","entityType","search","entity","_","newState","notifications","notification","n","map","read","bookmarks","bookmark","http","delete","message_id","post","$d4110a1d7481b094$export$2e2bcd8739ae039","Symbol","iterator","$b2a6fe0f4f9c89ca$export$2e2bcd8739ae039","instance","Constructor","TypeError","$1bba3040d6270d7a$export$2e2bcd8739ae039","input","hint","prim","toPrimitive","undefined","res","String","Number","$f588c9a6ffdc7632$export$2e2bcd8739ae039","arg","$69360f21e368d1e4$var$_defineProperties","target","descriptor","enumerable","configurable","writable","defineProperty","$69360f21e368d1e4$export$2e2bcd8739ae039","protoProps","staticProps","$7b25196cacc198b0$export$2e2bcd8739ae039","self","ReferenceError","$4e74da8401c76214$export$2e2bcd8739ae039","p","setPrototypeOf","__proto__","$15bbb65a3fcb3f83$export$2e2bcd8739ae039","subClass","superClass","create","$10307927c882a208$export$2e2bcd8739ae039","$9902ed729c7b9bdb$export$2e2bcd8739ae039","getPrototypeOf","$94e2474df811d5b3$export$2e2bcd8739ae039","$17148112845185f8$export$2e2bcd8739ae039","arr","$5c52cccb4a33f6de$export$2e2bcd8739ae039","iter","from","$5ea11774479c0e07$export$2e2bcd8739ae039","len","arr2","$f13a0005733939a9$export$2e2bcd8739ae039","minLen","toString","$5d837501e4b6d22f$export$2e2bcd8739ae039","$52cadf4d2e680428$export$2e2bcd8739ae039","$cb95bcae1947788f$var$ownKeys","object","enumerableOnly","getOwnPropertySymbols","symbols","sym","getOwnPropertyDescriptor","apply","$cb95bcae1947788f$var$_objectSpread","source","getOwnPropertyDescriptors","defineProperties","$cb95bcae1947788f$var$consoleLogger","log","args","output","warn","console","$cb95bcae1947788f$var$baseLogger","Logger","concreteLogger","init","prefix","logger","debug","bool","_len","_key","forward","_len2","_key2","_len3","_key3","_len4","_key4","lvl","debugOnly","concat","moduleName","$cb95bcae1947788f$var$EventEmitter","EventEmitter","observers","listener","_this","split","observer","$cb95bcae1947788f$var$defer","rej","promise","reject","$cb95bcae1947788f$var$makeString","$cb95bcae1947788f$var$getLastOfPath","path","Empty","cleanKey","canNotTraverseDeeper","stack","$cb95bcae1947788f$var$setPath","newValue","_getLastOfPath","$cb95bcae1947788f$var$getPath","_getLastOfPath3","$cb95bcae1947788f$var$getPathWithDefaults","defaultData","$cb95bcae1947788f$var$deepExtend","overwrite","prop","$cb95bcae1947788f$var$regexEscape","$cb95bcae1947788f$var$_entityMap","$cb95bcae1947788f$var$escape","$cb95bcae1947788f$var$isIE10","navigator","userAgentData","userAgent","$cb95bcae1947788f$var$chars","$cb95bcae1947788f$var$ownKeys$1","$cb95bcae1947788f$var$_objectSpread$1","$cb95bcae1947788f$var$_createSuper","Derived","hasNativeReflectConstruct","Reflect","construct","sham","Proxy","Boolean","valueOf","$cb95bcae1947788f$var$_isNativeReflectConstruct","result","Super","NewTarget","$cb95bcae1947788f$var$deepFind","keySeparator","paths","join","mix","endsWith","joinedPath","$cb95bcae1947788f$var$ResourceStore","_EventEmitter","ResourceStore","_super","ns","defaultNS","ignoreJSONStructure","index","lng","silent","addNamespaces","emit","resources","m","addResource","deep","pack","hasResourceBundle","removeNamespaces","getResource","compatibilityAPI","getDataByLanguage","find","v","$cb95bcae1947788f$var$postProcessor","processors","addPostProcessor","module","handle","translator","processor","$cb95bcae1947788f$var$ownKeys$2","$cb95bcae1947788f$var$_objectSpread$2","$cb95bcae1947788f$var$_createSuper$1","$cb95bcae1947788f$var$_isNativeReflectConstruct$1","$cb95bcae1947788f$var$checkedLoadedFor","$cb95bcae1947788f$var$Translator","Translator","services","t","language","interpolation","nsSeparator","namespaces","wouldCheckForNsInKey","seemsNaturalLanguage","userDefinedKeySeparator","userDefinedNsSeparator","possibleChars","RegExp","matched","ki","substring","$cb95bcae1947788f$var$looksLikeObjectPath","match","interpolator","nestingRegexp","parts","lastKey","_this2","overloadTranslationOptionHandler","returnDetails","_this$extractFromKey","extractFromKey","namespace","appendNamespaceToCIMode","resUsedKey","usedKey","resExactUsedKey","exactUsedKey","resType","joinArrays","handleAsObjectInI18nFormat","i18nFormat","handleAsObject","returnObjects","returnedObjectHandler","resTypeIsArray","copy","newKeyToUse","deepKey","translate","extendTranslation","usedDefault","needsPluralHandling","hasDefaultValue","defaultValueSuffix","pluralResolver","getSuffix","isValidLookup","resForMissing","missingKeyNoValueFallbackToKey","updateMissing","fk","lngs","fallbackLngs","languageUtils","getFallbackCodes","fallbackLng","saveMissingTo","toResolveHierarchy","send","specificDefaultValue","defaultForMissing","missingKeyHandler","backendConnector","saveMissing","saveMissingPlurals","getSuffixes","suffix","appendNamespaceToMissingKey","parseMissingKeyHandler","_this3","defaultVariables","usedLng","usedNS","skipInterpolation","nestBef","skipOnVariables","nb","interpolate","na","nest","postProcess","postProcessorNames","applyPostProcessor","postProcessPassResolved","i18nResolved","found","_this4","extracted","fallbackNS","needsZeroSuffixLookup","ordinal","shouldUseIntlApi","needsContextHandling","codes","utils","hasLoadedNamespace","code","possibleKey","finalKeys","addLookupKeys","pluralSuffix","zeroSuffix","pluralSeparator","contextKey","contextSeparator","pop","returnNull","returnEmptyString","resourceStore","option","$cb95bcae1947788f$var$capitalize","string","charAt","toUpperCase","$cb95bcae1947788f$var$LanguageUtil","LanguageUtil","supportedLngs","formatLanguageCode","specialCases","lowerCaseLng","part","cleanCode","load","nonExplicitSupportedLngs","getLanguagePartFromCode","cleanedLng","isSupportedCode","lngOnly","supportedLng","fallbacks","getScriptPartFromCode","fallbackCode","fallbackCodes","addCode","fc","$cb95bcae1947788f$var$sets","nr","$cb95bcae1947788f$var$_rulesPluralsTypes","$cb95bcae1947788f$var$deprecatedJsonVersions","$cb95bcae1947788f$var$suffixesOrder","zero","one","two","few","many","other","$cb95bcae1947788f$var$PluralResolver","PluralResolver","rules","compatibilityJSON","Intl","PluralRules","numbers","plurals","_unused","rule","getRule","resolvedOptions","pluralCategories","pluralCategory1","pluralCategory2","pluralCategory","prepend","number","select","getSuffixRetroCompatible","idx","noAbs","Math","abs","simplifyPluralSuffix","returnSuffix","$cb95bcae1947788f$var$ownKeys$3","$cb95bcae1947788f$var$_objectSpread$3","$cb95bcae1947788f$var$Interpolator","Interpolator","format","escapeValue","iOpts","escape","useRawValueToEscape","prefixEscaped","suffixEscaped","formatSeparator","unescapePrefix","unescapeSuffix","nestingPrefix","nestingPrefixEscaped","nestingSuffix","nestingSuffixEscaped","nestingOptionsSeparator","maxReplaces","alwaysFormat","resetRegExp","regexpStr","regexp","regexpUnescapeStr","regexpUnescape","nestingRegexpStr","replaces","regexSafe","val","handleFormat","interpolationkey","trim","f","missingInterpolationHandler","regex","safeValue","todo","exec","matchedVar","temp","lastIndex","clonedOptions","handleHasOptions","inheritedOptions","sep","optionsString","matchedSingleQuotes","matchedDoubleQuotes","formatters","doReduce","elem","reduce","$cb95bcae1947788f$var$ownKeys$4","$cb95bcae1947788f$var$_objectSpread$4","$cb95bcae1947788f$var$createCachedFormatter","fn","cache","formatter","$cb95bcae1947788f$var$Formatter","Formatter","formats","NumberFormat","currency","datetime","DateTimeFormat","relativetime","RelativeTimeFormat","range","list","ListFormat","_format","mem","_parseFormatStr","formatStr","formatName","formatOptions","optStr","opt","_opt$split2","isNaN","parseInt","$cb95bcae1947788f$var$parseFormatStr","formatted","valOptions","formatParams","locale","$cb95bcae1947788f$var$ownKeys$5","$cb95bcae1947788f$var$_objectSpread$5","$cb95bcae1947788f$var$_createSuper$2","$cb95bcae1947788f$var$_isNativeReflectConstruct$2","$cb95bcae1947788f$var$Connector","Connector","backend","waitingReads","maxParallelReads","readingCalls","maxRetries","retryTimeout","queue","languages","toLoad","pending","toLoadLanguages","toLoadNamespaces","hasAllNamespaces","reload","pendingCount","loaded","errors","err","addResourceBundle","q","_getLastOfPath2","$cb95bcae1947788f$var$removePending","done","loadedKeys","fcName","tried","wait","next","queueLoad","loadOne","prepareLoading","_this5","fallbackValue","isUpdate","$cb95bcae1947788f$var$transformOptions","$cb95bcae1947788f$var$ownKeys$6","$cb95bcae1947788f$var$_objectSpread$6","$cb95bcae1947788f$var$_createSuper$3","$cb95bcae1947788f$var$_isNativeReflectConstruct$3","$cb95bcae1947788f$var$noop","$cb95bcae1947788f$var$I18n","I18n","inst","external","getOwnPropertyNames","isInitialized","isClone","initImmediate","defOpts","preload","partialBundledLanguages","ret","tDescription","createClassOnDemand","ClassOrObject","lu","languageDetector","detection","_this2$store","_this2$store2","deferred","finish","initializedStoreOnce","changeLanguage","usedCallback","append","resolvedLanguage","setResolvedLanguage","li","lngInLngs","hasLanguageSomeTranslations","isLanguageChangingTo","setLngProps","setLng","getBestMatchFromCodes","cacheUserLanguage","loadResources","async","detect","keyPrefix","fixedT","opts","rest","resultKey","_this$translator","_this$translator2","exists","_this6","lastLng","loadNotPending","loadState","precheck","preResult","_this7","preloaded","newLngs","_this8","mergedOptions","clone","$cb95bcae1947788f$var$instance","createInstance","reloadResources","use","getFixedT","setDefaultNamespace","loadNamespaces","loadLanguages","$cb95bcae1947788f$export$2e2bcd8739ae039","lang","groups","avatar","getGroupName","group","g","all","i18n","fetch","logout","$c6f88c2c6ea3c4b1$export$2e2bcd8739ae039","$96a962f2c17a303f$exports","__esModule","$989f693df66379f3$var$_typeof","$989f693df66379f3$exports","$8d37f1bd2e4d5aea$var$_typeof","default","$7de4b129a2ef29be$var$_typeof","$a0411826caf064ca$var$_defineProperties","$8d37f1bd2e4d5aea$exports","$7de4b129a2ef29be$exports","$a0411826caf064ca$exports","$52c10a7e0302e632$exports","currentIndex","currentComponent","previousComponent","prevRaf","currentHook","afterPaintEffects","EMPTY","oldBeforeDiff","oldBeforeRender","oldAfterDiff","oldCommit","oldBeforeUnmount","getHookState","hooks","__H","__V","useState","initialState","useReducer","invokeOrReturn","reducer","hookState","_reducer","currentValue","__N","nextValue","_hasScuFromHooks","updateHookState","stateHooks","x","every","prevScu","shouldUpdate","hookItem","prevCWU","useEffect","argsChanged","_pendingArgs","useLayoutEffect","useRef","initialValue","useMemo","useImperativeHandle","createHandle","factory","useCallback","useContext","useDebugValue","useErrorBoundary","errState","useId","__m","mask","flushAfterPaintEffects","invokeCleanup","invokeEffect","requestAnimationFrame","afterNextFrame","hasErrored","HAS_RAF","raf","clearTimeout","timeout","cancelAnimationFrame","hook","comp","cleanup","oldArgs","newArgs","shallowDiffers","y","PureComponent","memo","comparer","nextProps","updateRef","Memoed","displayName","isReactComponent","isPureReactComponent","oldDiffHook","__f","REACT_FORWARD_SYMBOL","for","forwardRef","Forwarded","$$typeof","mapFn","Children","only","normalized","toArray","oldCatchError","oldUnmount","detachedClone","detachedParent","effect","removeOriginal","originalParent","Suspense","__u","_suspenders","suspended","__a","lazy","loader","prom","Lazy","exports","SuspenseList","_next","_map","__R","suspendingVNode","suspendingComponent","onResolved","onSuspensionComplete","suspendedVNode","wasHydrating","detachedComponent","__O","fallback","revealOrder","size","ContextProvider","Portal","container","_container","_temp","before","createPortal","el","containerInfo","delegated","unsuspend","wrappedUnsuspend","Map","reverse","REACT_ELEMENT_TYPE","CAMEL_PROPS","ON_ANI","CAMEL_REPLACE","IS_DOM","onChangeInputType","parent","textContent","preactRender","preactHydrate","oldEventHook","empty","isPropagationStopped","cancelBubble","isDefaultPrevented","defaultPrevented","persist","nativeEvent","classNameDescriptorNonEnumberable","class","oldVNodeHook","lowerCased","multiple","selected","className","oldDiffed","__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED","ReactCurrentDispatcher","readContext","version","createFactory","isValidElement","element","preactCloneElement","unmountComponentAtNode","findDOMNode","unstable_batchedUpdates","flushSync","StrictMode","startTransition","useDeferredValue","useTransition","useInsertionEffect","useSyncExternalStore","subscribe","getSnapshot","_useState","_instance","_getSnapshot","$41e77d45d3c057fa$var$matchHtmlEntity","$41e77d45d3c057fa$var$htmlEntities","$41e77d45d3c057fa$var$unescapeHtmlEntity","$7769fa9636e2bfa3$var$ownKeys","$7769fa9636e2bfa3$var$_objectSpread","$parcel$interopDefault","$7769fa9636e2bfa3$var$i18nInstance","$7769fa9636e2bfa3$var$defaultOptions","bindI18n","bindI18nStore","transEmptyNodeValue","transSupportBasicHtmlNodes","transWrapTextNodes","transKeepBasicHtmlNodesFor","useSuspense","unescape","$7769fa9636e2bfa3$export$5603ab5ced17ce64","$73048c6b859c8a02$export$fd42f52fd3ae1109","$7769fa9636e2bfa3$export$ea171b67e3820290","ReportNamespaces","usedNamespaces","$7769fa9636e2bfa3$export$64af334f494c2f47","$7769fa9636e2bfa3$export$ae7e14d40d89f296","$7769fa9636e2bfa3$export$2e2366488d12e20d","react","$7769fa9636e2bfa3$export$a039134f2fc7e0","possibleLang","en","es","fr","nl","sk","getDefaultLang","querySelector","content","getCurrentLang","initReactI18next","translation","util","isValidUrl","url","URL","limitLength","floor","escapeRegex","getSubpath","baseURI","pathname","toApp","location","origin","genId","seed","random","id2Int","urlRegExp","getUrl","txt","startsWith","link","limitStrSize","limit","humanFullDate","timestamp","d","getTime","getTimezoneOffset","toISOString","humanTime","duration","round","getId","thumbnail","width","height","crop","defaultAvatar","colorHash","backgroundHash","c1","c2","is_it_enter","keyCode","getVersion","getWidthBreakpoint","innerWidth","$30ef6c271b4e9124$export$2e2bcd8739ae039","sendFile","formData","loadFn","progressFn","errorFn","apiKey","xhr","XMLHttpRequest","open","setRequestHeader","status","response","statusText","upload","onprogress","catch","nocache","delay","h","method","headers","Headers","ok","json","contentType","request","put","fetchOptions","exception","message","$dcc08ede0b85ca51$export$2e2bcd8739ae039","LIMIT","matchNotification","fromMessage","removeAllNotifications","markAllNotificationsAsRead","removeMatchingNotifications","markAsRead","notif","bookmarks_utils","router","removeSubpath","getEntity","isEntity","getParam","param","searchParams","decodeURIComponent","getSegments","isOutside","getUrlComponents","components","_alert","info","_http","_lang","_me","_storage","_util","$0f4d54e2115f3ae0$exports","$836bb6f8ac925f19$exports","_i","_s","_e","_x","_r","_arr","_n","_d","$0770eecc7cf2705f$exports","$69badd8e9720e718$exports","$8948bff4a00b46d7$export$c106dd0671a0fc2d","_console","$60fa399380c2cbe7$exports","$93ea8ed0685ac00c$exports","$8948bff4a00b46d7$var$alreadyWarned","$8948bff4a00b46d7$export$5b28268982f175ba","$8948bff4a00b46d7$export$83be934b53fff43b","initialized","off","$8948bff4a00b46d7$export$93d9ee97c1ad3f31","i18nInstance","$8948bff4a00b46d7$var$oldI18nextHasLoadedNamespace","$23287d5819478a30$var$ownKeys","$23287d5819478a30$var$_objectSpread","Action","$23287d5819478a30$var$usePrevious","ignore","$88a9540d1aad6464$export$b8f5890fc79d6aca","$88a9540d1aad6464$export$6d9c69b0de29b591","$23287d5819478a30$export$9fc83ad70ead8663","i18nFromProps","_ref","$88a9540d1aad6464$export$fae74005e78b1a27","i18nFromContext","defaultNSFromContext","reportNamespaces","notReadyT","retNotReady","ready","i18nOptions","addUsedNamespaces","getT","nsMode","$88a9540d1aad6464$export$60241385465d0a34","_useState2","setT","joinedNS","previousJoinedNS","isMounted","boundReset","isInitial","PopStateEventType","createBrowserHistory","getUrlBasedHistory","globalHistory","createLocation","usr","to","createPath","invariant","warning","cond","getHistoryState","$c846480b5114588d$var$_extends","parsePath","substr","parsedPath","hashIndex","searchIndex","getLocation","createHref","validateLocation","defaultView","v5Compat","history","Pop","getIndex","handlePop","nextIndex","delta","createURL","href","replaceState","listen","encodeLocation","Push","historyState","pushState","Replace","go","ResultType","Set","matchRoutes","routes","locationArg","basename","stripBasename","branches","flattenRoutes","score","siblings","compareIndexes","routesMeta","meta","childrenIndex","rankRouteBranches","matches","matchRouteBranch","safelyDecodeURI","parentsMeta","parentPath","flattenRoute","relativePath","caseSensitive","joinPaths","computeScore","_route$path","exploded","explodeOptionalSegments","segments","first","isOptional","required","restExploded","subpath","paramRe","dynamicSegmentValue","indexRouteValue","emptySegmentValue","staticSegmentValue","splatPenalty","isSplat","initialScore","segment","branch","matchedParams","matchedPathname","end","remainingPathname","matchPath","params","pathnameBase","normalizePathname","pattern","matcher","paramNames","regexpSource","paramName","compilePath","captureGroups","splatValue","safelyDecodeURIComponent","decodeURI","startIndex","nextChar","getInvalidPathError","char","field","dest","getPathContributingMatches","resolveTo","toArg","routePathnames","locationPathname","isPathRelative","isEmptyPath","toPathname","routePathnameIndex","toSegments","resolvePath","fromPathname","resolvePathname","normalizeSearch","normalizeHash","hasExplicitTrailingSlash","hasCurrentTrailingSlash","AbortedDeferredError","isRouteErrorResponse","internal","validMutationMethodsArr","validRequestMethodsArr","React","checkIfSnapshotChanged","latestGetSnapshot","prevValue","shim","getServerSnapshot","handleStoreChange","DataRouterContext","DataRouterStateContext","NavigationContext","LocationContext","RouteContext","outlet","RouteErrorContext","useHref","relative","useInRouterContext","useResolvedPath","joinedPathname","useLocation","useNavigate","routePathnamesJson","activeRef","useParams","routeMatch","_temp2","DefaultErrorComponent","_state$errors","useDataRouterState","DataRouterStateHook","UseRouteError","routeId","useCurrentRouteId","useRouteError","lightgrey","preStyles","padding","backgroundColor","$d51ff6fbc6548743$exports","fontStyle","RenderErrorBoundary","super","static","$2e634cb2b6e12a73$export$9072aa6dd1f93057","routeContext","$2e634cb2b6e12a73$var$RouteErrorContext","RenderedRoute","dataRouterContext","staticContext","errorElement","ErrorBoundary","_deepestRenderedBoundaryId","_renderMatches","parentMatches","dataRouterState","renderedMatches","errorIndex","findIndex","min","reduceRight","$2e634cb2b6e12a73$var$DefaultErrorComponent","getChildren","$2e634cb2b6e12a73$var$RenderedRoute","$2e634cb2b6e12a73$var$RenderErrorBoundary","DataRouterHook","hookName","useRouteContext","thisRoute","Navigate","_ref3","navigate","navigation","Route","Router","_ref4","basenameProp","locationProp","navigationType","NavigationType","staticProp","navigationContext","locationContext","trailingPathname","$2e634cb2b6e12a73$export$26749e8557646306","$2e634cb2b6e12a73$export$c7914228fb69b0f5","Routes","_ref5","dataRouterStateContext","parentParams","parentPathnameBase","locationFromContext","_parsedLocationArg$pa","parsedLocationArg","$2e634cb2b6e12a73$var$_extends","useRoutes","createRoutesFromChildren","AwaitRenderStatus","AwaitErrorBoundary","renderError","_tracked","_error","_data","success","neverSettledPromise","$2e634cb2b6e12a73$var$AwaitContext","treePath","hasErrorBoundary","shouldRevalidate","BrowserRouter","historyRef","isBrowser","ABSOLUTE_URL_REGEX","Link","absoluteHref","onClick","reloadDocument","preventScrollReset","$34f84368c0c9d98a$var$_objectWithoutPropertiesLoose","$34f84368c0c9d98a$var$_excluded","isExternal","currentUrl","targetUrl","protocol","internalOnClick","useLinkClickHandler","replaceProp","button","metaKey","altKey","ctrlKey","shiftKey","isModifiedEvent","shouldProcessLinkClick","preventDefault","$34f84368c0c9d98a$var$_extends","$ec34f7025013ec94$exports","$3f3845f28076355d$exports","excluded","sourceKeys","$1fc9f677ed11a4b2$exports","sourceSymbolKeys","propertyIsEnumerable","$ee5bb531210bb8d0$var$_excluded","$ee5bb531210bb8d0$var$ownKeys","$ee5bb531210bb8d0$var$_objectSpread","$ee5bb531210bb8d0$export$2dcb0053efd21124","WrappedComponent","I18nextWithTranslation","forwardedRef","_useTranslation","_useTranslation2","passDownProps","tReady","withRef","$73048c6b859c8a02$export$c8a8987d4410bf2d","$d51ff6fbc6548743$export$257a8862b851cb5b","$10fcb144e46b2198$export$2e2bcd8739ae039","withTranslation","$6e64521ddde455b6$export$2e2bcd8739ae039","Message","isChild","$02bd391920972de4$export$2e2bcd8739ae039","useTranslation","firstDisplayedChild","setFirstDisplayedChild","lastDisplayedChild","setLastDisplayedChild","onNewChild","newMsg","detail","childMessages","msgIndex","max","MessageChild","$d385cb0a744355a5$export$2e2bcd8739ae039","isPublic","author","src","title","FaIcon","icon","regular","comment","images","bell","solid","film","times","family","rotation","viewBox","fill","$5fa7d79990e2bc5d$export$554ccc96b126a426","$5fa7d79990e2bc5d$var$useIsomorphicLayoutEffect","$88a9540d1aad6464$export$e5c5a5f917a5871c","$5fa7d79990e2bc5d$export$11aeef812f154e9e","rerender","changed","$88a9540d1aad6464$export$1538c33de8887b59","GroupSearch","groupId","setLoaded","setSearch","hashtags","setHashtags","messages","setMessages","loadMessages","msg","MessageSearchResult","tabindex","GroupSearchWrapper","Navbar","GroupsDropdownNavbar","currentTarget","toggle","useStoreon","onError","NotificationsDropdownNavbar","Search","notifs","Notification","_extends","$dd2a1b0379ca9bf9$export$2e2bcd8739ae039","postNewGroup","secretKey","minlength","maxlength","placeholder","$471cd1c649eea7ba$export$2e2bcd8739ae039","embedUrl","revealed","preview","$1dd5e274a4fb4aa6$export$2e2bcd8739ae039","allowfullscreen","playBtnClass","$42107f3179039eb0$exports","A","L","P","O","evt","eventName","onElement","withCallback","avoidDuplicate","once","u","T","destroy","C","querySelectorAll","contains","parentElement","msMatchesSelector","webkitTransform","MozTransform","msTransform","OTransform","transform","display","createDocumentFragment","documentElement","clientWidth","innerHeight","clientHeight","animation","OAnimation","MozAnimation","WebkitAnimation","setInterval","clearInterval","S","I","getElementsByTagName","rel","media","onload","w","E","isFinite","M","parseFloat","z","getAttribute","X","keyboard","activeElement","nodeName","toLocaleLowerCase","focus","nextSlide","prevSlide","close","Y","sqrt","acos","PI","N","handlers","D","start","move","cancel","preV","pinchStartLen","zoom","isDoubleTap","rotate","touchStart","multipointStart","multipointEnd","pinch","swipe","tap","doubleTap","longTap","singleTap","pressMove","twoFingerPressMove","touchMove","touchEnd","touchCancel","translateContainer","_cancelAllHandler","cancelAll","last","tapTimeout","singleTapTimeout","longTapTimeout","swipeTimeout","x1","x2","y1","y2","preTapPosition","touches","pageX","pageY","_cancelLongTap","_cancelSingleTap","_preventTap","angle","sx2","deltaX","deltaY","sy2","changedTouches","direction","_swipeDirection","del","W","transition","OTransition","MozTransition","WebkitTransition","opacity","B","targetTouches","clientX","clientY","activeSlide","offsetHeight","settings","touchFollowAxis","scaleX","scaleY","elements","touch","H","img","slide","onclose","setZoomEvents","active","zoomedIn","dragging","currentX","currentY","initialX","initialY","xOffset","yOffset","dragStart","dragEnd","drag","zoomOut","zoomIn","widowWidth","maxWidth","naturalWidth","maxHeight","naturalHeight","setTranslate","isDragging","V","dragEl","toleranceX","toleranceY","lastDirection","toleranceReached","dragContainer","doSlideChange","preventOutsideClick","doSlideClose","shouldChange","dragAutoSnap","shouldClose","lastChild","Image","sizes","srcset","alt","description","_hasCustomWidth","_hasCustomHeight","F","getAllPlayers","plyr","css","videoProvider","js","config","Plyr","dataset","resize","R","G","cloneNode","Z","allow","appendTo","U","defaults","descPosition","zoomable","draggable","sourceType","setSize","sanitizeValue","DOMException","slideConfig","checkSize","videosWidth","$","beforeSlideLoad","player","afterSlideLoad","getSlidePlayerInstance","moreLength","smallDescription","slideShortDesc","moreText","descriptionEvents","dragToleranceX","dragToleranceY","offsetWidth","innerText","slideHTML","slideExtraAttributes","parseConfig","J","K","createTouch","msMaxTouchPoints","Q","ee","selector","skin","theme","closeButton","startAt","autoplayVideos","autofocusVideos","beforeSlideChange","afterSlideChange","slideInserted","slideRemoved","onOpen","onClose","loop","oneSlidePerOpen","touchNavigation","keyboardNavigation","closeOnOutsideClick","plugins","ratio","fullscreen","enabled","iosNative","youtube","noCookie","showinfo","iv_load_policy","vimeo","byline","portrait","transparent","openEffect","closeEffect","slideEffect","cssEfects","fade","in","slideBack","none","svg","prev","lightboxHTML","te","customOptions","effectsClasses","getAnimationClasses","videoPlayers","apiEvents","fullElementsList","getSelector","baseEvents","getElements","prevActiveSlideIndex","prevActiveSlide","getGalleryElements","getElementIndex","build","overlay","head","showSlide","prevButton","nextButton","lightboxOpen","trigger","slidesContainer","slideAnimateOut","slideAnimateIn","slideNode","slideIndex","setContent","slideDescription","slideDescriptionContained","preloadSlide","updateNavigationClasses","goToSlide","getConfig","getActiveSlideIndex","slidePlayerPlay","slidePlayerPause","playing","pause","play","muted","gallery","built","hasAttribute","modal","bodyHiddenChildElms","outClose","loopAtEnd","closing","clearAllEvents","CLASS_PREFIX","ALLOWED_EFFECTS","DROP_EFFECTS","supportsPassiveEventListener","supportsPassiveEventListeners","supportsPassive","isDOMElement","tagName","addDocumentListener","ev","handler","passive","removeDocumentListener","onEvt","capture","average","array","isTouchIdentifierContainedInTouchEvent","touchEvent","touchIdentifier","identifier","updateCentroidCoordinatesOfTouchesIn","coordinateProp","outPoint","pageXs","pageYs","TRANSFORM_CSS_VENDOR_PREFIXES","translateElementToPoint","pnt","originalTransforms","offset","centerOnCoordinates","transformProp","DataTransfer","_dropEffect","_dataStore","mode","freeze","types","effectAllowed","setData","getData","clearData","setDragImage","image","_setDragImageHandler","determineDropEffect","sourceNode","dispatchDragEvent","dragEvent","targetElement","dataStore","dataTransfer","cancelable","relatedTarget","leaveEvt","dndEvent","Event","bubbles","screenX","screenY","targetRect","getBoundingClientRect","offsetX","left","offsetY","top","cancelled","determineDragOperation","dropEffect","DragOperationController","_setup","_dragOperationState","_currentDragOperation","_dragDataStore","_currentHotspotCoordinates","_dragImagePageCoordinates","dragImageSrc","_sourceNode","_dataTransfer","_dragImageOffset","_lastTouchEvent","_cleanup","cs","dragImage","_config","dragImageSetup","_dragImageTransforms","position","zIndex","_dragImage","dragImageOffset","dragImageCenterOnTouch","getComputedStyle","marginLeft","marginTop","_initialTouch","_iterationIntervalId","_iterationLock","_dragAndDropProcessModelIteration","iterationInterval","_touchMoveHandler","_touchEndOrCancelHandler","_dragOperationEndedCb","_onTouchMove","startDrag","dragStartConditionOverride","_initialEvent","dragImageTranslateOverride","handledDragImageTranslate_1","_immediateUserSelection","_onTouchEndOrCancel","previousDragOperation","dragImageTransforms","csDragImage","dragCancelled","_dragOperationEnded","sourceEl","transitionEndCb","_finishDragOperation","visibility","durationInS","transitionDuration","rect","scrollLeft","scrollTop","delayInS","transitionDelay","durationInMs","newUserSelection","elementFromPoint","previousTargetElement","_currentDropTarget","currentDragOperationClass","dragFailed","activeDragOperation","tryFindDraggableTarget","cp_1","composedPath","prepareNodeCopyAsDragImage","srcNode","dstNode","canvasDst","canvasSrcImgData","csName","getPropertyValue","getPropertyPriority","pointerEvents","canvasSrc","getContext","getImageData","putImageData","hasChildNodes","removePointerEventsFromShadoDomChildNodes","HTMLElement","shadowRoot","customEl","onTouchstart","dragTarget","dragOperationEnded","onDelayTouchstart","onReleasedItem","scroll","EVENT_PREFIX","timer","holdToDrag","defaultActionOverride","override","forceApply","isBlinkEngine","chrome","detectedFeatures","dragEvents","userAgentSupportingNativeDnD","$a64402709a5ef811$exports","EmbedBlock","lightbox","setLightbox","GLightbox","getPreview","GenericEmbed","BandCampEmbed","video_id","playlist_id","host","timecode","stopPropagation","getElementsByClassName","setElements","closest","openLightbox","controls","FileGrid","toggleFile","files","MiniFile","invertFiles","file","inWriter","BigFile","filePath","contentUrl","poster","removed","progress","innerRef","polyfill","cp","fileDragStart","fileDragEnd","fileDragEnter","fileDragLeave","fileDragOver","fileDrop","GroupWriter","Writer","setFiles","sending","setSending","uploading","setUploading","setValue","useForceUpdate","writerId","currentFiles","setForm","writerForm","updateFile","uploadFile","fileId","FormData","inputFile","addFiles","mimetype","input_files","WritingWidget","accept","click","sendMessage","messageId","putMessage","postMessage","lastActivityDate","id_a","id_b","index_a","index_b","setPreview","setLink","setText","setTitle","cleanForm","genPreview","scrollHeight","links","encodeURIComponent","onKeyPress","doGenPreview","onChange","onPaste","clipboardData","rows","autocomplete","autofocus","video","pdf","disabled","BookmarkBoard","MessagePreview","CreateGroup","_CreateGroup","GroupBoard","MessageList","HumanTime","setTarget","setAction","setAuthor","setNotification","setMiniatureOnError","getTarget","fromGroup","getAction","fromUser","imgSrc","miniature","getMiniature","parentAuthorName","getObject","RandomMessage","setMessage","onSubmit","group_id","searchTerms","normalize","Share","URLSearchParams","setUrl","setGroup","meService","user","readonly","$d0274a88e468a969$export$2e2bcd8739ae039","editMessage","deleteMessage","openPublicLink","shareMessage","isInFront","publishInGroup","$5345fa5f2538b9ef$export$2e2bcd8739ae039","previewUrl","displayMessageText","$7cd04194507a3338$export$2e2bcd8739ae039","lineage","breadcrumbs","setBreadcrumbs","getTitle","previewLink","ids","loadBreadcrumbs","stack_truncated","breadcrumbs_truncated","$48e0eac2816dd5e6$export$2e2bcd8739ae039","setParent","isRemoved","setIsRemoved","edit","setEdit","messageRef","setMessageRef","onEditMessage","loadMessage","scrollTo","msgElement","scrollIntoView","block","behavior","hydrateMessage","token","newChildren","newRef","cancelEdit","displayWriter","MessageBreadcrumbs","getComponentClass","cn","MessageHead","MessageBody","MessageFooter","confirm","newTab","postMessageComponent","MessageChildren","_Message","screen","totalMessages","pageYOffset","page","scroll_cooldown","onScroll","onNewParent","new_loaded","msgList","prevState","MessageParent","setId","setLastActivityDate","setChildren","displayAuthorName","authorName","words","displayMessageTitle","lines","Login","showResetPassword","setShowResetPassword","login","password","api_key","redirect","default_group","sendLoginForm","mail","sendPasswordReset","PasswordReset","passwordConfirmation","sendNewPassword","Signup","invite_key","sendSignupForm","StopNotificationEmails","_StopNotificationEmails","Public","$69115444f08d0dc6$export$2e2bcd8739ae039","setSecretKey","users","setUsers","alertMessage","setAlertMessage","leave","leaveGroup","$eee779cb2410b301$export$2e2bcd8739ae039","setApiKey","inputAvatar","notification_emails","updateSettings","Settings","UserSettings","GroupSettings","$63a436771d8fc45d$export$2e2bcd8739ae039","toggleDropdowns","MainRouter","StoreContext","App"],"version":3,"file":"index.722a49cb.js.map"}